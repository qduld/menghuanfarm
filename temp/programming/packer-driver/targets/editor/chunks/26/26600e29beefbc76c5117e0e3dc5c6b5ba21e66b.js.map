{"version":3,"sources":["file:///E:/lianlukeji/frontend/cocos/menghuanfarm/assets/code/main.ts"],"names":["_decorator","Component","Node","find","instantiate","Layers","resources","Sprite","SpriteFrame","Label","director","sys","AudioSource","genPlant","timer","paiHang","param","wechatAd","ccclass","property","msgBox","jinbi","mainAd3","main","start","preloadScene","platform","Platform","WECHAT_GAME","getScene","name","screenWidth","wx","getSystemInfoSync","mainAd1","createBannerAd","adUnitId","adid","style","left","top","width","adIntervals","show","onError","err","console","log","screenHeight","createInterstitialAd","mainAd2","clickLoginBtn","btn","getComponent","play","clickBtn","login","loadScene","isStart","init","nickName","string","nickname","load","avata","spriteFrame","userAvata","sizeMode","SizeMode","CUSTOM","money","toString","time","levelTime","hide","addSalePack","type","sale_item","mySaleBox","getChildByName","addSalePackCount","active","layer","Enum","UI_2D","setParent","setPosition","addChild","addPack","clone_item","myPackBox","addPackCount","addPaiHang","forEach","item","index","paiHangBox","position","y","sp","storeBox","_genPlant","addPlants","img","chengshuImg","saleBox","update","deltaTime","showDialog","event","currentTarget","mainAd8","createCustomAd","mainAd9","closeDialog","parent","showMsg","msg","mg","scheduleOnce","callback","buyPlant","mySaleBoxItems","children","length","currentJinbi","parseInt","price","arrIndex","findIndex","removePack","destroy","salePlant","boZhong","plants","Timer","adCalcTime","customEventData","currentMoney","adGiveMoney","videoAd","createRewardedVideoAd","onClose","res","isEnded","undefined","share"],"mappings":"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","sourcesContent":["import { _decorator, Component, Node, tween, CCInteger, Vec3, CCFloat, find, EventTouch, instantiate, Layers, resources, Sprite, SpriteFrame, UITransform, Label, director, Scene, sys, assetManager, AudioClip, AudioSource } from 'cc';\r\nimport { genPlant } from './genPlant';\r\nimport { timer } from './timer';\r\nimport {\r\n    paiHang,\r\n    param, wechatAd\r\n} from './loadData';\r\n\r\nconst { ccclass, property } = _decorator;\r\nlet myPackBox: Node, mySaleBox: Node, storeBox: Node, paiHangBox: Node, msgBox: Node = null;\r\nlet userAvata: Node, nickName: Node, jinbi: Node = null;\r\nlet mainAd1, mainAd2, mainAd3 = null;\r\n//0 橘子香蕉西红柿幼苗，1 红富士苹果幼苗,2 紫金冠茄幼苗,3 红森胡萝卜幼苗\r\n@ccclass('main')\r\nexport class main extends Component {\r\n    public static addSalePackCount: number = 0;\r\n    public static addPackCount: number = 0;\r\n    public static saleBox: Node = null;\r\n    // @property([Node])\r\n    // fingerFlows\r\n    start() {\r\n        director.preloadScene(\"main\");\r\n        //login顶部banner广告\r\n        if (sys.platform === sys.Platform.WECHAT_GAME && director.getScene().name === \"login\") {\r\n            let { screenWidth } = wx.getSystemInfoSync()\r\n            mainAd1 = wx.createBannerAd({\r\n                adUnitId: wechatAd[0].adid,\r\n                style: {\r\n                    left: 0,\r\n                    top: 0,\r\n                    width: screenWidth,\r\n                },\r\n                //自动刷新\r\n                adIntervals: 30,\r\n            });\r\n            if (mainAd1 !== null) {\r\n                mainAd1.show();\r\n                mainAd1.onError(err => {\r\n                    console.log(err)\r\n                })\r\n            }\r\n        }\r\n        if (sys.platform === sys.Platform.WECHAT_GAME && director.getScene().name === \"main\") {\r\n            let { screenWidth, screenHeight } = wx.getSystemInfoSync()\r\n            //main场景插屏广告\r\n            mainAd3 = wx.createInterstitialAd({\r\n                adUnitId: wechatAd[2].adid,\r\n            });\r\n            if (mainAd3 !== null) {\r\n                mainAd3.show();\r\n                mainAd3.onError(err => {\r\n                    console.log(err)\r\n                })\r\n            }\r\n            //main场景底部banner广告\r\n            mainAd2 = wx.createBannerAd({\r\n                adUnitId: wechatAd[1].adid,\r\n                style: {\r\n                    left: 0,\r\n                    top: screenHeight - 60,\r\n                    width: screenWidth,\r\n                },\r\n                //自动刷新\r\n                adIntervals: 30,\r\n            });\r\n            if (mainAd2 !== null) {\r\n                mainAd2.show();\r\n                mainAd2.onError(err => {\r\n                    console.log(err)\r\n                })\r\n            }\r\n        }\r\n        //手指跟随\r\n        // const finger = find(\"MainCanvas/op/finger\");\r\n        // this.fingerFlows.forEach(item => {\r\n        //     item.on(Node.EventType.TOUCH_END, function (event: EventTouch) {\r\n        //         finger.parent.active = true;\r\n        //         const position = item.getPosition();\r\n        //         finger.setPosition(new Vec3(position.x + 30, position.y - 30, 0));\r\n        //     }, this);\r\n        // });\r\n\r\n    }\r\n    clickLoginBtn() {\r\n        const btn = find(\"Canvas/btnClick\");\r\n        btn.getComponent(AudioSource).play();\r\n    }\r\n    clickBtn() {\r\n        const btn = find(\"MainCanvas/btnClick\");\r\n        btn.getComponent(AudioSource).play();\r\n    }\r\n    login() {\r\n        director.loadScene(\"main\", () => {\r\n            //游戏开始倒计时\r\n            timer.isStart = true;\r\n            this.init();\r\n            nickName.getComponent(Label).string = param.nickname;\r\n            resources.load(param.avata, SpriteFrame, (err, spriteFrame) => {\r\n                userAvata.getComponent(Sprite).sizeMode = Sprite.SizeMode.CUSTOM;\r\n                userAvata.getComponent(Sprite).spriteFrame = spriteFrame;\r\n            });\r\n            jinbi.getComponent(Label).string = param.money.toString();\r\n            timer.time = param.levelTime;\r\n            if (sys.platform === sys.Platform.WECHAT_GAME) {\r\n                if (mainAd1 !== null) {\r\n                    mainAd1.hide();\r\n                }\r\n                if (mainAd2 !== null) {\r\n                    mainAd2.hide();\r\n                }\r\n            }\r\n        });\r\n    }\r\n    //类型，索引\r\n    static addSalePack(type: number) {\r\n        let sale_item = new Node();\r\n        //成熟果实仅仅可以售卖 只入包一次\r\n        if (type === 10) {\r\n            sale_item = instantiate(mySaleBox.getChildByName(\"items\").getChildByName(\"fanqie_base\"));\r\n            sale_item.name = \"fanqie\";\r\n        }\r\n        if (type === 11) {\r\n            sale_item = instantiate(mySaleBox.getChildByName(\"items\").getChildByName(\"pingguo_base\"));\r\n            sale_item.name = \"pingguo\";\r\n        }\r\n        if (type === 12) {\r\n            sale_item = instantiate(mySaleBox.getChildByName(\"items\").getChildByName(\"qiezi_base\"));\r\n            sale_item.name = \"qiezi\";\r\n        }\r\n        if (type === 13) {\r\n            sale_item = instantiate(mySaleBox.getChildByName(\"items\").getChildByName(\"huluobo_base\"));\r\n            sale_item.name = \"huluobo\";\r\n        }\r\n\r\n        main.addSalePackCount++;\r\n        sale_item.active = true;\r\n        sale_item.layer = Layers.Enum.UI_2D;\r\n        sale_item.setParent(mySaleBox);\r\n        //果实背包只放一条记录，后期改成scrollview组件即可，多条的话会出现位置不对的bug\r\n        sale_item.setPosition(-60, 271 - 189 * main.addSalePackCount, 0);\r\n        mySaleBox.getChildByName(\"items\").addChild(sale_item);\r\n    }\r\n    static addPack(type: number) {\r\n        //动态添加背包\r\n        //种子 仅仅可以种植\r\n        let clone_item = new Node();\r\n        if (type === 0) {\r\n            clone_item = instantiate(myPackBox.getChildByName(\"items\").getChildByName(\"fanqiezz_base\"));\r\n            clone_item.name = \"fanqiezz\";\r\n        }\r\n        if (type === 1) {\r\n            clone_item = instantiate(myPackBox.getChildByName(\"items\").getChildByName(\"pingguozz_base\"));\r\n            clone_item.name = \"pingguozz\";\r\n        }\r\n        if (type === 2) {\r\n            clone_item = instantiate(myPackBox.getChildByName(\"items\").getChildByName(\"qiezizz_base\"));\r\n            clone_item.name = \"qiezizz\";\r\n        }\r\n        if (type === 3) {\r\n            clone_item = instantiate(myPackBox.getChildByName(\"items\").getChildByName(\"huluobozz_base\"));\r\n            clone_item.name = \"huluobozz\";\r\n        }\r\n        main.addPackCount++;\r\n        clone_item.active = true;\r\n        clone_item.layer = Layers.Enum.UI_2D;\r\n        clone_item.setParent(myPackBox);\r\n        clone_item.setPosition(-60, 271 - 189 * main.addPackCount, 0);\r\n        myPackBox.getChildByName(\"items\").addChild(clone_item);\r\n    }\r\n    addPaiHang() {\r\n        //动态添加排行榜\r\n        paiHang.forEach((item, index) => {\r\n            const clone_item = instantiate(paiHangBox.getChildByName(\"items\"));\r\n            clone_item.layer = Layers.Enum.UI_2D;\r\n            clone_item.setParent(paiHangBox);\r\n            clone_item.setPosition(0, 0 - clone_item.position.y - 240 * index, 0);\r\n            const name = clone_item.getChildByName(\"box\")\r\n                .getChildByName(\"txtBox\")\r\n                .getChildByName(\"name\");\r\n            name.getComponent(Label).string = item.nickName;\r\n            resources.load(item.top === 1 ? \"1/spriteFrame\" : item.top === 2 ? \"2/spriteFrame\" : \"3/spriteFrame\", SpriteFrame, (err, spriteFrame) => {\r\n                const top = clone_item.getChildByName(\"box\")\r\n                    .getChildByName(\"txtBox\")\r\n                    .getChildByName(\"top\");\r\n                top.getComponent(Sprite).sizeMode = Sprite.SizeMode.CUSTOM;\r\n                top.getComponent(Sprite).spriteFrame = spriteFrame;\r\n            });\r\n            resources.load(item.userAvata, SpriteFrame, (err, spriteFrame) => {\r\n                const sp = clone_item.getChildByName(\"box\")\r\n                    .getChildByName(\"txtBox\")\r\n                    .getChildByName(\"pro\");\r\n                sp.getComponent(Sprite).sizeMode = Sprite.SizeMode.CUSTOM;\r\n                sp.getComponent(Sprite).spriteFrame = spriteFrame;\r\n            });\r\n            paiHangBox.addChild(clone_item);\r\n        });\r\n    }\r\n    init() {\r\n        //种子背包\r\n        myPackBox = find(\"MainCanvas/popBox/mypack\"),\r\n            //果实背包\r\n            mySaleBox = find(\"MainCanvas/popBox/mysalepack\"),\r\n            storeBox = find(\"MainCanvas/popBox/store\"),\r\n            paiHangBox = find(\"MainCanvas/popBox/paihang\"),\r\n            msgBox = find(\"MainCanvas/popBox/msgBox\");\r\n\r\n        userAvata = find(\"MainCanvas/touxiangkuang/userAvata\"),\r\n            nickName = find(\"MainCanvas/touxiangkuang/nickname\"),\r\n            jinbi = find(\"MainCanvas/jinbi/boxbg/txt\");\r\n        //默认添加胡萝卜到商店植物 胡萝卜最便宜\r\n        genPlant._genPlant.addPlants({\r\n            name: \"huluobo\",\r\n            img: \"huluobozz\",\r\n            chengshuImg: \"huluobo\"\r\n        });\r\n\r\n        main.saleBox = mySaleBox;\r\n        main.addPackCount = 0;\r\n        main.addSalePackCount = 0;\r\n    }\r\n    update(deltaTime: number) {\r\n\r\n    }\r\n    //弹窗\r\n    showDialog(event: EventTouch) {\r\n        switch (event.currentTarget.name) {\r\n            case \"package\":\r\n                myPackBox.active = true;\r\n                if (sys.platform === sys.Platform.WECHAT_GAME) {\r\n                    //种子背包原生模板\r\n                    let mainAd8 = wx.createCustomAd({\r\n                        adUnitId: wechatAd[8].adid,\r\n                        style: {\r\n                            left: 50,\r\n                            top: 550,\r\n                            width: 650,\r\n                        },\r\n                        //自动刷新\r\n                        adIntervals: 30,\r\n                    })\r\n                    if (mainAd8 !== null) {\r\n                        // 用户触发广告后，显示激励视频广告\r\n                        mainAd8.show();\r\n                        mainAd8.onError(err => {\r\n                            console.log(err)\r\n                        })\r\n                    }\r\n                }\r\n                break;\r\n            case \"package_guoshi\":\r\n                mySaleBox.active = true;\r\n                if (sys.platform === sys.Platform.WECHAT_GAME) {\r\n\r\n                    if (mainAd2 !== null) {\r\n                        mainAd2.show();\r\n                        mainAd2.onError(err => {\r\n                            console.log(err)\r\n                        })\r\n                    }\r\n                    //果实背包原生模板\r\n                    let mainAd9 = wx.createCustomAd({\r\n                        adUnitId: wechatAd[9].adid,\r\n                        style: {\r\n                            left: 50,\r\n                            top: 550,\r\n                            width: 650,\r\n                        },\r\n                        //自动刷新\r\n                        adIntervals: 30,\r\n                    })\r\n                    if (mainAd9 !== null) {\r\n                        // 用户触发广告后，显示激励视频广告\r\n                        mainAd9.show();\r\n                        mainAd9.onError(err => {\r\n                            console.log(err)\r\n                        })\r\n                    }\r\n                }\r\n                break;\r\n            case \"zhishipai\":\r\n                storeBox.active = true;\r\n                break;\r\n            case \"rongyaobang\":\r\n                this.addPaiHang();\r\n                paiHangBox.active = true;\r\n                break;\r\n        }\r\n    }\r\n    closeDialog(event: EventTouch) {\r\n        let type = event.currentTarget.parent.name + \"_\" + event.currentTarget.name;\r\n        switch (type) {\r\n            case \"store_close\":\r\n                storeBox.active = false;\r\n                break;\r\n            case \"mypack_close\":\r\n                myPackBox.active = false;\r\n                break;\r\n            case \"mysalepack_close\":\r\n                mySaleBox.active = false;\r\n            case \"paihang_close\":\r\n                paiHangBox.active = false;\r\n                break;\r\n        }\r\n    }\r\n    //弹消息\r\n    showMsg(msg: string) {\r\n        const mg = msgBox.getChildByName(\"msgTxt\").getComponent(Label);\r\n        mg.string = msg;\r\n        msgBox.active = true;\r\n        this.scheduleOnce(function callback() {\r\n            msgBox.active = false;\r\n        }, 1);\r\n    }\r\n    //购买种子  进背包\r\n    buyPlant(event: EventTouch) {\r\n        //必须把种子背包的种子用完才可以购买种子\r\n        const mySaleBoxItems = find(\"MainCanvas/popBox/mypack/items\");\r\n        if (mySaleBoxItems.children.length > 4) {\r\n            this.showMsg(\"种子尚未使用完毕！\");\r\n            return;\r\n        }\r\n\r\n        const currentJinbi = parseInt(jinbi.getComponent(Label).string);\r\n        let price = 0;\r\n        if (event.currentTarget.parent.parent.name === \"fanqiezz\") {\r\n            price = 300;\r\n            if (currentJinbi - price <= 0) {\r\n                this.showMsg(\"金币不足！\"); return;\r\n            } else {\r\n                if (main.addPackCount > 3) {\r\n                    this.showMsg(\"种子背包已满！\");\r\n                    return;\r\n                }\r\n                let arrIndex = myPackBox.getChildByName(\"items\").children.findIndex(item => {\r\n                    return item.name === \"fanqiezz\"\r\n                })\r\n                if (arrIndex > -1) {\r\n                    this.showMsg(\"已购买此种子！\");\r\n                    return;\r\n                }\r\n                main.addPack(0);\r\n                jinbi.getComponent(Label).string = (currentJinbi - price).toString();\r\n                myPackBox.active = false;\r\n                this.showMsg(\"购买成功！\"); return;\r\n            }\r\n        } if (event.currentTarget.parent.parent.name === \"pingguozz\") {\r\n            price = 180;\r\n            if (currentJinbi - price <= 0) {\r\n                this.showMsg(\"金币不足！\"); return;\r\n            } else {\r\n                if (main.addPackCount > 3) {\r\n                    this.showMsg(\"种子背包已满！\");\r\n                    return;\r\n                }\r\n                let arrIndex = myPackBox.getChildByName(\"items\").children.findIndex(item => {\r\n                    return item.name === \"pingguozz\"\r\n                })\r\n                if (arrIndex > -1) {\r\n                    this.showMsg(\"已购买此种子！\");\r\n                    return;\r\n                }\r\n                main.addPack(1);\r\n                jinbi.getComponent(Label).string = (currentJinbi - price).toString();\r\n                myPackBox.active = false;\r\n                this.showMsg(\"购买成功！\"); return;\r\n            }\r\n        } if (event.currentTarget.parent.parent.name === \"qiezizz\") {\r\n            price = 120;\r\n            if (currentJinbi - price <= 0) {\r\n                this.showMsg(\"金币不足！\"); return;\r\n            } else {\r\n                if (main.addPackCount > 3) {\r\n                    this.showMsg(\"种子背包已满！\");\r\n                    return;\r\n                }\r\n                let arrIndex = myPackBox.getChildByName(\"items\").children.findIndex(item => {\r\n                    return item.name === \"qiezizz\"\r\n                })\r\n                if (arrIndex > -1) {\r\n                    this.showMsg(\"已购买此种子！\");\r\n                    return;\r\n                }\r\n                main.addPack(2);\r\n                jinbi.getComponent(Label).string = (currentJinbi - price).toString();\r\n                myPackBox.active = false;\r\n                this.showMsg(\"购买成功！\"); return;\r\n            }\r\n        } if (event.currentTarget.parent.parent.name === \"huluobozz\") {\r\n            price = 60;\r\n            if (currentJinbi - price <= 0) {\r\n                this.showMsg(\"金币不足！\"); return;\r\n            } else {\r\n                if (main.addPackCount > 3) {\r\n                    this.showMsg(\"种子背包已满！\");\r\n                    return;\r\n                }\r\n                let arrIndex = myPackBox.getChildByName(\"items\").children.findIndex(item => {\r\n                    return item.name === \"huluobozz\"\r\n                })\r\n                if (arrIndex > -1) {\r\n                    this.showMsg(\"已购买此种子！\");\r\n                    return;\r\n                }\r\n                main.addPack(3);\r\n                jinbi.getComponent(Label).string = (currentJinbi - price).toString();\r\n                myPackBox.active = false;\r\n                this.showMsg(\"购买成功！\"); return;\r\n            }\r\n        }\r\n    }\r\n    removePack(type: number) {\r\n        //种子播种 减去背包\r\n        if (type === 0) {\r\n            myPackBox.getChildByName(\"items\").getChildByName(\"fanqiezz\").destroy();\r\n            myPackBox.getChildByName(\"items\").getChildByName(\"fanqiezz_base\").active = false;\r\n        }\r\n        if (type === 1) {\r\n            myPackBox.getChildByName(\"items\").getChildByName(\"pingguozz\").destroy();\r\n            myPackBox.getChildByName(\"items\").getChildByName(\"pingguozz_base\").active = false;\r\n        }\r\n        if (type === 2) {\r\n            myPackBox.getChildByName(\"items\").getChildByName(\"qiezizz\").destroy();\r\n            myPackBox.getChildByName(\"items\").getChildByName(\"qiezizz_base\").active = false;\r\n        }\r\n        if (type === 3) {\r\n            myPackBox.getChildByName(\"items\").getChildByName(\"huluobozz\").destroy();\r\n            myPackBox.getChildByName(\"items\").getChildByName(\"huluobozz_base\").active = false;\r\n        }\r\n        //果实成熟 减去背包\r\n        //因为用的场景中的Node 克隆的节点所以使用active来控制克隆节点的显示和隐藏\r\n        if (type === 10) {\r\n            mySaleBox.getChildByName(\"items\").getChildByName(\"fanqie\").destroy();\r\n            mySaleBox.getChildByName(\"items\").getChildByName(\"fanqie_base\").active = false;\r\n        }\r\n        if (type === 11) {\r\n            mySaleBox.getChildByName(\"items\").getChildByName(\"pingguo\").destroy();\r\n            mySaleBox.getChildByName(\"items\").getChildByName(\"pingguo_base\").active = false;\r\n        }\r\n        if (type === 12) {\r\n            mySaleBox.getChildByName(\"items\").getChildByName(\"qiezi\").destroy();\r\n            mySaleBox.getChildByName(\"items\").getChildByName(\"qiezi_base\").active = false;\r\n        }\r\n        if (type === 13) {\r\n            mySaleBox.getChildByName(\"items\").getChildByName(\"huluobo\").destroy();\r\n            mySaleBox.getChildByName(\"items\").getChildByName(\"huluobo_base\").active = false;\r\n        }\r\n    }\r\n    //出售果实  减去背包\r\n    salePlant(event: EventTouch) {\r\n        let price = 0;\r\n        const currentJinbi = parseInt(jinbi.getComponent(Label).string);\r\n        if (event.currentTarget.parent.parent.name === \"fanqie\") {\r\n            price = 30;\r\n            this.removePack(10);\r\n            jinbi.getComponent(Label).string = (currentJinbi + price).toString();\r\n            this.showMsg(\"出售果实成功！\");\r\n        } if (event.currentTarget.parent.parent.name === \"pingguo\") {\r\n            price = 18;\r\n            this.removePack(11);\r\n            jinbi.getComponent(Label).string = (currentJinbi + price).toString();\r\n            this.showMsg(\"出售果实成功！\");\r\n        } if (event.currentTarget.parent.parent.name === \"qiezi\") {\r\n            price = 12;\r\n            this.removePack(12);\r\n            jinbi.getComponent(Label).string = (currentJinbi + price).toString();\r\n            this.showMsg(\"出售果实成功！\");\r\n        } if (event.currentTarget.parent.parent.name === \"huluobo\") {\r\n            price = 6;\r\n            this.removePack(13);\r\n            jinbi.getComponent(Label).string = (currentJinbi + price).toString();\r\n            this.showMsg(\"出售果实成功！\");\r\n        }\r\n        main.addSalePackCount--;\r\n    }\r\n    //播种，一次播6个种子,并且修改genPlant种子类型，土地添加种子\r\n    boZhong(event: EventTouch) {\r\n        let plants = find(\"MainCanvas/plant\");\r\n        let arrIndex = plants.children.findIndex(item => {\r\n            return item.name === \"huluobo\" || item.name === \"qiezi\" || item.name === \"pingguo\" || item.name === \"fanqie\"\r\n        })\r\n        if (event.currentTarget.parent.parent.name === \"fanqiezz\") {\r\n            if (arrIndex > -1) {\r\n                this.showMsg(\"请将成熟的果实收获！\");\r\n                return;\r\n            }\r\n            genPlant._genPlant.addPlants({\r\n                name: \"fanqie\",\r\n                img: \"fanqiezz\",\r\n                chengshuImg: \"fanqie\"\r\n            });\r\n            //播种后种子库移除，种子背包items数量减1，否则不能继续购买种子了\r\n            this.removePack(0);\r\n            main.addPackCount -= 1;\r\n        } if (event.currentTarget.parent.parent.name === \"pingguozz\") {\r\n            if (arrIndex > -1) {\r\n                this.showMsg(\"请将成熟的果实收获！\");\r\n                return;\r\n            }\r\n            genPlant._genPlant.addPlants({\r\n                name: \"pingguo\",\r\n                img: \"pingguozz\",\r\n                chengshuImg: \"pingguo\"\r\n            });\r\n            this.removePack(1);\r\n            main.addPackCount -= 1;\r\n        } if (event.currentTarget.parent.parent.name === \"qiezizz\") {\r\n            if (arrIndex > -1) {\r\n                this.showMsg(\"请将成熟的果实收获！\");\r\n                return;\r\n            }\r\n            genPlant._genPlant.addPlants({\r\n                name: \"qiezi\",\r\n                img: \"qiezizz\",\r\n                chengshuImg: \"qiezi\"\r\n            });\r\n            this.removePack(2);\r\n            main.addPackCount -= 1;\r\n        } if (event.currentTarget.parent.parent.name === \"huluobozz\") {\r\n            if (arrIndex > -1) {\r\n                this.showMsg(\"请将成熟的果实收获！\");\r\n                return;\r\n            }\r\n            genPlant._genPlant.addPlants({\r\n                name: \"huluobo\",\r\n                img: \"huluobozz\",\r\n                chengshuImg: \"huluobo\"\r\n            });\r\n            this.removePack(3);\r\n            main.addPackCount -= 1;\r\n        }\r\n        const Timer = find(\"MainCanvas/Timer\");\r\n        //播种完成需要重置生长时间\r\n        Timer.active = true;\r\n        timer.time = param.levelTime;\r\n        timer.isStart = true;\r\n        this.showMsg(\"播种完成！\");\r\n    }\r\n    //看激励视频随机增加金币\r\n    adCalcTime(event: EventTouch, customEventData: any) {\r\n        let currentMoney = parseInt(jinbi.getComponent(Label).string);\r\n        currentMoney = currentMoney + param.adGiveMoney;\r\n        if (sys.platform === sys.Platform.WECHAT_GAME) { //种子背包点击激励视频广告\r\n            let videoAd = wx.createRewardedVideoAd({\r\n                adUnitId: wechatAd[3 + parseInt(customEventData)].adid\r\n            })\r\n            if (videoAd !== null) {\r\n                // 用户触发广告后，显示激励视频广告\r\n                videoAd.show();\r\n                videoAd.onError(err => {\r\n                    console.log(err)\r\n                })\r\n                videoAd.onClose(res => {\r\n                    //看完广告后增加10金币\r\n                    if (res && res.isEnded || res === undefined) {\r\n                        jinbi.getComponent(Label).string = currentMoney.toString();\r\n                        this.showMsg(\"已奖励10金币！\");\r\n                    }\r\n                    else {\r\n                        // 播放中途退出，不下发游戏奖励\r\n                        this.showMsg(\"广告没有播放完成！\");\r\n                    }\r\n                })\r\n            }\r\n        } else {\r\n            this.showMsg(\"敬请期待！\");\r\n        }\r\n    }\r\n    //分享成功随机增加金币，暂时不做\r\n    share() {\r\n        this.showMsg(\"分享成功！\");\r\n    }\r\n}\r\n\r\n"]}