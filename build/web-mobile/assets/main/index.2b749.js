System.register("chunks:///_virtual/adaptiveCanvas.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,o,s,a;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator,o=t.view,s=t.director,a=t.Component}],execute:function(){var r;i._RF.push({},"e093erCblZJ1Y+p07Wt974S","adaptiveCanvas",void 0);var u=n.ccclass;n.property,t("AdaptiveCanvas",u("AdaptiveCanvas")(r=function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var n=i.prototype;return n.start=function(){this.adjustResolution()},n.adjustResolution=function(){var t,e=o.getDesignResolutionSize(),i=o.getFrameSize(),n=e.width/e.height,a=i.width/i.height;a>n?o.setDesignResolutionSize(e.width,e.width/a,2):o.setDesignResolutionSize(e.height*a,e.height,2),null==(t=s.getScene())||t.update()},i}(a))||r);i._RF.pop()}}}));

System.register("chunks:///_virtual/audioControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./audioManager.ts","./switchButton.ts","./globalData.ts"],(function(t){var n,i,s,o,e,a;return{setters:[function(t){n=t.inheritsLoose},function(t){i=t.cclegacy,s=t._decorator},function(t){o=t.AudioMgr},function(t){e=t.SwitchButton},function(t){a=t.GlobalData}],execute:function(){var c,u;i._RF.push({},"41f6aCZO/1GCK5vKKLaqUwq","audioControl",void 0);var r=s.ccclass;s.property,t("AudioControl",r("AudioControl")(((u=function(t){function i(){return t.apply(this,arguments)||this}n(i,t),i.getInstance=function(){return i._instance};var s=i.prototype;return s.onLoad=function(){var t=a.getInstance();i._instance=this,this.isOn=t.bgmIsOn,this.init()},s.start=function(){},s.toggleSwitch=function(t){var n=a.getInstance();n.bgmIsOn=!n.bgmIsOn,this.isOn=!this.isOn,this.init(),o.inst.musicEnabled=!o.inst.musicEnabled,this.isOn?o.inst.resume():o.inst.pause()},i}(e))._instance=void 0,c=u))||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/audioManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./audioControl.ts"],(function(i){var o,u,t,e,s,n,a,c;return{setters:[function(i){o=i.createClass},function(i){u=i.cclegacy,t=i.AudioClip,e=i.resources,s=i.Node,n=i.director,a=i.AudioSource},function(i){c=i.AudioControl}],execute:function(){u._RF.push({},"e84acnjl9VB773GX7nViIt0","audioManager",void 0),i("AudioMgr",function(){function i(){this._audioSource=void 0,this._isPaused=!1,this._currentClip=null,this._soundEnabled=!0,this._musicEnabled=!0;var i=new s;i.name="__audioMgr__",n.getScene().addChild(i),n.addPersistRootNode(i),this._audioSource=i.addComponent(a)}var u=i.prototype;return u.onSceneChange=function(){c.getInstance().isOn||(this._audioSource.playing?(this._isPaused=!1,this._currentClip=this._audioSource.clip,this._audioSource.stop()):this._isPaused=!0)},u.playOneShot=function(i,o){var u=this;void 0===o&&(o=1),this._soundEnabled&&(i instanceof t?this._audioSource.playOneShot(i,o):e.load(i,(function(i,t){i?console.log(i):u._audioSource.playOneShot(t,o)})))},u.play=function(i,o,u){var s=this;void 0===o&&(o=1),void 0===u&&(u=!0),this._musicEnabled&&(i instanceof t?(this._audioSource.stop(),this._audioSource.clip=i,this._audioSource.play(),this._audioSource.loop=!0,this._audioSource.volume=o):(this._isPaused=!1,e.load(i,(function(i,t){i?console.log(i):(s._audioSource.stop(),s._audioSource.clip=t,s._currentClip=t,s._audioSource.loop=u,s._audioSource.play(),s._audioSource.volume=o)}))))},u.stop=function(){this._audioSource.stop(),this._isPaused=!1,this._currentClip=null},u.pause=function(){this._audioSource.pause(),this._isPaused=!0},u.resume=function(){this._currentClip&&(this._audioSource.clip=this._currentClip,this._audioSource.play(),this._audioSource.loop=!0,this._audioSource.volume=1,this._isPaused=!1)},u.getPause=function(){return this._isPaused},o(i,[{key:"audioSource",get:function(){return this._audioSource}},{key:"soundEnabled",get:function(){return this._soundEnabled},set:function(i){this._soundEnabled=i}},{key:"musicEnabled",get:function(){return this._musicEnabled},set:function(i){this._musicEnabled=i,i?this._currentClip&&this.play(this._currentClip,this._audioSource.volume,this._audioSource.loop):this._audioSource.stop()}}],[{key:"inst",get:function(){return null==this._inst&&(this._inst=new i),this._inst}}]),i}())._inst=void 0,u._RF.pop()}}}));

System.register("chunks:///_virtual/autoScaleImage.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,n,o,r,a;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,n=e._decorator,o=e.view,r=e.UITransform,a=e.Component}],execute:function(){var s;i._RF.push({},"6c05fDEge5JSIc4q6YAExU6","autoScaleImage",void 0);var c=n.ccclass;n.property,e("AutoScaleImages",c("AutoScaleImages")(s=function(e){function i(){return e.apply(this,arguments)||this}t(i,e);var n=i.prototype;return n.start=function(){this.resizeAllImages(this.node)},n.resizeAllImages=function(e){var t=this,i=o.getDesignResolutionSize(),n=o.getFrameSize(),a=Math.min(n.width/i.width,n.height/i.height);e.children.forEach((function(e){var i=e.getComponent(r);i&&(i.width*=a,i.height*=a),e.children.length>0&&t.resizeAllImages(e)}))},i}(a))||s);i._RF.pop()}}}));

System.register("chunks:///_virtual/buttonClickSoundMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./audioManager.ts"],(function(n){var t,o,i,r,e,c,u,l,a;return{setters:[function(n){t=n.applyDecoratedDescriptor,o=n.inheritsLoose,i=n.initializerDefineProperty,r=n.assertThisInitialized},function(n){e=n.cclegacy,c=n._decorator,u=n.AudioClip,l=n.Component},function(n){a=n.AudioMgr}],execute:function(){var s,p,d,f,h;e._RF.push({},"6effe7WgmlGOLMr1liuvasK","buttonClickSoundMgr",void 0);var k=c.ccclass,g=c.property;n("ButtonClickSoundMgr",(s=k("ButtonClickSoundMgr"),p=g(u),s((h=t((f=function(n){function t(){for(var t,o=arguments.length,e=new Array(o),c=0;c<o;c++)e[c]=arguments[c];return t=n.call.apply(n,[this].concat(e))||this,i(t,"clickSound",h,r(t)),t}o(t,n);var e=t.prototype;return e.onLoad=function(){this.node.on("click",this.onButtonClick,this)},e.onButtonClick=function(n){this.clickSound?a.inst.playOneShot(this.clickSound,1):a.inst.playOneShot("sounds/nomalClick",1)},t}(l)).prototype,"clickSound",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=f))||d));e._RF.pop()}}}));

System.register("chunks:///_virtual/buttonGradient.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,i,n,a,o,s,l,u,c,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,s=e.Sprite,l=e.Color,u=e.Texture2D,c=e.SpriteFrame,p=e.Component}],execute:function(){var b,f,h,d,g,y,v,m,w;a._RF.push({},"015b1PmsF9CRZs12whJI4hH","buttonGradient",void 0);var C=o.ccclass,G=o.property;e("ButtonGradient",(b=C("ButtonGradient"),f=G(s),h=G({type:Number,range:[.1,2],slide:!0}),d=G({type:l}),b((v=t((y=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"sprite",v,n(t)),i(t,"gradientRange",m,n(t)),i(t,"baseColor",w,n(t)),t}r(t,e);var a=t.prototype;return a.start=function(){this.createGradientMask()},a.createGradientMask=function(){if(this.sprite){for(var e=256,t=new Uint8Array(262144),r=0;r<256;r++)for(var i=0;i<e;i++){var n=4*(r*e+i),a=1-Math.abs(2*(i/e-.5)/this.gradientRange),o=Math.floor(255*a);t[n]=this.baseColor.r,t[n+1]=this.baseColor.g,t[n+2]=this.baseColor.b,t[n+3]=o}var s=new u;s.reset({width:e,height:256,format:u.PixelFormat.RGBA8888}),s.uploadData(t);var l=new c;l.texture=s,this.sprite.spriteFrame=l}},t}(p)).prototype,"sprite",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=t(y.prototype,"gradientRange",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),w=t(y.prototype,"baseColor",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(173,255,173,255)}}),g=y))||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/buyCoins.ts",["./rollupPluginModLoBabelHelpers.js","cc","./http.ts","./dialog.ts","./loadingUI.ts"],(function(t){var n,e,i,o,a,r,s,c,u,l,p,h,d,g,C,y,f,m,b,v;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.asyncToGenerator},function(t){r=t.cclegacy,s=t._decorator,c=t.UITransform,u=t.instantiate,l=t.Label,p=t.Sprite,h=t.Node,d=t.sys,g=t.Component,C=t.find,y=t.resources,f=t.SpriteAtlas},function(t){m=t.httpRequest},function(t){b=t.Dialog},function(t){v=t.LoadingUI}],execute:function(){var S,B,L,U,w,N,_,k;r._RF.push({},"626b9C8eU5D16xbVvv6T7hQ","buyCoins",void 0);var E=s.ccclass,T=s.property;t("BuyCoins",E("BuyCoins")(((k=function(t){function n(){for(var n,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return n=t.call.apply(t,[this].concat(a))||this,i(n,"coinList",L,o(n)),i(n,"UCoinList",U,o(n)),i(n,"UCoinSection",w,o(n)),i(n,"coinSpacingY",N,o(n)),i(n,"coinSpacingX",_,o(n)),n.iconAtlas=null,n}e(n,t),n.getInstance=function(){return n._instance};var r=n.prototype;return r.onLoad=function(){var t=a((function*(){var t=this,e=this.node.getComponent(v);e.show(),n._instance=this,this.coinSpacingY=40,this.UCoinList=C("popBox/Canvas/BuyCoins/List"),this.UCoinSection=C("popBox/Canvas/BuyCoins/Section"),yield new Promise((function(n){y.load("iconList",f,(function(e,i){e||(t.iconAtlas=i),n()}))})),yield this.buyCoinsList(),e.hide()}));return function(){return t.apply(this,arguments)}}(),r.createBuyCoinsLayout=function(){var t=this,n=this.UCoinSection.getComponent(c).contentSize.height,e=this.UCoinSection.getComponent(c).contentSize.width,i=this.UCoinSection.position.x,o=this.UCoinSection.position.y;this.coinList.forEach((function(a,r){var s=o-Math.floor(r/3)*(n+t.coinSpacingY),h=i+r%3*(e+t.coinSpacingX),d=u(t.UCoinSection);if(t.UCoinList.addChild(d),d.active=!0,d.setPosition(h,s),d.getChildByName("Rebates").getChildByName("Percent").getComponent(l).string=a.discount+"%",d.getChildByName("Coins").getComponent(l).string="x"+a.points,d.getChildByName("Button").coinId=a.id,d.getChildByName("Button").getChildByName("Label").getComponent(l).string="$"+a.price,t.iconAtlas){var g=d.getChildByName("Picture").getChildByName("Sprite");switch(g.getComponent(p).spriteFrame=t.iconAtlas.getSpriteFrame(a.points+""),a.points){case 1e4:g.getComponent(c).width=60,g.getComponent(c).height=60;break;case 88900:g.getComponent(c).width=90,g.getComponent(c).height=90;break;case 35e4:g.getComponent(c).width=90,g.getComponent(c).height=80;break;case 14e5:g.getComponent(c).width=100,g.getComponent(c).height=80}}}))},r.buyCoinsList=function(){var t=a((function*(){try{var t=yield m("/api/v1/shop/points",{method:"GET"});t.ok?(this.coinList=t.data.data,this.createBuyCoinsLayout()):console.error("Request failed with status:",t.status)}catch(t){console.error("Error:",t)}}));return function(){return t.apply(this,arguments)}}(),r.buyCoins=function(){var t=a((function*(t){var n=b.getInstance();try{var e=yield m("/api/v1/shop/buy",{method:"POST",body:{id:t.currentTarget.coinId}});e.ok?(n.showDialog(null,"PaymentMethod"),e.data.data.star_url&&this.addClickEvent("Star",e.data.data.star_url),e.data.data.tonkeeper_url&&this.addClickEvent("TONKeeper",e.data.data.tonkeeper_url),e.data.data.tonhub_url&&this.addClickEvent("TONHub",e.data.data.tonhub_url)):console.error("Request failed with status:",e.status)}catch(t){console.error("Error:",t)}}));return function(n){return t.apply(this,arguments)}}(),r.addClickEvent=function(t,n){var e=b.getInstance();e.paymentMethodBox.getChildByName(t).on(h.EventType.MOUSE_DOWN,(function(){return d.openURL(n)}),this),e.paymentMethodBox.getChildByName(t).on(h.EventType.TOUCH_END,(function(){return d.openURL(n)}),this)},n}(g))._instance=void 0,L=n((B=k).prototype,"coinList",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=n(B.prototype,"UCoinList",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=n(B.prototype,"UCoinSection",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=n(B.prototype,"coinSpacingY",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 40}}),_=n(B.prototype,"coinSpacingX",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),S=B))||S);r._RF.pop()}}}));

System.register("chunks:///_virtual/buySeed.ts",["./rollupPluginModLoBabelHelpers.js","cc","./http.ts","./dialog.ts","./genInfo.ts","./audioManager.ts","./utils.ts","./globalData.ts","./loadData.ts","./drawRoundedRect.ts"],(function(e){var t,n,i,o,r,a,s,u,l,d,c,p,m,g,B,y,b,h,S,f,C,N,U;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.asyncToGenerator},function(e){a=e.cclegacy,s=e._decorator,u=e.Sprite,l=e.Label,d=e.Color,c=e.Component,p=e.find,m=e.resources,g=e.SpriteAtlas},function(e){B=e.httpRequest},function(e){y=e.Dialog},function(e){b=e.GenInfo},function(e){h=e.AudioMgr},function(e){S=e.formatNumberShortDynamic,f=e.formatSecondsImprove},function(e){C=e.GlobalData},function(e){N=e.i18n},function(e){U=e.DrawRoundedRect}],execute:function(){var v,I,w,T,z,R,k,_,P,x,D,L,V;a._RF.push({},"bf977CH5zNFQo7o3Tw2Zk/Q","buySeed",void 0);var A=s.ccclass,M=s.property;e("BuySeed",A("BuySeed")(((V=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(t,"USeedName",w,o(t)),i(t,"USeedSprite",T,o(t)),i(t,"USeedProfit",z,o(t)),i(t,"USeedRipeningTime",R,o(t)),i(t,"USeedTotalCost",k,o(t)),i(t,"USeedNumber",_,o(t)),i(t,"USeedIncrease",P,o(t)),i(t,"USeedMinimize",x,o(t)),i(t,"UBuySeedButton",D,o(t)),i(t,"seedNumber",L,o(t)),t.seedAtlas=null,t}n(t,e),t.getInstance=function(){return t._instance};var a=t.prototype;return a.onLoad=function(){var e=r((function*(){var e=this;t._instance=this,this.seedNumber=1,this.USeedName=p("popBox/Canvas/BuySeed/Content/Name"),this.USeedSprite=p("popBox/Canvas/BuySeed/Content/Fruit"),this.USeedProfit=p("popBox/Canvas/BuySeed/Content/Effect/Profit"),this.USeedRipeningTime=p("popBox/Canvas/BuySeed/Content/Effect/RipeningTime"),this.USeedTotalCost=p("popBox/Canvas/BuySeed/Content/Options/Cost"),this.USeedNumber=p("popBox/Canvas/BuySeed/Content/Options/Count/Number"),this.USeedIncrease=p("popBox/Canvas/BuySeed/Content/Options/Content/Increase"),this.USeedMinimize=p("popBox/Canvas/BuySeed/Content/Options/Content/Minimize"),this.UBuySeedButton=p("popBox/Canvas/BuySeed/Content/Options/Button"),yield new Promise((function(t){m.load("seedPlant",g,(function(n,i){n||(e.seedAtlas=i),t()}))}))}));return function(){return e.apply(this,arguments)}}(),a.updateBuySeedInfo=function(e){var t=null;switch(e.level){case 1:t="Carrot";break;case 2:t="Chive";break;case 3:t="Tomato";break;case 4:t="Corn";break;case 5:t="Sunflower";break;case 6:t="Watermelon";break;case 7:t="BSC";break;case 8:t="Base";break;case 9:t="Solona";break;case 10:t="Ton";break;case 11:t="ETH";break;case 12:t="BTC";break;default:t="Carrot"}this.seedAtlas&&(this.USeedSprite.getChildByName("Picture").getComponent(u).spriteFrame=this.seedAtlas.getSpriteFrame(t)),this.USeedSprite.getChildByName("Number").getChildByName("Label").getComponent(l).string=e.level,this.USeedName.getComponent(l).string=t,this.USeedProfit.getChildByName("Value").getComponent(l).string="+"+S(e.points)+"/block",this.USeedRipeningTime.getChildByName("Value").getComponent(l).string=f(e.maturity_time),this.USeedNumber.getChildByName("Value").getComponent(l).string="1",this.seedNumber=1,this.USeedTotalCost.getChildByName("Value").getComponent(l).string=S(e.price*this.seedNumber)},a.increaseEmit=function(){var e=C.getInstance(),t=y.getInstance();this.seedNumber++,this.USeedNumber.getChildByName("Value").getComponent(l).string=this.seedNumber+"";var n=t.targetBuySeedInfo.price*this.seedNumber;this.USeedTotalCost.getChildByName("Value").getComponent(l).string=S(n),n>e.userInfo.points_balance?(this.UBuySeedButton.getChildByName("Border").getComponent(U).fillColor=new d(212,213,215),this.UBuySeedButton.getChildByName("Border").getComponent(U).reRender()):(this.UBuySeedButton.getChildByName("Border").getComponent(U).fillColor=new d(255,205,92),this.UBuySeedButton.getChildByName("Border").getComponent(U).reRender(),this.UBuySeedButton.getChildByName("Label").getComponent(l).string="Buy")},a.minimizeEmit=function(){if(1!==this.seedNumber){var e=C.getInstance(),t=y.getInstance();this.seedNumber--,this.USeedNumber.getChildByName("Value").getComponent(l).string=this.seedNumber+"";var n=t.targetBuySeedInfo.price*this.seedNumber;this.USeedTotalCost.getChildByName("Value").getComponent(l).string=S(t.targetBuySeedInfo.price*this.seedNumber),n>e.userInfo.points_balance?(this.UBuySeedButton.getChildByName("Border").getComponent(U).fillColor=new d(212,213,215),this.UBuySeedButton.getChildByName("Border").getComponent(U).reRender()):(this.UBuySeedButton.getChildByName("Border").getComponent(U).fillColor=new d(255,205,92),this.UBuySeedButton.getChildByName("Border").getComponent(U).reRender(),this.UBuySeedButton.getChildByName("Label").getComponent(l).string="Buy")}},a.buySeed=function(){var e=r((function*(){var e=C.getInstance(),t=b.getInstance(),n=y.getInstance();if(n.targetBuySeedInfo.price*this.seedNumber>e.userInfo.points_balance)e.setTipsLabel(N.insufficientCoins);else try{var i=yield B("/api/v1/seed/buy",{method:"POST",body:{quantity:this.seedNumber,seed_id:n.targetBuySeedInfo.id}});i.ok?(e.setTipsLabel(N.buySuccess),n.closeDialog(null,"BuySeed"),h.inst.playOneShot("sounds/goldReduce"),t.requestUserInfo()):console.error("Request failed with status:",i.status)}catch(e){console.error("Error:",e)}}));return function(){return e.apply(this,arguments)}}(),t}(c))._instance=void 0,w=t((I=V).prototype,"USeedName",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(I.prototype,"USeedSprite",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(I.prototype,"USeedProfit",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(I.prototype,"USeedRipeningTime",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(I.prototype,"USeedTotalCost",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(I.prototype,"USeedNumber",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(I.prototype,"USeedIncrease",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(I.prototype,"USeedMinimize",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(I.prototype,"UBuySeedButton",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(I.prototype,"seedNumber",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),v=I))||v);a._RF.pop()}}}));

System.register("chunks:///_virtual/buySeedEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./dialog.ts","./buySeed.ts","./globalData.ts","./loadData.ts"],(function(t){var e,n,a,o,i,s,r,u,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,a=t._decorator,o=t.Node,i=t.Component},function(t){s=t.Dialog},function(t){r=t.BuySeed},function(t){u=t.GlobalData},function(t){c=t.i18n}],execute:function(){var f;n._RF.push({},"9d93fUEAAZO6pJrp5/BDy6T","buySeedEffect",void 0);var l=a.ccclass;t("BuySeedEffect",l("BuySeedEffect")(f=function(t){function n(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))||this).targetNode=null,e.targetData=void 0,e}e(n,t);var a=n.prototype;return a.setTargetNode=function(t,e){this.targetNode=t,this.targetData=e,this.targetNode.on(o.EventType.MOUSE_DOWN,this.onMouseDown,this),this.targetNode.on(o.EventType.TOUCH_START,this.onTouchStart,this)},a.onTouchStart=function(){this.emitEvent()},a.onMouseDown=function(){this.emitEvent()},a.emitEvent=function(){var t=u.getInstance(),e=s.getInstance(),n=r.getInstance();if(e){if(0===this.targetData.unlocked)return void t.setTipsLabel("Unlock seed on "+this.targetData.id+"th land unlock");if(this.targetData.price>t.userInfo.points_balance)return void t.setTipsLabel(c.insufficientCoins);e.showDialog(null,"BuySeed"),e.setTargetBuySeed(this.targetData),n.updateBuySeedInfo(this.targetData)}},n}(i))||f);n._RF.pop()}}}));

System.register("chunks:///_virtual/circles.ts",["./rollupPluginModLoBabelHelpers.js","cc","./http.ts","./loadData.ts","./globalData.ts","./genInfo.ts","./dialog.ts","./utils.ts","./expandNoticeWithArrow.ts","./inputHandler.ts","./index.js","./loadingUI.ts","./genericObjectPool.ts","./customInputBox.ts"],(function(e){var t,i,n,a,r,o,s,u,c,l,d,h,m,g,p,f,C,b,U,S,y,q,v,B,N,I,w,L,M,T;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,r=e.asyncToGenerator},function(e){o=e.cclegacy,s=e._decorator,u=e.Node,c=e.UITransform,l=e.Label,d=e.Vec3,h=e.Sprite,m=e.EditBox,g=e.find,p=e.Component,f=e.resources,C=e.SpriteAtlas},function(e){b=e.httpRequest},function(e){U=e.i18n},function(e){S=e.GlobalData},function(e){y=e.GenInfo},function(e){q=e.Dialog},function(e){v=e.formatNumberShortDynamic,B=e.formatTimestampToDate},function(e){N=e.ExpandNoticeWithArrow},function(e){I=e.InputHandler},function(e){w=e.initUtils},function(e){L=e.LoadingUI},function(e){M=e.GenericObjectPool},function(e){T=e.CustomInputBox}],execute:function(){var E,z,_,x,k,P,V,D,J,A,R,F,j,G,O,Q,H,Y,W,X,Z,K,$,ee,te,ie,ne,ae,re,oe,se,ue,ce,le,de,he,me;o._RF.push({},"f96f6E8O1ZPkIiiE+Qk4gVz","circles",void 0);var ge=s.ccclass,pe=s.property;e("circles",(E=ge("circles"),z=pe(u),_=pe(u),x=pe(u),k=pe(u),P=pe(u),V=pe(u),D=pe(u),E((R=t((A=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,n(t,"squadList",R,a(t)),n(t,"USquad",F,a(t)),n(t,"USquadList",j,a(t)),n(t,"USquadSection",G,a(t)),n(t,"membersList",O,a(t)),n(t,"squadInfo",Q,a(t)),n(t,"USquadInfo",H,a(t)),n(t,"UMembers",Y,a(t)),n(t,"UMembersList",W,a(t)),n(t,"UMembersSection",X,a(t)),n(t,"UEditNameButton",Z,a(t)),n(t,"UQuitButton",K,a(t)),n(t,"UEditNoticeButton",$,a(t)),n(t,"squadSpacingY",ee,a(t)),n(t,"memberSpacingY",te,a(t)),n(t,"isView",ie,a(t)),n(t,"currentUser",ne,a(t)),n(t,"UCurrentUser",ae,a(t)),n(t,"UScrollView",re,a(t)),n(t,"USearchCircle",oe,a(t)),n(t,"UBatchAnother",se,a(t)),n(t,"UCircleTitle",ue,a(t)),n(t,"USearchCircleTitle",ce,a(t)),n(t,"UCloseSearch",le,a(t)),n(t,"USquadScrollView",de,a(t)),n(t,"UMemberScrollView",he,a(t)),n(t,"shareLink",me,a(t)),t.isUpdateCircle="false",t.currentPage=0,t.hasMore=!1,t.isSearchMode=!1,t.iconAtlas=null,t}i(t,e);var o=t.prototype;return o.onLoad=function(){var e=r((function*(){var e=this,t=S.getInstance();this.node.getComponent(L).show(),yield new Promise((function(t){f.load("iconList",C,(function(i,n){i||(e.iconAtlas=n),t()}))})),M.instance.hasPool("squad")||M.instance.registerPool("squad",{prefab:this.USquadSection,initialSize:5,maxSize:50}),M.instance.hasPool("member")||M.instance.registerPool("member",{prefab:this.UMembersSection,initialSize:10,maxSize:100}),this.USquadSection&&(this.USquadSection.active=!1),this.UMembersSection&&(this.UMembersSection.active=!1),this.USquad=g("Canvas/UnJoined"),this.UMembers=g("Canvas/Joined"),this.USquadList=g("Canvas/UnJoined/Content/ScrollView/view/content"),this.USquadSection=g("Canvas/UnJoined/Content/ScrollView/view/content/SquadSection"),this.UScrollView=g("Canvas/Joined/Content/ScrollView"),this.UMembersList=g("Canvas/Joined/Content/ScrollView/view/content"),this.UMembersSection=g("Canvas/Joined/Content/ScrollView/view/content/MemberSection"),this.USquadInfo=g("Canvas/Joined/Tips"),this.UCurrentUser=g("Canvas/Joined/Content/CurrentUser"),this.UEditNameButton=g("Canvas/Joined/Tips/Top/Options/Edit"),this.UQuitButton=g("Canvas/Joined/Tips/Top/Options/Quit"),this.UEditNoticeButton=g("Canvas/Joined/Tips/Bulletin/Edit"),this.UCircleTitle=g("Canvas/UnJoined/Content/Title"),this.USearchCircleTitle=g("Canvas/UnJoined/Content/SearchTitle"),this.USearchCircle.getComponent(I).callback=this.searchCircle,this.USearchCircle.getComponent(I).callbackThis=this,this.USearchCircle.getComponent(I).onFocusEvent=this.switchSearchAndPatch,yield this.checkSquadList(),t.shareLink="https://t.me/WeFarmingBot/WeFarmingNow"}));return function(){return e.apply(this,arguments)}}(),o.updateScrollViewHeight=function(e){var t=e*(120+this.squadSpacingY)+20;this.USquadScrollView.getChildByName("view").getChildByName("content").getComponent(c).height=t},o.createSquadLayout=function(){var e=this;if(this.USquadSection){var t=this.USquadSection.getComponent(c).contentSize.height,i=this.USquadSection.position.x,n=this.USquadSection.position.y;this.isSearchMode&&this.updateScrollViewHeight(this.squadList.length),this.squadList.forEach((function(a,r){var o=n-r*(t+3*e.squadSpacingY/2),s=M.instance.get("squad");e.USquadList.addChild(s),s.active=!0,s.setPosition(i,o),s.getChildByName("People").getChildByName("Label").getComponent(l).string=a.member_count+"",s.getChildByName("Money").getChildByName("Label").getComponent(l).string=v(a.total_points)+"",s.getChildByName("Timer").getChildByName("Label").getComponent(l).string=B(a.created_at)+"",s.getChildByName("Name").getComponent(l).string=a.name+"",s.getChildByName("Button").squad_id=a.id,s.squad_id=a.id,s.squad=a}))}},o.updateCurrentUser=function(){var e=S.getInstance(),t=this.membersList.findIndex((function(t){return t.id===e.userInfo.id+""}));this.UCurrentUser.active=!0,this.UCurrentUser.getChildByName("Ranking").getComponent(l).string=t+1+"",this.UCurrentUser.getChildByName("Middle").getChildByName("Name").getChildByName("Label").getComponent(l).string=this.membersList[t].nickname?this.membersList[t].nickname:this.membersList[t].tg_username,this.UCurrentUser.getChildByName("Middle").getChildByName("Money").getChildByName("Label").getComponent(l).string=this.membersList[t].points_balance+"",this.membersList[t].is_leader?(this.UEditNameButton.active=!0,this.UEditNoticeButton.active=!0,this.UCurrentUser.getChildByName("Middle").getChildByName("Name").getChildByName("Icon").active=!0):(this.UEditNameButton.active=!1,this.UEditNoticeButton.active=!1,this.UCurrentUser.getChildByName("Middle").getChildByName("Name").getChildByName("Icon").active=!1)},o.updateMemberScrollViewHeight=function(e){var t=180*e;this.UMemberScrollView.getChildByName("view").getChildByName("content").getComponent(c).height=t},o.createMembersLayout=function(){var e=this,t=S.getInstance(),i=this.UMembersSection.getComponent(c).contentSize.height;this.UCurrentUser.active=!this.isView,this.updateMemberScrollViewHeight(this.membersList.length+1);var n=new d(0,-410,0);this.isView?(n.y+=i,this.UCurrentUser.active=!1,this.UEditNameButton.active=!1,this.UEditNoticeButton.active=!1,this.UQuitButton.active=!1):(this.updateCurrentUser(),this.UMembers.getChildByName("Footer").getChildByName("Share").active=!0,this.UMembers.getChildByName("Footer").getChildByName("Join").active=!1),this.UScrollView.setPosition(n);var a=this.UMembersSection.position.x,r=this.UMembersSection.position.y;this.membersList.forEach((function(n,o){var s=r-o*(i+e.memberSpacingY),u=M.instance.get("member");e.UMembersList.addChild(u),u.active=!0,u.setPosition(a,s),u.getChildByName("Middle").getChildByName("Name").getChildByName("Label").getComponent(l).string=n.nickname?n.nickname:n.tg_username+"",u.getChildByName("Middle").getChildByName("Money").getChildByName("Label").getComponent(l).string=n.points_balance+"",u.getChildByName("Button").userId=n.id,n.is_leader?u.getChildByName("Middle").getChildByName("Name").getChildByName("Icon").active=!0:u.getChildByName("Middle").getChildByName("Name").getChildByName("Icon").active=!1,1!==n.steal_available||n.id===t.userInfo.id||e.isView?u.getChildByName("Button").active=!1:u.getChildByName("Button").active=!0;var c="";o>=0&&o<3?(0===o&&(c="first"),1===o&&(c="second"),2===o&&(c="third"),e.iconAtlas&&(u.getChildByName("Ranking").active=!1,u.getChildByName("Icon").getComponent(h).spriteFrame=e.iconAtlas.getSpriteFrame(c))):(u.getChildByName("Icon").active=!1,u.getChildByName("Ranking").active=!0,u.getChildByName("Ranking").getComponent(l).string=o+1+"")}))},o.checkSquadList=function(){var e=r((function*(){var e=this,t=S.getInstance();[].concat(this.UMembersList.children).forEach((function(t){t!==e.UMembersSection&&M.instance.put("member",t)})),null===t.userInfo.squad_id?(this.UMembers.active=!1,this.USquad.active=!0,yield this.requestSquadList()):(this.UMembers.active=!0,this.USquad.active=!1,yield this.requestMembersList(),yield this.requestSquadInfo())}));return function(){return e.apply(this,arguments)}}(),o.updateSquadInfo=function(){this.USquadInfo.getChildByName("Top").getChildByName("Name").getComponent(l).string=this.squadInfo.name,this.USquadInfo.getChildByName("Detail").getChildByName("People").getChildByName("Label").getComponent(l).string=this.squadInfo.member_count+"",this.USquadInfo.getChildByName("Detail").getChildByName("Money").getChildByName("Label").getComponent(l).string=v(this.squadInfo.total_points)+"",this.USquadInfo.getChildByName("Detail").getChildByName("Timer").getChildByName("Label").getComponent(l).string=B(this.squadInfo.created_at)+"",this.USquadInfo.getChildByName("Bulletin").getChildByName("Content").getChildByName("Label").getComponent(l).string=this.squadInfo.notice?this.squadInfo.notice:U.empty,this.USquadInfo.getComponent(N).updateContent()},o.viewSquadDetail=function(e){var t=e.currentTarget.squad.id;this.isView=!0,this.UMembers.active=!0,this.USquad.active=!1,this.UQuitButton.active=!1,this.UEditNameButton.active=!1,this.UEditNoticeButton.active=!1,this.UMembers.getChildByName("Footer").getChildByName("Share").active=!1,this.UMembers.getChildByName("Footer").getChildByName("Join").active=!0,this.requestMembersList(t),this.requestSquadInfo(t)},o.switchUpdateCircleFlag=function(e,t){this.isUpdateCircle=t;var i=q.getInstance();"true"===t&&(i.createCircleBox.getChildByName("Name").getChildByName("EditBox").getComponent(m).string=this.squadInfo.name),i.showDialog(null,"CreateCircle")},o.squadDialogConfirm=function(e){var t=g("popBox/Canvas/CreateCircle/Name/EditBox/TEXT_LABEL").getComponent(l).string;if("true"===this.isUpdateCircle){var i=g("popBox/Canvas/UpdateNotice/Notice/CustomInputBox").getComponent(T).validText;this.requestUpdateSquadInfo({name:t,notice:i})}else this.createSquad(t)},o.showNoticeDialog=function(){var e=q.getInstance();e.updateNoticeBox.getChildByName("Notice").getChildByName("CustomInputBox").getChildByName("EditBox").getComponent(m).string=this.squadInfo.notice,this.squadInfo.notice&&(e.updateNoticeBox.getChildByName("Notice").getChildByName("CustomInputBox").getComponent(T).labelPlaceholder.string=""),e.updateNoticeBox.getChildByName("Notice").getChildByName("CustomInputBox").getComponent(T).richText.string=this.squadInfo.notice,e.showDialog(null,"UpdateNotice")},o.updateNoticeConfirm=function(){var e=g("popBox/Canvas/UpdateNotice/Notice/CustomInputBox").getComponent(T).validText;this.requestUpdateSquadInfo({name:this.squadInfo.name,notice:e})},o.anotherBatchSquad=function(){this.hasMore?this.currentPage=this.currentPage+5:this.currentPage=0,this.requestSquadList()},o.requestSquadList=function(){var e=r((function*(){var e=this;try{var t=yield b("/api/v1/squad/list",{method:"GET"},{current:this.currentPage,page_size:5});if(t.ok){if(this.hasMore=t.data.data.has_more,this.squadList=t.data.data.list?t.data.data.list:[],this.USquadList)[].concat(this.USquadList.children).forEach((function(t){t!==e.USquadSection&&M.instance.put("squad",t)}));this.createSquadLayout(),this.node.getComponent(L).hide()}else console.error("Request failed with status:",t.status)}catch(e){console.error("Error:",e)}}));return function(){return e.apply(this,arguments)}}(),o.requestMembersList=function(){var e=r((function*(e){var t=this,i=S.getInstance();e||(e=i.userInfo.squad_id);try{var n=yield b("/api/v1/squad/members",{method:"GET"},{squad_id:e,pageNum:1,pageSize:10});if(n.ok)this.membersList=n.data.data.list?n.data.data.list:[],[].concat(this.UMembersList.children).forEach((function(e){e!==t.UMembersSection&&M.instance.put("member",e)})),this.createMembersLayout(),this.node.getComponent(L).hide();else console.error("Request failed with status:",n.status)}catch(e){console.error("Error:",e)}}));return function(t){return e.apply(this,arguments)}}(),o.requestSquadInfo=function(){var e=r((function*(e){var t=S.getInstance();e||(e=t.userInfo.squad_id);try{var i=yield b("/api/v1/squad/info",{method:"GET"},{squad_id:e});i.ok?(this.squadInfo=i.data.data,this.updateSquadInfo()):console.error("Request failed with status:",i.status)}catch(e){console.error("Error:",e)}}));return function(t){return e.apply(this,arguments)}}(),o.requestUpdateSquadInfo=function(){var e=r((function*(e){var t=S.getInstance();try{var i=yield b("/api/v1/squad/update",{method:"POST",body:{squad_id:t.userInfo.squad_id,name:e.name,notice:e.notice}});if(i.ok){var n=q.getInstance();this.requestSquadInfo(t.userInfo.squad_id),1001!==i.data.code&&1003!==i.data.code&&(n.closeDialog(null,"CreateCircle"),n.closeDialog(null,"UpdateNotice"))}else console.error("Request failed with status:",i.status)}catch(e){console.error("Error:",e)}}));return function(t){return e.apply(this,arguments)}}(),o.quitSquad=function(){var e=r((function*(){var e=this,t=S.getInstance();try{var i=yield b("/api/v1/squad/leave",{method:"POST",body:{squad_id:t.userInfo.squad_id}});if(i.ok)q.getInstance().closeDialog(null,"QuitCircle"),y.getInstance().requestUserInfo(),this.UMembers.active=!1,this.USquad.active=!0,[].concat(this.UMembersList.children).forEach((function(t){t!==e.UMembersSection&&M.instance.put("member",t)})),this.requestSquadList();else console.error("Request failed with status:",i.status)}catch(e){console.error("Error:",e)}}));return function(){return e.apply(this,arguments)}}(),o.viewModeJoinSquad=function(){this.joinSquad(null,this.squadInfo.id)},o.joinSquad=function(){var e=r((function*(e,t){var i,n,a=S.getInstance(),r=null!=e&&null!=(i=e.currentTarget)&&i.squad_id?null==e||null==(n=e.currentTarget)?void 0:n.squad_id:t;try{var o=yield b("/api/v1/squad/join",{method:"POST",body:{squad_id:r}});o.ok?(a.userInfo.squad_id=r,this.UMembers.active=!0,this.USquad.active=!1,this.isView&&(a.setTipsLabel(U.joinedSucceed),this.isView=!1,this.UQuitButton.active=!0,this.UMembers.getChildByName("Footer").getChildByName("Share").active=!0,this.UMembers.getChildByName("Footer").getChildByName("Join").active=!1),this.requestMembersList(),this.requestSquadInfo()):console.error("Request failed with status:",o.status)}catch(e){console.error("Error:",e)}}));return function(t,i){return e.apply(this,arguments)}}(),o.squadBtnClick=function(e,t){q.getInstance().showDialog(null,t)},o.createSquad=function(){var e=r((function*(e){try{var t,i=yield b("/api/v1/squad/create",{method:"POST",body:{name:e}});if(i.ok)q.getInstance().closeDialog(null,"CreateCircle"),S.getInstance().userInfo.squad_id=null==(t=i.data)||null==(t=t.data)?void 0:t.id,this.UMembers.active=!0,this.USquad.active=!1,this.requestMembersList(),this.requestSquadInfo();else console.error("Request failed with status:",i.status)}catch(e){console.error("Error:",e)}}));return function(t){return e.apply(this,arguments)}}(),o.switchSearchAndPatch=function(e,t){var i=this;(this.isSearchMode=t,!0===this.isSearchMode)?([].concat(this.USquadList.children).forEach((function(e){e!==i.USquadSection&&M.instance.put("squad",e)})),this.UBatchAnother.active=!1,this.UCloseSearch.active=!0,this.UCircleTitle.active=!1,this.USearchCircleTitle.active=!0,this.USearchCircleTitle.getComponent(l).string="0 search results"):(this.USearchCircleTitle.active=!1,this.UBatchAnother.active=!0,this.UCloseSearch.active=!1,this.UCircleTitle.active=!0,this.searchCircle(""),this.USearchCircle.getChildByName("EditBox").getComponent(m).string="")},o.searchCircle=function(){var e=r((function*(e){var t=this;if(!e)return this.currentPage=0,this.isSearchMode=!1,this.UBatchAnother.active=!0,this.UCloseSearch.active=!1,this.UCircleTitle.active=!0,void this.requestSquadList();try{var i=yield b("/api/v1/squad/search",{method:"GET"},{keyword:e,current:this.currentPage+1,page_size:5}),n=0;if(i.ok)this.squadList=i.data.data.data?i.data.data.data:[],n=this.squadList.length,[].concat(this.USquadList.children).forEach((function(e){e!==t.USquadSection&&M.instance.put("squad",e)})),this.USearchCircleTitle.active=!0,this.createSquadLayout();else console.error("Request failed with status:",i.status);this.USearchCircleTitle.getComponent(l).string=n+" search results"}catch(e){console.error("Error:",e)}}));return function(t){return e.apply(this,arguments)}}(),o.shareGame=function(){var e=w(),t=S.getInstance();e.shareURL(t.shareLink,"Welcome to join my team and steal vegetables together!")},t}(p)).prototype,"squadList",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=t(A.prototype,"USquad",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(A.prototype,"USquadList",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(A.prototype,"USquadSection",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(A.prototype,"membersList",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=t(A.prototype,"squadInfo",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(A.prototype,"USquadInfo",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(A.prototype,"UMembers",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(A.prototype,"UMembersList",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(A.prototype,"UMembersSection",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(A.prototype,"UEditNameButton",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(A.prototype,"UQuitButton",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(A.prototype,"UEditNoticeButton",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(A.prototype,"squadSpacingY",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 15}}),te=t(A.prototype,"memberSpacingY",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ie=t(A.prototype,"isView",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ne=t(A.prototype,"currentUser",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S.getInstance().userInfo}}),ae=t(A.prototype,"UCurrentUser",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=t(A.prototype,"UScrollView",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t(A.prototype,"USearchCircle",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t(A.prototype,"UBatchAnother",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=t(A.prototype,"UCircleTitle",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=t(A.prototype,"USearchCircleTitle",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(A.prototype,"UCloseSearch",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=t(A.prototype,"USquadScrollView",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=t(A.prototype,"UMemberScrollView",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=t(A.prototype,"shareLink",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=A))||J));o._RF.pop()}}}));

System.register("chunks:///_virtual/customInputBox.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,o,r,s,c,h,l,a,u,d,g,x;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,c=t.RichText,h=t.Label,l=t.Graphics,a=t.EditBox,u=t.ScrollView,d=t.UITransform,g=t.Input,x=t.Component}],execute:function(){var p,v,f,T,m,B,b,C,w,L,y,I,V;r._RF.push({},"da510jnipBN/aJ6nxKJSiRK","customInputBox",void 0);var E=s.ccclass,z=s.property;t("CustomInputBox",(p=E("CustomInputBox"),v=z(c),f=z(h),T=z(l),m=z(a),B=z(u),p((w=e((C=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,n(e,"richText",w,o(e)),n(e,"labelPlaceholder",L,o(e)),n(e,"cursor",y,o(e)),n(e,"editBox",I,o(e)),n(e,"scrollView",V,o(e)),e.content="",e.maxLength=100,e.isFocused=!1,e.cursorInterval=0,e.validText="",e.totalLines=0,e}i(e,t);var r=e.prototype;return r.onLoad=function(){var t,e=null==(t=this.richText.node.parent)?void 0:t.getComponent(d);e&&(e.width=570),this.richText.maxWidth=570,this.richText.lineHeight=36,this.editBox.node.active=!1,this.editBox.node.on("text-changed",this.onEditBoxChanged,this),this.editBox.node.on("editing-did-ended",this.onEditBoxEnd,this),this.node.on(g.EventType.TOUCH_END,this.onFocus,this),this.setupRichText()},r.onDestroy=function(){clearInterval(this.cursorInterval),this.editBox.node.off("text-changed",this.onEditBoxChanged,this)},r.setupRichText=function(){this.richText.verticalAlign=1,this.richText.node.getComponent(d).anchorY=1,this.richText.node.getComponent(d).setContentSize(570,330),this.scrollView.vertical=!0,this.scrollView.elastic=!0},r.onEditBoxEnd=function(){this.editBox.node.active=!1,this.isFocused=!1,this.cursor.node.active=!1,this.richText.node.active=!0},r.onEditBoxChanged=function(t){this.content=t.string,this.updateRichText()},r.updateRichText=function(){var t=this;if(this.content.length<=this.maxLength)return this.richText.string=this.content.replace(/\n/g,""),this.validText=this.richText.string,void this.calculateTotalLines(this.richText.string);var e=this.content.substring(0,this.maxLength),i=this.content.substring(this.maxLength);this.validText=e.replace(/\n/g,"");var n=i.replace(/\n/g,""),o=this.validText+"<color=#ff0000>"+n+"</color>";this.richText.string=o,this.calculateTotalLines(o),this.scheduleOnce((function(){var e=t.richText.node.getComponent(d).height;t.richText.node.parent.getComponent(d).height=Math.max(e,t.scrollView.node.getComponent(d).height),t.scrollView.scrollToBottom(.2)}),.1),this.labelPlaceholder.node.active=0===this.content.length,this.updateCursor(),this.adjustScrollViewHeight(),this.autoScrollToBottom()},r.calculateTotalLines=function(t){var e=(t.match(/<br\/>|\n/g)||[]).length;this.totalLines=e+1,console.log("当前总行数: "+this.totalLines)},r.onFocus=function(){this.isFocused=!0,this.cursor.node.active=!0,this.startCursorBlink(),this.richText.node.active=!1,this.labelPlaceholder.node.active=!1,this.editBox.node.active=!0,this.editBox.focus()},r.updateCursor=function(){var t=this.richText.node.getComponent(d).height,e=this.calculateLastLineWidth(this.content);this.cursor.node.setPosition(e+5,-t/2)},r.calculateLastLineWidth=function(t){var e=t.split("\n"),i=e[e.length-1];return Math.min(10*i.length,this.richText.maxWidth)},r.startCursorBlink=function(){var t=this;clearInterval(this.cursorInterval),this.cursorInterval=setInterval((function(){t.cursor.node.active=!t.cursor.node.active}),500)},r.adjustScrollViewHeight=function(){var t=this.richText.node.getComponent(d).height;this.scrollView.node.getChildByName("view").getChildByName("content").getComponent(d).height=Math.max(t+20,this.scrollView.node.getComponent(d).height)},r.autoScrollToBottom=function(){this.scrollView.scrollToBottom(.2)},e}(x)).prototype,"richText",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(C.prototype,"labelPlaceholder",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=e(C.prototype,"cursor",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(C.prototype,"editBox",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(C.prototype,"scrollView",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=C))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/customProgressBar.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){var s,e,t,o,i,n,a,u,c;return{setters:[function(r){s=r.applyDecoratedDescriptor,e=r.inheritsLoose,t=r.initializerDefineProperty,o=r.assertThisInitialized},function(r){i=r.cclegacy,n=r._decorator,a=r.ProgressBar,u=r.Label,c=r.Component}],execute:function(){var g,p,l,h,P,f,m;i._RF.push({},"6db24DUjdxIUpKN90PSmzBl","customProgressBar",void 0);var d=n.ccclass,b=n.property;r("CustomProgressBar",(g=d("CustomProgressBar"),p=b(a),l=b(u),g((f=s((P=function(r){function s(){for(var s,e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return s=r.call.apply(r,[this].concat(i))||this,t(s,"progressBar",f,o(s)),t(s,"progressLabel",m,o(s)),s.currentProgress=1,s.maxProgress=10,s}e(s,r);var i=s.prototype;return i.start=function(){this.updateProgress()},i.updateProgress=function(){this.progressBar&&this.progressLabel&&(this.progressBar.progress=this.currentProgress/this.maxProgress,this.progressLabel.string=this.currentProgress+"/"+this.maxProgress)},i.increaseProgress=function(r){void 0===r&&(r=1),this.currentProgress=Math.min(this.currentProgress+r,this.maxProgress),this.updateProgress()},i.decreaseProgress=function(r){void 0===r&&(r=1),this.currentProgress=Math.max(this.currentProgress-r,0),this.updateProgress()},s}(c)).prototype,"progressBar",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=s(P.prototype,"progressLabel",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=P))||h));i._RF.pop()}}}));

System.register("chunks:///_virtual/dashedRectangle.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,r,n,a,h,o,s,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){a=t.cclegacy,h=t._decorator,o=t.Graphics,s=t.Component,c=t.Color}],execute:function(){var l,p,g,u,d,f,w;a._RF.push({},"c9240r3DRhJM4DyFw/MJY38","dashedRectangle",void 0);var b=h.ccclass,y=h.property;t("DashedRectangle",b("DashedRectangle")((g=e((p=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),h=0;h<i;h++)a[h]=arguments[h];return e=t.call.apply(t,[this].concat(a))||this,r(e,"rectWidth",g,n(e)),r(e,"rectHeight",u,n(e)),r(e,"dashLength",d,n(e)),r(e,"gapLength",f,n(e)),r(e,"lineColor",w,n(e)),e.graphics=null,e}i(e,t);var a=e.prototype;return a.start=function(){this.graphics=this.node.getComponent(o),this.graphics?(this.graphics.strokeColor=this.lineColor,this.graphics.lineWidth=2,this.drawDashedRectangle()):console.error("Graphics component not found!")},a.drawDashedRectangle=function(){var t=this.graphics,e=-this.rectWidth/2,i=-this.rectHeight/2;t.clear(),this.drawDashedLine(e,i,e+this.rectWidth,i),this.drawDashedLine(e+this.rectWidth,i,e+this.rectWidth,i+this.rectHeight),this.drawDashedLine(e+this.rectWidth,i+this.rectHeight,e,i+this.rectHeight),this.drawDashedLine(e,i+this.rectHeight,e,i),t.stroke()},a.drawDashedLine=function(t,e,i,r){for(var n=this.graphics,a=Math.sqrt(Math.pow(i-t,2)+Math.pow(r-e,2)),h=(i-t)/a,o=(r-e)/a,s=0;s<a;){var c=t+h*s,l=e+o*s,p=Math.min(this.dashLength,a-s),g=c+h*p,u=l+o*p;n.moveTo(c,l),n.lineTo(g,u),s+=this.dashLength+this.gapLength}},e}(s)).prototype,"rectWidth",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 200}}),u=e(p.prototype,"rectHeight",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 150}}),d=e(p.prototype,"dashLength",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),f=e(p.prototype,"gapLength",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),w=e(p.prototype,"lineColor",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c(0,0,0,255)}}),l=p))||l);a._RF.pop()}}}));

System.register("chunks:///_virtual/dialog.ts",["./rollupPluginModLoBabelHelpers.js","cc","./genBag.ts","./genShop.ts","./audioManager.ts"],(function(e){var t,i,a,o,s,n,r,c,l,u,B,h,x;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){s=e.cclegacy,n=e._decorator,r=e.Node,c=e.find,l=e.director,u=e.Component},function(e){B=e.GenBag},function(e){h=e.GenShop},function(e){x=e.AudioMgr}],execute:function(){var y,b,d,p,v,g,k,C,m,f,S,N,M,w,L,I,z,D,P,R,U,q,_,E,O,T,Q,A,G,F,j,H,K,X,Z,J,V,W,Y,$,ee,te,ie,ae,oe,se,ne,re,ce,le;s._RF.push({},"02964fGKTRAZLPQ0OcOdX+l","dialog",void 0);var ue=n.ccclass,Be=n.property;e("Dialog",(y=ue("Dialog"),b=Be(r),d=Be(r),p=Be(r),v=Be(r),g=Be(r),k=Be(r),C=Be(r),m=Be(r),f=Be(r),S=Be(r),N=Be(r),M=Be(r),w=Be(r),L=Be(r),I=Be(r),z=Be(r),D=Be(r),P=Be(r),R=Be(r),U=Be(r),q=Be(r),y(((le=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return t=e.call.apply(e,[this].concat(s))||this,a(t,"popBox",O,o(t)),a(t,"bagBox",T,o(t)),a(t,"shopBox",Q,o(t)),a(t,"lockBlockBox",A,o(t)),a(t,"buySeedBox",G,o(t)),a(t,"buyPropsBox",F,o(t)),a(t,"buyCoinsBox",j,o(t)),a(t,"createCircleBox",H,o(t)),a(t,"updateNoticeBox",K,o(t)),a(t,"settingBox",X,o(t)),a(t,"quitCircleBox",Z,o(t)),a(t,"paymentMethodBox",J,o(t)),a(t,"editNameBox",V,o(t)),a(t,"shareLinkBox",W,o(t)),a(t,"noticeListBox",Y,o(t)),a(t,"noticeDetailBox",$,o(t)),a(t,"seedUnlockBox",ee,o(t)),a(t,"buySucceededBox",te,o(t)),a(t,"buyCoinsSuccessBox",ie,o(t)),a(t,"extraRewardBox",ae,o(t)),a(t,"overlayMask",oe,o(t)),a(t,"targetBlock",se,o(t)),a(t,"targetBlockInfo",ne,o(t)),a(t,"targetSeedInfo",re,o(t)),a(t,"targetBuySeedInfo",ce,o(t)),t}i(t,e),t.getInstance=function(){return t._instance};var s=t.prototype;return s.onLoad=function(){t._instance=this,this.popBox=c("popBox"),this.bagBox=this.popBox.getChildByName("Canvas").getChildByName("Bag"),this.shopBox=this.popBox.getChildByName("Canvas").getChildByName("Shop"),this.lockBlockBox=this.popBox.getChildByName("Canvas").getChildByName("LockBlock"),this.buySeedBox=this.popBox.getChildByName("Canvas").getChildByName("BuySeed"),this.buyPropsBox=this.popBox.getChildByName("Canvas").getChildByName("BuyProps"),this.buyCoinsBox=this.popBox.getChildByName("Canvas").getChildByName("BuyCoins"),this.createCircleBox=this.popBox.getChildByName("Canvas").getChildByName("CreateCircle"),this.updateNoticeBox=this.popBox.getChildByName("Canvas").getChildByName("UpdateNotice"),this.settingBox=this.popBox.getChildByName("Canvas").getChildByName("Setting"),this.quitCircleBox=this.popBox.getChildByName("Canvas").getChildByName("QuitCircle"),this.paymentMethodBox=this.popBox.getChildByName("Canvas").getChildByName("PaymentMethod"),this.editNameBox=this.popBox.getChildByName("Canvas").getChildByName("EditName"),this.shareLinkBox=this.popBox.getChildByName("Canvas").getChildByName("ShareLink"),this.noticeListBox=this.popBox.getChildByName("Canvas").getChildByName("NoticeList"),this.noticeDetailBox=this.popBox.getChildByName("Canvas").getChildByName("NoticeDetail"),this.seedUnlockBox=this.popBox.getChildByName("Canvas").getChildByName("SeedUnlock"),this.buySucceededBox=this.popBox.getChildByName("Canvas").getChildByName("BuySucceeded"),this.buyCoinsSuccessBox=this.popBox.getChildByName("Canvas").getChildByName("BuyCoinsSuccess"),this.extraRewardBox=this.popBox.getChildByName("Canvas").getChildByName("ExtraReward"),this.overlayMask=this.popBox.getChildByName("Canvas").getChildByName("OverlayMask"),this.bagBox&&(this.bagBox.active=!1),this.shopBox&&(this.shopBox.active=!1),this.lockBlockBox&&(this.lockBlockBox.active=!1),this.buySeedBox&&(this.buySeedBox.active=!1),this.buyPropsBox&&(this.buyPropsBox.active=!1),this.buyCoinsBox&&(this.buyCoinsBox.active=!1),this.createCircleBox&&(this.createCircleBox.active=!1),this.updateNoticeBox&&(this.updateNoticeBox.active=!1),this.settingBox&&(this.settingBox.active=!1),this.quitCircleBox&&(this.quitCircleBox.active=!1),this.paymentMethodBox&&(this.paymentMethodBox.active=!1),this.editNameBox&&(this.editNameBox.active=!1),this.shareLinkBox&&(this.shareLinkBox.active=!1),this.noticeListBox&&(this.noticeListBox.active=!1),this.noticeDetailBox&&(this.noticeDetailBox.active=!1),this.buySucceededBox&&(this.buySucceededBox.active=!1),this.buyCoinsSuccessBox&&(this.buyCoinsSuccessBox.active=!1),this.extraRewardBox&&(this.extraRewardBox.active=!1),this.seedUnlockBox&&(this.seedUnlockBox.active=!1),this.overlayMask.active=!1},s.showDialog=function(e,t){switch(t){case"Bag":this.bagBox.active=!0,x.inst.playOneShot("sounds/openBag",1),B.getInstance().requestPackageList();break;case"Shop":this.shopBox.active=!0,x.inst.playOneShot("sounds/openBag",1),h.getInstance().requestShopList();break;case"LockBlock":this.lockBlockBox.active=!0;break;case"BuySeed":this.overlayMask.setSiblingIndex(3),this.buySeedBox.active=!0;break;case"BuyProps":this.buyPropsBox.active=!0;break;case"BuyCoins":this.lockBlockBox&&(this.lockBlockBox.active=!1),this.buyCoinsBox.active=!0;break;case"CreateCircle":this.createCircleBox.active=!0;break;case"UpdateNotice":this.updateNoticeBox.active=!0;break;case"Setting":this.settingBox.active=!0;break;case"QuitCircle":this.quitCircleBox.active=!0;break;case"PaymentMethod":"main"===l.getScene().name?this.overlayMask.setSiblingIndex(8):this.overlayMask.setSiblingIndex(4),this.paymentMethodBox.active=!0;break;case"EditName":this.editNameBox.active=!0;break;case"ShareLink":this.shareLinkBox.active=!0;break;case"NoticeList":this.noticeListBox.active=!0;break;case"NoticeDetail":this.noticeDetailBox.active=!0,this.overlayMask.setSiblingIndex(11);break;case"SeedUnlock":this.seedUnlockBox.active=!0,this.overlayMask.setSiblingIndex(12);break;case"BuySucceeded":this.buySucceededBox.active=!0,this.overlayMask.setSiblingIndex(2);break;case"BuyCoinsSuccess":this.buyCoinsSuccessBox.active=!0,this.overlayMask.setSiblingIndex(2);break;case"ExtraReward":this.extraRewardBox.active=!0,this.overlayMask.setSiblingIndex(2)}this.overlayMask.active=!0},s.closeDialog=function(e,t){switch(t){case"Bag":this.bagBox.active=!1,this.overlayMask.active=!1;break;case"Shop":this.shopBox.active=!1,this.overlayMask.active=!1;break;case"LockBlock":this.lockBlockBox.active=!1,this.overlayMask.active=!1;break;case"BuySeed":this.overlayMask.setSiblingIndex(1),this.buySeedBox.active=!1;break;case"BuyProps":this.buyPropsBox.active=!1,this.overlayMask.active=!1;break;case"BuyCoins":this.buyCoinsBox.active=!1,this.overlayMask.active=!1;break;case"CreateCircle":this.createCircleBox.active=!1,this.overlayMask.active=!1;break;case"UpdateNotice":this.updateNoticeBox.active=!1,this.overlayMask.active=!1;break;case"Setting":this.settingBox.active=!1,this.overlayMask.active=!1;break;case"QuitCircle":this.quitCircleBox.active=!1,this.overlayMask.active=!1;break;case"PaymentMethod":this.overlayMask.setSiblingIndex(1),this.paymentMethodBox.active=!1;break;case"EditName":this.editNameBox.active=!1,this.overlayMask.active=!1;break;case"ShareLink":this.shareLinkBox.active=!1,this.overlayMask.active=!1;break;case"NoticeList":this.noticeListBox.active=!1,this.overlayMask.active=!1;break;case"NoticeDetail":this.overlayMask.setSiblingIndex(1),this.noticeDetailBox.active=!1;break;case"SeedUnlock":this.overlayMask.setSiblingIndex(1),this.seedUnlockBox.active=!1,this.overlayMask.active=!1;break;case"BuySucceeded":this.overlayMask.setSiblingIndex(1),this.buySucceededBox.active=!1,this.overlayMask.active=!1;break;case"BuyCoinsSuccess":this.overlayMask.setSiblingIndex(1),this.buyCoinsSuccessBox.active=!1,this.overlayMask.active=!1;break;case"ExtraReward":this.overlayMask.setSiblingIndex(1),this.extraRewardBox.active=!1,this.overlayMask.active=!1}},s.setTargetBlock=function(e,t){this.targetBlock=e,this.targetBlockInfo=t},s.setTargetSeed=function(e){this.targetSeedInfo=e},s.setTargetBuySeed=function(e){this.targetBuySeedInfo=e},t}(u))._instance=void 0,O=t((E=le).prototype,"popBox",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(E.prototype,"bagBox",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(E.prototype,"shopBox",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(E.prototype,"lockBlockBox",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(E.prototype,"buySeedBox",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(E.prototype,"buyPropsBox",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(E.prototype,"buyCoinsBox",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(E.prototype,"createCircleBox",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(E.prototype,"updateNoticeBox",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(E.prototype,"settingBox",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(E.prototype,"quitCircleBox",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(E.prototype,"paymentMethodBox",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(E.prototype,"editNameBox",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(E.prototype,"shareLinkBox",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(E.prototype,"noticeListBox",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(E.prototype,"noticeDetailBox",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(E.prototype,"seedUnlockBox",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(E.prototype,"buySucceededBox",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(E.prototype,"buyCoinsSuccessBox",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(E.prototype,"extraRewardBox",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t(E.prototype,"overlayMask",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t(E.prototype,"targetBlock",[Be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(E.prototype,"targetBlockInfo",[Be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=t(E.prototype,"targetSeedInfo",[Be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=t(E.prototype,"targetBuySeedInfo",[Be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=E))||_));s._RF.pop()}}}));

System.register("chunks:///_virtual/drawer.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,t,r,n,o,a,s,c,l,p,u,d,f,h;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,s=e.Node,c=e.Vec3,l=e.resources,p=e.SpriteAtlas,u=e.find,d=e.Sprite,f=e.tween,h=e.Component}],execute:function(){var w,b,g,v,y,m,P,A,D,O;o._RF.push({},"01addohebJAh7Jv+vgSHvFB","drawer",void 0);var z=a.ccclass,S=a.property;e("Drawer",(w=z("Drawer"),b=S(s),g=S(c),v=S(c),w((P=i((m=function(e){function i(){for(var i,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return i=e.call.apply(e,[this].concat(o))||this,r(i,"drawer",P,n(i)),r(i,"isOpen",A,n(i)),r(i,"closedPosition",D,n(i)),r(i,"openPosition",O,n(i)),i.iconAtlas=null,i}t(i,e);var o=i.prototype;return o.onLoad=function(){var e=this;l.load("iconList",p,(function(i,t){i||(e.iconAtlas=t)}))},o.toggleDrawer=function(){var e=u("Canvas/TopContent/Income/Drawer");this.isOpen=!this.isOpen;var i=this.isOpen?this.closedPosition:this.openPosition;if(this.iconAtlas){var t="";t=this.isOpen?"drawerclose":"drawerexpand",e.getChildByName("Sprite").getComponent(d).spriteFrame=this.iconAtlas.getSpriteFrame(t)}f(this.drawer).to(.3,{position:i},{easing:"cubicOut"}).start()},i}(h)).prototype,"drawer",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=i(m.prototype,"isOpen",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),D=i(m.prototype,"closedPosition",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c(-300,0,0)}}),O=i(m.prototype,"openPosition",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c(0,0,0)}}),y=m))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/drawRoundedRect.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,r,e,o,n,a,s,l,h;return{setters:[function(t){i=t.applyDecoratedDescriptor,r=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){n=t.cclegacy,a=t._decorator,s=t.Color,l=t.Graphics,h=t.Component}],execute:function(){var c,u,d,p,f,b,g,y,R,w,m,z,C,W,X,Y,v;n._RF.push({},"a002ad/BrZDyp4btCS2qOTX","drawRoundedRect",void 0);var H=a.ccclass,k=a.property;t("DrawRoundedRect",(c=H("DrawRoundedRect"),u=k({type:s}),d=k({type:s}),c((b=i((f=function(t){function i(){for(var i,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(i=t.call.apply(t,[this].concat(n))||this).graphics=null,e(i,"rectWidth",b,o(i)),e(i,"rectHeight",g,o(i)),e(i,"borderRadius",y,o(i)),e(i,"borderWidth",R,o(i)),e(i,"fillColor",w,o(i)),e(i,"strokeColor",m,o(i)),e(i,"startX",z,o(i)),e(i,"startY",C,o(i)),e(i,"offsetX",W,o(i)),e(i,"offsetY",X,o(i)),e(i,"padding",Y,o(i)),e(i,"alignLeft",v,o(i)),i}r(i,t);var n=i.prototype;return n.onLoad=function(){this.graphics=this.getComponent(l),this.graphics&&this.drawRoundedRect()},n.drawRoundedRect=function(){this.graphics&&(this.alignLeft?(this.startX=0,this.startY=this.node.position.y-this.rectHeight/2+this.borderWidth):(this.startX=-this.rectWidth/2-this.borderWidth+this.offsetX,this.startY=-this.rectHeight/2-this.borderWidth+this.offsetY),this.graphics.fillColor=this.fillColor,this.graphics.roundRect(this.startX,this.startY,this.rectWidth,this.rectHeight,this.borderRadius),this.graphics.fillColor=this.fillColor,this.graphics.fill(),this.graphics.strokeColor=this.strokeColor,this.graphics.lineWidth=this.borderWidth,this.graphics.roundRect(this.startX-.5,this.startY-.5,this.rectWidth,this.rectHeight,this.borderRadius),this.graphics.stroke())},n.reRender=function(t){t&&(this.rectWidth=t+2*this.offsetX+2*this.borderWidth),this.graphics&&(this.graphics.clear(),this.drawRoundedRect())},i}(h)).prototype,"rectWidth",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=i(f.prototype,"rectHeight",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=i(f.prototype,"borderRadius",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=i(f.prototype,"borderWidth",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=i(f.prototype,"fillColor",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s(255,255,255,255)}}),m=i(f.prototype,"strokeColor",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s(165,42,42,255)}}),z=i(f.prototype,"startX",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),C=i(f.prototype,"startY",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),W=i(f.prototype,"offsetX",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),X=i(f.prototype,"offsetY",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Y=i(f.prototype,"padding",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=i(f.prototype,"alignLeft",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),p=f))||p));n._RF.pop()}}}));

System.register("chunks:///_virtual/dynamicLabel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./drawRoundedRect.ts"],(function(e){var i,t,n,r,o,a,c,u,l,s,d;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,c=e.Label,u=e.Node,l=e.UITransform,s=e.Component},function(e){d=e.DrawRoundedRect}],execute:function(){var p,h,f,b,g,x,m,y,R,w,I,v,z,C,D,L,S;o._RF.push({},"bc735KgFBFDpqUtfe/VaRcc","dynamicLabel",void 0);var B=a.ccclass,P=a.property;e("DynamicLabel",(p=B("DynamicLabel"),h=P(c),f=P(d),b=P(u),g=P(u),x=P(Boolean),m=P(u),p((w=i((R=function(e){function i(){for(var i,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return i=e.call.apply(e,[this].concat(o))||this,n(i,"label",w,r(i)),n(i,"roundedRect",I,r(i)),n(i,"prefixIcon",v,r(i)),n(i,"expand",z,r(i)),n(i,"hasExpand",C,r(i)),n(i,"suffixIcon",D,r(i)),n(i,"padding",L,r(i)),n(i,"iconSpacing",S,r(i)),i}t(i,e);var o=i.prototype;return o.updateBackground=function(){if(this.label&&this.roundedRect){var e=this.label.node.getComponent(l);if(!e)return;var i=0,t=0,n=e.width;if(i+=n,this.suffixIcon){var r=this.suffixIcon.getComponent(l);r&&(i+=r.width+this.iconSpacing)}if(this.hasExpand&&(i+=this.expand.getComponent(l).width),this.roundedRect.rectWidth=i+2*this.padding,this.roundedRect.reRender(this.roundedRect.rectWidth),t=0,this.prefixIcon){var o=this.prefixIcon.getComponent(l);o&&(t+=o.width/2-this.iconSpacing)}if(this.label.node.setPosition(t+this.padding+this.roundedRect.borderWidth,0),t+=n+this.iconSpacing,this.hasExpand&&(this.expand.setPosition(t+this.padding+this.roundedRect.borderWidth+25,this.expand.position.y),t+=this.expand.getComponent(l).width+this.iconSpacing),this.suffixIcon)this.suffixIcon.getComponent(l)&&this.suffixIcon.setPosition(this.roundedRect.rectWidth-this.padding,0)}},o.setText=function(e){var i=this;this.label&&(this.label.string=e,this.scheduleOnce((function(){i.updateBackground()}),0))},i}(s)).prototype,"label",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=i(R.prototype,"roundedRect",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=i(R.prototype,"prefixIcon",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=i(R.prototype,"expand",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=i(R.prototype,"hasExpand",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),D=i(R.prototype,"suffixIcon",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=i(R.prototype,"padding",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),S=i(R.prototype,"iconSpacing",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),y=R))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/editName.ts",["./rollupPluginModLoBabelHelpers.js","cc","./http.ts","./dialog.ts","./globalData.ts","./genInfo.ts","./loadData.ts"],(function(e){var t,n,i,a,r,o,c,s,l,u,p,f,m,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,r=e.asyncToGenerator},function(e){o=e.cclegacy,c=e._decorator,s=e.EditBox,l=e.Component},function(e){u=e.httpRequest},function(e){p=e.Dialog},function(e){f=e.GlobalData},function(e){m=e.GenInfo},function(e){d=e.i18n}],execute:function(){var y,h,g,k,b;o._RF.push({},"96bc1/XxMhO2JYWOpfGDqwJ","editName",void 0);var v=c.ccclass,N=c.property;e("EditName",(y=v("EditName"),h=N(s),y((b=t((k=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,i(t,"UNickname",b,a(t)),t}return n(t,e),t.prototype.requestUpdateNickname=function(){var e=r((function*(){var e=p.getInstance(),t=f.getInstance(),n=m.getInstance(),i=this.UNickname.string;if(i)try{var a=yield u("/api/v1/farm/u/nickname",{method:"POST",body:{nickname:i}});a.ok?(t.userInfo.nickname=i,n.updateUserInfo(),t.setTipsLabel(d.modifyNicknameSuccess),e.closeDialog(null,"EditName")):console.error("Request failed with status:",a.status)}catch(e){console.error("Error:",e)}else t.setTipsLabel(d.nicknameEmpty)}));return function(){return e.apply(this,arguments)}}(),t}(l)).prototype,"UNickname",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=k))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/expandNoticeWithArrow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./drawRoundedRect.ts"],(function(t){var n,e,i,o,r,a,s,l,u,c,p,g,h;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Node,l=t.Label,u=t.UITransform,c=t.tween,p=t.Vec3,g=t.Component},function(t){h=t.DrawRoundedRect}],execute:function(){var d,B,b,f,w,x,m,C,y,v,S,E,T;r._RF.push({},"a7e71gKeExDQ7zAhs315IH+","expandNoticeWithArrow",void 0);var P=a.ccclass,Y=a.property;t("ExpandNoticeWithArrow",(d=P("ExpandNoticeWithArrow"),B=Y(s),b=Y(s),f=Y(s),w=Y(s),x=Y(l),d((y=n((C=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return n=t.call.apply(t,[this].concat(r))||this,i(n,"bgBorder",y,o(n)),i(n,"mainContent",v,o(n)),i(n,"content",S,o(n)),i(n,"arrowButton",E,o(n)),i(n,"contentLabel",T,o(n)),n.isExpanded=!1,n.fullText="",n.collapsedText="",n.initBgStartY=-1,n.initBgHeight=-1,n.initButtonStartY=-1,n.initMainContentStartY=-1,n}e(n,t);var r=n.prototype;return r.onLoad=function(){this.isExpanded=!1,this.initBgStartY=this.bgBorder.position.y,this.initBgHeight=this.bgBorder.getComponent(u).height,this.initMainContentStartY=this.mainContent.position.y,this.initButtonStartY=this.arrowButton.position.y,this.arrowButton.on(s.EventType.TOUCH_END,this.toggleExpand,this),this.arrowButton.on(s.EventType.MOUSE_DOWN,this.toggleExpand,this)},r.updateContent=function(){this.fullText=this.contentLabel.string,this.collapsedText=this.getCollapsedText(this.fullText,2),this.setPanelState(!1)},r.toggleExpand=function(){this.isExpanded=!this.isExpanded,this.setPanelState(this.isExpanded)},r.setPanelState=function(t){var n=this;if(t){var e;this.contentLabel.string=this.fullText,this.scheduleOnce((function(){var t=n.contentLabel.getComponent(u).height-50.4;n.bgBorder.getComponent(h).rectHeight=n.initBgHeight+t,n.bgBorder.setPosition(n.bgBorder.position.x,n.initBgStartY-t/2),n.mainContent.setPosition(n.mainContent.position.x,n.mainContent.position.y-t),n.arrowButton.setPosition(n.arrowButton.position.x,n.initButtonStartY-t),n.bgBorder.getComponent(h).reRender()}),0);var i=null==(e=this.arrowButton)?void 0:e.eulerAngles.clone();c(i).to(.3,new p(0,0,180),{onUpdate:function(t){n.arrowButton&&(n.arrowButton.eulerAngles=t)}}).start()}else{var o;this.contentLabel.string=this.collapsedText,this.scheduleOnce((function(){n.bgBorder.getComponent(h).rectHeight=n.initBgHeight,n.bgBorder.setPosition(n.bgBorder.position.x,n.initBgStartY),n.mainContent.setPosition(n.mainContent.position.x,n.initMainContentStartY),n.arrowButton.setPosition(n.arrowButton.position.x,n.initButtonStartY),n.bgBorder.getComponent(h).reRender()}),0);var r=null==(o=this.arrowButton)?void 0:o.eulerAngles.clone();c(r).to(.3,new p(0,0,0),{onUpdate:function(t){n.arrowButton&&(n.arrowButton.eulerAngles=t)}}).start()}},r.getCollapsedText=function(t,n){var e=25*n;return t.length>e?t.slice(0,e)+"...":t},n}(g)).prototype,"bgBorder",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=n(C.prototype,"mainContent",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=n(C.prototype,"content",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=n(C.prototype,"arrowButton",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=n(C.prototype,"contentLabel",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=C))||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/genBag.ts",["./rollupPluginModLoBabelHelpers.js","cc","./http.ts","./utils.ts","./dialog.ts","./seedEffect.ts","./genBlock.ts","./loadingUI.ts","./loadData.ts","./genericObjectPool.ts"],(function(e){var t,n,i,a,o,r,s,c,l,u,d,p,g,h,f,m,S,b,y,v,C,B,U;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.asyncToGenerator},function(e){r=e.cclegacy,s=e._decorator,c=e.UITransform,l=e.Label,u=e.Sprite,d=e.Component,p=e.find,g=e.resources,h=e.SpriteAtlas},function(e){f=e.httpRequest},function(e){m=e.formatNumberShortDynamic,S=e.formatSecondsImprove},function(e){b=e.Dialog},function(e){y=e.SeedEffect},function(e){v=e.GenBlock},function(e){C=e.LoadingUI},function(e){B=e.i18n},function(e){U=e.GenericObjectPool}],execute:function(){var L,k,w,P,T,I,E,N,z,_,D;r._RF.push({},"e36ebc+EJdPXJpXVOKtjmi0","genBag",void 0);var F=s.ccclass,q=s.property;e("GenBag",F("GenBag")(((D=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,i(t,"seedList",w,a(t)),i(t,"USeedContainer",P,a(t)),i(t,"USeedList",T,a(t)),i(t,"USeedSection",I,a(t)),i(t,"UEmptyContent",E,a(t)),i(t,"UClickTipsLabel",N,a(t)),i(t,"seedSpacingY",z,a(t)),i(t,"seedSpacingX",_,a(t)),t.seedAtlas=null,t}n(t,e),t.getInstance=function(){return t._instance};var r=t.prototype;return r.onLoad=function(){var e=o((function*(){var e=this;t._instance=this;var n=this.node.getComponent(C);n.show(),this.USeedContainer=p("popBox/Canvas/Bag/ScrollView"),this.USeedList=p("popBox/Canvas/Bag/ScrollView/view/content"),this.USeedSection=p("popBox/Canvas/Bag/ScrollView/view/content/Section"),this.UEmptyContent=p("popBox/Canvas/Bag/Empty"),this.UClickTipsLabel=p("popBox/Canvas/Bag/Title"),yield new Promise((function(t){g.load("seedPlant",h,(function(n,i){n||(e.seedAtlas=i),t()}))})),U.instance.hasPool("bagItem")||U.instance.registerPool("bagItem",{prefab:this.USeedSection,initialSize:6,maxSize:30}),this.USeedSection&&(this.USeedSection.active=!1),yield this.requestPackageList(),n.hide()}));return function(){return e.apply(this,arguments)}}(),r.createPackageLayout=function(){var e,t=this;if(0===(null==(e=this.seedList)?void 0:e.length)||!this.seedList)return this.UEmptyContent.active=!0,this.USeedContainer.active=!1,void(this.UClickTipsLabel.active=!1);this.UEmptyContent.active=!1,this.USeedContainer.active=!0,this.UClickTipsLabel.active=!0;var n=this.USeedSection.getChildByName("Bg").getComponent(c).contentSize.height,i=this.USeedSection.getChildByName("Bg").getComponent(c).contentSize.width,a=this.USeedSection.position.x,o=this.USeedSection.position.y;this.seedList.forEach((function(e,r){var s=o-Math.floor(r/3)*(n+t.seedSpacingY),c=a+r%3*(i+t.seedSpacingX),d=U.instance.get("bagItem");t.USeedList.addChild(d),d.active=!0,d.setPosition(c,s),d.getChildByName("Name").getComponent(l).string=B.seed[e.level],d.getChildByName("Fruit").getChildByName("Number").getChildByName("Label").getComponent(l).string=e.quantity+"",d.getChildByName("TimeGain").getChildByName("Label").getComponent(l).string="+"+m(e.points)+"/block",d.getChildByName("Time").getComponent(l).string=S(e.maturity_time);var p="";switch(e.level){case 1:p="Carrot";break;case 2:p="Chive";break;case 3:p="Tomato";break;case 4:p="Corn";break;case 5:p="Sunflower";break;case 6:p="Watermelon";break;case 7:p="BSC";break;case 8:p="Base";break;case 9:p="Solona";break;case 10:p="Ton";break;case 11:p="ETH";break;case 12:p="BTC";break;default:p="Carrot"}t.seedAtlas&&(d.getChildByName("Fruit").getChildByName("Picture").getComponent(u).spriteFrame=t.seedAtlas.getSpriteFrame(p),d.addComponent(y).setTargetNode(d,e))}))},r.farmlandPlant=function(){var e=o((function*(){var e=b.getInstance();e.targetBlockInfo.id&&(yield this.requestFarmLandPlant(e.targetBlockInfo.id,e.targetSeedInfo.id),e.closeDialog(null,"Bag"))}));return function(){return e.apply(this,arguments)}}(),r.requestPackageList=function(){var e=o((function*(){var e=this;try{var t=yield f("/api/v1/seed/package",{method:"GET"});if(t.ok)t.data.data?this.seedList=t.data.data.sort((function(e,t){return e.level-t.level})):this.seedList=[],[].concat(this.USeedList.children).forEach((function(t){t!==e.USeedSection&&U.instance.put("bagItem",t)})),this.createPackageLayout();else console.error("Request failed with status:",t.status)}catch(e){console.error("Error:",e)}}));return function(){return e.apply(this,arguments)}}(),r.requestFarmLandPlant=function(){var e=o((function*(e,t){try{var n=yield f("/api/v1/farm/farmland/plant",{method:"POST",body:{farmland_Id:e,seed_id:t}});if(n.ok)v.getInstance().updateFarmLand(e);else console.error("Request failed with status:",n.status)}catch(e){console.error("Error:",e)}}));return function(t,n){return e.apply(this,arguments)}}(),r.routeToShop=function(){var e=b.getInstance();e.closeDialog(null,"Bag"),e.showDialog(null,"Shop")},t}(d))._instance=void 0,w=t((k=D).prototype,"seedList",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=t(k.prototype,"USeedContainer",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(k.prototype,"USeedList",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(k.prototype,"USeedSection",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(k.prototype,"UEmptyContent",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(k.prototype,"UClickTipsLabel",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(k.prototype,"seedSpacingY",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),_=t(k.prototype,"seedSpacingX",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),L=k))||L);r._RF.pop()}}}));

System.register("chunks:///_virtual/genBlock.ts",["./rollupPluginModLoBabelHelpers.js","cc","./http.ts","./genPlant.ts","./genInfo.ts","./dialog.ts","./globalData.ts","./loadData.ts","./audioManager.ts","./hoverEffect.ts","./utils.ts","./genericObjectPool.ts"],(function(t){var e,n,o,i,a,r,l,c,s,u,d,h,f,k,p,m,b,g,v,y,C,B,L,S,w,N;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized,a=t.asyncToGenerator},function(t){r=t.cclegacy,l=t._decorator,c=t.Node,s=t.resources,u=t.SpriteAtlas,d=t.UITransform,h=t.find,f=t.Label,k=t.Component,p=t.Sprite},function(t){m=t.httpRequest},function(t){b=t.GenPlant},function(t){g=t.GenInfo},function(t){v=t.Dialog},function(t){y=t.GlobalData},function(t){C=t.i18n,B=t.errTips},function(t){L=t.AudioMgr},function(t){S=t.HoverEffect},function(t){w=t.debounceMethod},function(t){N=t.GenericObjectPool}],execute:function(){var I,T,E,_,F,P,q,x,A,D,G,U,z,O,R,M;r._RF.push({},"d531b+uM+VNwLXm7OSFCSKz","genBlock",void 0);var H=l.ccclass,j=l.property;t("GenBlock",(I=H("GenBlock"),T=j(c),E=j(c),_=j(c),F=w(1e3),I(((M=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,o(e,"blockContainer",x,i(e)),o(e,"unlockBlock",A,i(e)),o(e,"sprite",D,i(e)),o(e,"spacingX",G,i(e)),o(e,"spacingY",U,i(e)),o(e,"blockList",z,i(e)),o(e,"column",O,i(e)),o(e,"row",R,i(e)),e._isExtendRequest=!1,e}n(e,t),e.getInstance=function(){return e._instance};var r=e.prototype;return r.onLoad=function(){e._instance=this,s.load("iconList",u,(function(t,e){t||(b.iconAtlas=e)})),s.load("seedPlant",u,(function(t,e){t||(b.seedAtlas=e)}))},r.init=function(){var t=a((function*(){y.getInstance().isStolen?this.requestFriendFarmLand():this.requestFarmLand(),this.blockContainer=h("Canvas/Block/List"),this.unlockBlock=h("Canvas/Block/Unlock"),this.sprite=h("Canvas/Block/Lock/Sprite")}));return function(){return t.apply(this,arguments)}}(),r.createblockLayout=function(){for(var t=this,e=this.sprite.getComponent(d).contentSize.width,n=this.sprite.getComponent(d).contentSize.height,o=this.unlockBlock.position.x,i=this.unlockBlock.position.y,a=0;a<this.row;a++)for(var r=function(){var r=o+l*(e+t.spacingX),s=i-a*(n+t.spacingY),u=N.instance.get("block"),d="soil",h=a*t.column+l;t.blockList[h].status?(d="soil",u.getChildByName("Countdown").active=!0,u.getChildByName("Plant").active=!0):(d="soillocked",u.getChildByName("Countdown").active=!1,u.getChildByName("Plant").active=!1),b.iconAtlas&&(u.getChildByName("Sprite").getComponent(p).spriteFrame=b.iconAtlas.getSpriteFrame(d)),u.active=!0,t.blockContainer.addChild(u),u.setPosition(r,s,0),u.on(c.EventType.TOUCH_END,(function(e){t.onBlockClick(e,u,t.blockList[h])})),u.on(c.EventType.MOUSE_DOWN,(function(e){t.onBlockClick(e,u,t.blockList[h])})),(new b).updatePlantStatus(u,t.blockList[h])},l=0;l<this.column;l++)r()},r.updateBlock=function(t){var e=new b,n=this.blockList.findIndex((function(e){return e.id===t}));this.blockContainer||(this.blockContainer=h("Canvas/Block/List")),this.blockContainer.children[n]||e.resetNode(this.blockContainer.children[n]),e.updatePlantStatus(this.blockContainer.children[n],this.blockList[n])},r.onBlockClick=function(t,e,n){var o=y.getInstance(),i=v.getInstance();if(i&&0===n.status){if(o.isStolen)return;var a=this.blockList.findIndex((function(t){return t.farmland_price>0&&0===t.status}));if(n.id!==this.blockList[a].id)return void o.setTipsLabel(C.pleaseUnlockPrevious);i.showDialog(t,"LockBlock"),i.setTargetBlock(e,n),i.lockBlockBox.getChildByName("Money").getChildByName("Content").getComponent(f).string=this.blockList[a].farmland_price+"",o.userInfo.points_balance<this.blockList[a].farmland_price?(i.lockBlockBox.getChildByName("GoldShort").active=!0,i.lockBlockBox.getChildByName("GainCoins").active=!0,i.lockBlockBox.getChildByName("Button").active=!1):(i.lockBlockBox.getChildByName("GoldShort").active=!1,i.lockBlockBox.getChildByName("GainCoins").active=!1,i.lockBlockBox.getChildByName("Button").active=!0)}},r.resetAllSchedule=function(){var t;null!=(t=this.blockContainer)&&t.children&&this.blockContainer.children.forEach((function(t,e){t.getChildByName("Countdown")&&(t.getChildByName("Countdown").hasSchedule=!1)}))},r.requestFarmLand=function(){var t=a((function*(){try{var t=yield m("/api/v1/farm/farmland",{method:"GET"});t.ok?(this.blockList=t.data.data,this.blockContainer.removeAllChildren(),this.createblockLayout()):console.error("Request failed with status:",t.status)}catch(t){console.error("Error:",t)}}));return function(){return t.apply(this,arguments)}}(),r.updateFarmLand=function(){var t=a((function*(t){try{var e=yield m("/api/v1/farm/farmland",{method:"GET"});e.ok?(this.blockList=e.data.data,this.updateBlock(t)):console.error("Request failed with status:",e.status)}catch(t){console.error("Error:",t)}}));return function(e){return t.apply(this,arguments)}}(),r.harvestFarmland=function(){var t=a((function*(t){try{var e=yield m("/api/v1/farm/farmland/harvest",{method:"POST",body:{farmland_Id:t}});e.ok?(this.updateFarmLand(t),this.updateUserInfo()):console.error("Request failed with status:",e.status)}catch(t){console.error("Error:",t)}}));return function(e){return t.apply(this,arguments)}}(),r.unLockBlock=function(){var t=a((function*(){var t=y.getInstance(),e=v.getInstance(),n=g.getInstance();if(!this._isExtendRequest){this._isExtendRequest=!0;try{var o=yield m("/api/v1/farm/farmland/extend",{method:"POST"});if(this._isExtendRequest=!1,o.ok){if(2003===o.data.code)return t.setTipsLabel(C.goldNotEnough),void e.closeDialog(null,"LockBlock");var i=o.data.data.seed_info,a="";switch(i.level){case 1:a="Carrot";break;case 2:a="Chive";break;case 3:a="Tomato";break;case 4:a="Corn";break;case 5:a="Sunflower";break;case 6:a="Watermelon";break;case 7:a="BSC";break;case 8:a="Base";break;case 9:a="Solona";break;case 10:a="Ton";break;case 11:a="ETH";break;case 12:a="BTC";break;default:a="Carrot"}b.seedAtlas&&(e.seedUnlockBox.getChildByName("Seed").getChildByName("Photo").getComponent(p).spriteFrame=b.seedAtlas.getSpriteFrame(a)),e.seedUnlockBox.getChildByName("Seed").getChildByName("Name").getComponent(f).string=C.seed[i.level],this.requestFarmLand(),n.requestUserInfo(),e.closeDialog(null,"LockBlock"),L.inst.playOneShot("sounds/unlock",1),e.showDialog(null,"SeedUnlock"),setTimeout((function(){e.closeDialog(null,"SeedUnlock")}),2e3)}else console.error("Request failed with status:",o.status)}catch(t){console.error("Error:",t)}}}));return function(){return t.apply(this,arguments)}}(),r.requestFriendFarmLand=function(){var t=a((function*(){var t=y.getInstance();try{var e=yield m("/api/v1/farm/farmland/userFarmlandList/"+t.stolenId,{method:"GET"});e.ok?(this.blockList=e.data.data,this.blockContainer=h("Canvas/Block/List"),this.blockContainer.removeAllChildren(),this.createblockLayout()):console.error("Request failed with status:",e.status)}catch(t){console.error("Error:",t)}}));return function(){return t.apply(this,arguments)}}(),r.stealFarmland=function(){var t=a((function*(t,e){var n=y.getInstance();try{var o=yield m("/api/v1/squad/steal",{method:"POST",body:{farmland_id:t,member_id:n.stolenId,plant_id:e}});o.ok&&0===o.data.code?(n.setTipsLabel(C.stealSuccess),this.updateFarmLand(t)):n.setTipsLabel(B[o.data.code])}catch(t){n.setTipsLabel(C.stealFailed),console.error("Error:",t)}}));return function(e,n){return t.apply(this,arguments)}}(),r.updateUserInfo=function(){var t=g.getInstance();t.requestUserInfo(),t.requestUAgg()},r.onekeyHarvest=function(){this.blockContainer.children.forEach((function(t,e){if(t.getChildByName("Plant")&&3===t.getChildByName("Plant").plantLevel){var n=t.getChildByName("Plant").getComponent(S);n.receiveHandAnimation(),n.goldMoveAnimation()}}))},e}(k))._instance=void 0,x=e((q=M).prototype,"blockContainer",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(q.prototype,"unlockBlock",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(q.prototype,"sprite",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(q.prototype,"spacingX",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 40}}),U=e(q.prototype,"spacingY",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),z=e(q.prototype,"blockList",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=e(q.prototype,"column",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),R=e(q.prototype,"row",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),e(q.prototype,"unLockBlock",[F],Object.getOwnPropertyDescriptor(q.prototype,"unLockBlock"),q.prototype),P=q))||P));r._RF.pop()}}}));

System.register("chunks:///_virtual/genericObjectPool.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,o,i,r,a,s,l;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){o=t.cclegacy,i=t._decorator,r=t.Node,a=t.find,s=t.instantiate,l=t.Component}],execute:function(){var c,u;o._RF.push({},"8b988dHqqNIsa5UycNlgvrk","genericObjectPool",void 0);var v=i.ccclass;i.property,t("GenericObjectPool",v("GenericObjectPool")(((u=function(t){function o(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this)._pools=new Map,e._poolContainers=new Map,e}e(o,t);var i=o.prototype;return i.onLoad=function(){o._instance&&o._instance!==this?this.destroy():o._instance=this},i.registerPool=function(t,e){var n,o;if(null!=(n=this._pools)&&n.has(t))console.warn("对象池 "+t+" 已存在");else{var i=e.prefab,s=e.initialSize,l=void 0===s?10:s,c=e.maxSize,u=void 0===c?50:c,v=e.autoPrewarm,p=void 0===v||v,h=new r(t+"_PoolContainer");this.node||(this.node=a("Canvas")),this.node.addChild(h),this._poolContainers.set(t,h);var f={prefab:i,maxSize:u,inactiveObjects:[],activeObjects:new Set,poolContainer:h};null==(o=this._pools)||o.set(t,f),p&&this.prewarm(t,l)}},i.prewarm=function(t,e){var n,o=null==(n=this._pools)?void 0:n.get(t);if(o)for(var i=0;i<e&&!(this.getTotalCount(t)>=o.maxSize);i++)this.createNewObject(t);else console.warn("对象池 "+t+" 未注册")},i.get=function(t,e){var n,o=null==(n=this._pools)?void 0:n.get(t);if(!o)return console.warn("对象池 "+t+" 未注册"),null;var i=null;if(o.inactiveObjects.length>0)i=o.inactiveObjects.pop()||null;else if(this.getTotalCount(t)<o.maxSize)i=this.createNewObject(t);else{var r=Array.from(o.activeObjects)[0];r&&(this.put(t,r),i=o.inactiveObjects.pop()||null)}if(i){i.active=!0,i.removeFromParent();var a=i.getComponent("IPoolable");a&&a.onSpawn&&a.onSpawn(e),o.activeObjects.add(i)}return i},i.getMultiple=function(t,e,n){for(var o=[],i=0;i<e;i++){var r=this.get(t,n);r&&o.push(r)}return o},i.put=function(t,e){var n;if(!e)return!1;var o=null==(n=this._pools)?void 0:n.get(t);if(!o)return console.warn("对象池 "+t+" 未注册"),!1;if(-1!==o.inactiveObjects.indexOf(e))return!1;var i=e.getComponent("IPoolable");return i&&i.onRecycle&&i.onRecycle(),e.active=!1,e.parent&&e.removeFromParent(),e.parent=o.poolContainer,e.setPosition(0,0,0),i&&i.reset&&i.reset(),o.activeObjects.delete(e),o.inactiveObjects.push(e),!0},i.putMultiple=function(t,e){var n=this;e.forEach((function(e){return n.put(t,e)}))},i.clearPool=function(t){var e,n=null==(e=this._pools)?void 0:e.get(t);if(n){var o;n.inactiveObjects.forEach((function(t){return t.destroy()})),n.activeObjects.forEach((function(t){return t.destroy()})),n.inactiveObjects=[],n.activeObjects.clear();var i=this._poolContainers.get(t);i&&i.destroy(),null==(o=this._pools)||o.delete(t),this._poolContainers.delete(t)}},i.clearAll=function(){var t,e=this;Array.from(null==(t=this._pools)?void 0:t.keys()).forEach((function(t){return e.clearPool(t)}))},i.getPoolInfo=function(t){var e,n=null==(e=this._pools)?void 0:e.get(t);return n?{total:n.activeObjects.size+n.inactiveObjects.length,active:n.activeObjects.size,inactive:n.inactiveObjects.length,maxSize:n.maxSize}:{total:0,active:0,inactive:0,maxSize:0}},i.getAllPoolsInfo=function(){var t,e=this,n=new Map;return null==(t=this._pools)||t.forEach((function(t,o){n.set(o,e.getPoolInfo(o))})),n},i.hasPool=function(t){var e;return null==(e=this._pools)?void 0:e.has(t)},i.resizePool=function(t,e){var n,o=null==(n=this._pools)?void 0:n.get(t);if(o&&(o.maxSize=e,e<this.getTotalCount(t)))for(var i=this.getTotalCount(t)-e,r=0;r<i;r++)if(o.inactiveObjects.length>0){var a=o.inactiveObjects.pop();a&&a.destroy()}},i.createNewObject=function(t){var e,n=null==(e=this._pools)?void 0:e.get(t);if(!n)return null;var o=s(n.prefab);return o.active=!1,o.parent=n.poolContainer,n.inactiveObjects.push(o),o},i.getTotalCount=function(t){var e,n=null==(e=this._pools)?void 0:e.get(t);return n?n.activeObjects.size+n.inactiveObjects.length:0},i.onDestroy=function(){this.clearAll()},i.reInit=function(){this.node=null,this._poolContainers=new Map,this._pools=new Map},n(o,null,[{key:"instance",get:function(){return this._instance}}]),o}(l))._instance=null,c=u))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/genInfo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./http.ts","./globalData.ts","./roundBox.ts","./dynamicLabel.ts","./utils.ts"],(function(t){var e,n,i,a,o,r,s,l,u,c,d,p,f,h,U,g,m,v,y,b,C;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.asyncToGenerator},function(t){r=t.cclegacy,s=t._decorator,l=t.Node,u=t.find,c=t.Label,d=t.Component,p=t.ImageAsset,f=t.Texture2D,h=t.SpriteFrame,U=t.UITransform},function(t){g=t.proxyUrl,m=t.httpRequest},function(t){v=t.GlobalData},function(t){y=t.RoundBox},function(t){b=t.DynamicLabel},function(t){C=t.formatToUSDInteger}],execute:function(){var x,I,_,A,S,E,B,w,T,N,F,R,z,L,k;r._RF.push({},"c70a3VLQFpIIrosgOuysjaJ","genInfo",void 0);var q=s.ccclass,P=s.property;t("GenInfo",(x=q("GenInfo"),I=P(l),x(((k=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,i(e,"UUserName",S,a(e)),i(e,"Upoints_balance",E,a(e)),i(e,"UAddition",B,a(e)),i(e,"UExpand",w,a(e)),i(e,"UHarvest",T,a(e)),i(e,"UStolenFrom",N,a(e)),i(e,"UBeStolen",F,a(e)),i(e,"UAvatar",R,a(e)),i(e,"uagg",z,a(e)),i(e,"friendInfo",L,a(e)),e}n(e,t),e.getInstance=function(){return e._instance};var r=e.prototype;return r.onLoad=function(){e._instance=this,this.UUserName=u("Canvas/TopContent/Person/Name"),this.Upoints_balance=u("Canvas/TopContent/Person/Money"),this.UAddition=u("Canvas/TopContent/Person/Addition"),this.UExpand=u("Canvas/TopContent/Person/Addition/Expand"),this.UHarvest=u("Canvas/TopContent/Income/Mask/Section/Harvest"),this.UStolenFrom=u("Canvas/TopContent/Income/Mask/Section/StolenFrom"),this.UBeStolen=u("Canvas/TopContent/Income/Mask/Section/BeStolen"),this.UAvatar=u("Canvas/TopContent/Avatar/RoundBox")},r.init=function(){var t=o((function*(){v.getInstance().isStolen||(yield this.requestUAgg(),yield this.requestUserInfo(),this.UUserName.active=!0,this.Upoints_balance.active=!0,this.UAddition.active=!0,this.UExpand.active=!0,this.UHarvest.active=!0,this.UStolenFrom.active=!0,this.UBeStolen.active=!0,this.UAvatar.active=!0)}));return function(){return t.apply(this,arguments)}}(),r.loadAvatarFromUrl=function(){var t=o((function*(t){var e=this;try{var n=yield fetch(g+"?url="+t),i=yield n.blob(),a=new Image,o=URL.createObjectURL(i);a.src=o,a.onload=function(){var t=new p(a),n=new f;n.image=t;var i=new h;i.texture=n,e.UAvatar&&(e.UAvatar.getComponent(U).width=90,e.UAvatar.getComponent(U).height=90,e.UAvatar.getComponent(y).spriteFrame=i),URL.revokeObjectURL(o)},a.onerror=function(t){console.error("加载 SVG 图片失败：",t)}}catch(t){console.error("代理请求失败：",t)}}));return function(e){return t.apply(this,arguments)}}(),r.updateUserInfo=function(){var t=this,e=v.getInstance();e.isStolen?this.UAddition.active=!1:this.UAddition.active=!0;var n=this.friendInfo?this.friendInfo:e.userInfo;this.UUserName.getComponent(b).setText(n.nickname?n.nickname:n.tg_username),this.Upoints_balance.getComponent(b).setText(C(n.points_balance)+""),n.expansion_card?(this.UAddition.getComponent(b).hasExpand=!0,this.UExpand.active=!0,this.UExpand.getChildByName("Prefix").active=!0,this.UExpand.getChildByName("Used").active=!0,this.UExpand.getChildByName("Suffix").active=!0,this.UExpand.getChildByName("Used").getComponent(c).string=n.expansion_card.total_count-n.expansion_card.used_count+"",this.UExpand.getChildByName("Suffix").getComponent(c).string="/"+n.expansion_card.total_count+")"):(this.UAddition.getComponent(b).hasExpand=!1,this.UExpand.active=!1,this.UExpand.getChildByName("Prefix").active=!1,this.UExpand.getChildByName("Used").active=!1,this.UExpand.getChildByName("Suffix").active=!1),this.scheduleOnce((function(){var e,i;t.UAddition.setPosition(t.Upoints_balance.position.x+t.Upoints_balance.getComponent(b).roundedRect.rectWidth+20,t.Upoints_balance.position.y),t.UAddition.getComponent(b).setText("+"+(null!=(e=n.expansion_card)&&e.ratio?null==(i=n.expansion_card)?void 0:i.ratio:n.radio)+"%")}),0)},r.requestUserInfo=function(){var t=o((function*(){try{var t=yield m("/api/v1/farm/u/userInfo",{method:"GET"});if(t.ok){var e=v.getInstance();e.userInfo=t.data.data,this.friendInfo=null,this.loadAvatarFromUrl(e.userInfo.avatar),this.updateUserInfo()}else console.error("Request failed with status:",t.status)}catch(t){console.error("Error:",t)}}));return function(){return t.apply(this,arguments)}}(),r.updateUAgg=function(){this.UHarvest.getChildByName("Value").getComponent(c).string=this.uagg.me_point_sum+"",this.UStolenFrom.getChildByName("Value").getComponent(c).string=this.uagg.steal_point_sum+"",this.UBeStolen.getChildByName("Value").getComponent(c).string=this.uagg.friend_point_sum+""},r.requestUAgg=function(){var t=o((function*(){try{var t=yield m("/api/v1/farm/u/agg",{method:"GET"});t.ok?(this.uagg=t.data.data,this.updateUAgg()):console.error("Request failed with status:",t.status)}catch(t){console.error("Error:",t)}}));return function(){return t.apply(this,arguments)}}(),r.requestFriendInfo=function(){var t=o((function*(){var t=v.getInstance();try{var e=yield m("/api/v1/farm/u/userInfo/"+t.stolenId,{method:"GET"});e.ok?(this.friendInfo=e.data.data,this.updateUserInfo(),this.loadAvatarFromUrl(this.friendInfo.avatar)):console.error("Request failed with status:",e.status)}catch(t){console.error("Error:",t)}}));return function(){return t.apply(this,arguments)}}(),e}(d))._instance=void 0,S=e((A=k).prototype,"UUserName",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(A.prototype,"Upoints_balance",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(A.prototype,"UAddition",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(A.prototype,"UExpand",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(A.prototype,"UHarvest",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(A.prototype,"UStolenFrom",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(A.prototype,"UBeStolen",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(A.prototype,"UAvatar",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(A.prototype,"uagg",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(A.prototype,"friendInfo",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=A))||_));r._RF.pop()}}}));

System.register("chunks:///_virtual/genPlant.ts",["./rollupPluginModLoBabelHelpers.js","cc","./utils.ts","./genBlock.ts","./hoverEffect.ts","./globalData.ts"],(function(t){var e,a,i,n,s,l,p,h,r,o,c;return{setters:[function(t){e=t.inheritsLoose},function(t){a=t.cclegacy,i=t._decorator,n=t.Sprite,s=t.UITransform,l=t.Label,p=t.Component},function(t){h=t.formatSeconds},function(t){r=t.GenBlock},function(t){o=t.HoverEffect},function(t){c=t.GlobalData}],execute:function(){var S,d;a._RF.push({},"8d18bpu6clDEanbB76tCUTF","genPlant",void 0);var g=i.ccclass;i.property,t("GenPlant",g("GenPlant")(((d=function(t){function a(){for(var e,a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))||this).plantSprite=null,e.plantMarkingSprite=null,e.plantSpritePath=null,e.plantMarkingsPath=null,e.plantLevel=null,e}e(a,t);var i=a.prototype;return i.updatePlantStatus=function(t,e){if(null!==t.children&&0!==e.status){var i=c.getInstance();if(this.plantSprite=t.getChildByName("Plant"),this.plantSprite.active=!0,this.plantMarkingSprite=t.getChildByName("Countdown").getChildByName("Icon"),t.getChildByName("Plant").getChildByName("Receivehand").active=!1,0===e.farm_status)this.plantSpritePath="awaitingSowing",this.plantLevel=0,t.getChildByName("Countdown").active=!1,t.getChildByName("Plant").getChildByName("Expand").active=!1,i.isStolen&&(this.plantSprite.active=!1);else{var l=(new Date).getTime(),p=e.seed.plant_at+1e3*e.seed.maturity_time,h=e.seed.plant_at;t.getChildByName("Countdown").active=!0;var S=t.getChildByName("Countdown");switch(e.seed.level){case 1:this.plantMarkingsPath="Carrot";break;case 2:this.plantMarkingsPath="Chive";break;case 3:this.plantMarkingsPath="Tomato";break;case 4:this.plantMarkingsPath="Corn";break;case 5:this.plantMarkingsPath="Sunflower";break;case 6:this.plantMarkingsPath="Watermelon";break;case 7:this.plantMarkingsPath="BSC";break;case 8:this.plantMarkingsPath="Base";break;case 9:this.plantMarkingsPath="Solona";break;case 10:this.plantMarkingsPath="Ton";break;case 11:this.plantMarkingsPath="ETH";break;case 12:this.plantMarkingsPath="BTC";break;default:this.plantMarkingsPath="Carrot"}if(p-l>0&&l-h>=0){if(this.startCountdownForLand(t,S,p-l,e),p-l>l-h)switch(this.plantLevel=1,e.seed.level){case 1:this.plantSpritePath="胡萝卜1";break;case 2:this.plantSpritePath="韭菜1";break;case 3:this.plantSpritePath="番茄1";break;case 4:this.plantSpritePath="玉米1";break;case 5:this.plantSpritePath="向日葵1";break;case 6:this.plantSpritePath="西瓜1";break;case 7:this.plantSpritePath="BSC1";break;case 8:this.plantSpritePath="Base1";break;case 9:this.plantSpritePath="Solona1";break;case 10:this.plantSpritePath="TON1";break;case 11:this.plantSpritePath="ETH1";break;case 12:this.plantSpritePath="BTC1";break;default:this.plantSpritePath="胡萝卜1"}if(p-l<l-h)switch(this.plantLevel=2,e.seed.level){case 1:this.plantSpritePath="胡萝卜2";break;case 2:this.plantSpritePath="韭菜2";break;case 3:this.plantSpritePath="番茄2";break;case 4:this.plantSpritePath="玉米2";break;case 5:this.plantSpritePath="向日葵2";break;case 6:this.plantSpritePath="西瓜2";break;case 7:this.plantSpritePath="BSC2";break;case 8:this.plantSpritePath="Base2";break;case 9:this.plantSpritePath="Solona2";break;case 10:this.plantSpritePath="TON2";break;case 11:this.plantSpritePath="ETH2";break;case 12:this.plantSpritePath="BTC2";break;default:this.plantSpritePath="胡萝卜2"}}else S.hasSchedule=!1;if(p-l<=0&&(this.plantLevel=3,S.active=!1),3===this.plantLevel){switch(e.seed.level){case 1:this.plantSpritePath="胡萝卜3";break;case 2:this.plantSpritePath="韭菜3";break;case 3:this.plantSpritePath="番茄3";break;case 4:this.plantSpritePath="玉米3";break;case 5:this.plantSpritePath="向日葵3";break;case 6:this.plantSpritePath="西瓜3";break;case 7:this.plantSpritePath="BSC3";break;case 8:this.plantSpritePath="Base3";break;case 9:this.plantSpritePath="Solona3";break;case 10:this.plantSpritePath="TON3";break;case 11:this.plantSpritePath="ETH3";break;case 12:this.plantSpritePath="BTC3";break;default:this.plantSpritePath="胡萝卜3"}i.isStolen||(t.getChildByName("Plant").getChildByName("Receivehand").active=!0)}}if(this.plantMarkingsPath&&a.seedAtlas&&(this.plantMarkingSprite.getComponent(n).spriteFrame=a.seedAtlas.getSpriteFrame(this.plantMarkingsPath)),i.isStolen&&3===this.plantLevel&&1===e.steal_available&&(t.getChildByName("Plant").getChildByName("Receivehand").active=!0),i.isStolen&&0===e.steal_available&&(t.getChildByName("Plant").getChildByName("Receivehand").active=!1),!this.plantSpritePath)r.getInstance().updateFarmLand(e.id);if(t.getChildByName("Plant").plantLevel=this.plantLevel,0===this.plantLevel){if(a.iconAtlas)if(this.plantSprite.getComponent(n).spriteFrame=a.iconAtlas.getSpriteFrame(this.plantSpritePath),this.plantSprite.getComponent(s).width=90,this.plantSprite.getComponent(s).height=105,this.plantSprite.setPosition(0,36,0),this.plantSprite.getComponent(o))this.plantSprite.getComponent(o).animating=!1,this.plantSprite.getComponent(o).setTargetNode(this.plantSprite,e,this.plantLevel);else this.plantSprite.addComponent(o).setTargetNode(this.plantSprite,e,this.plantLevel)}else if(a.seedAtlas)if(this.plantSprite.getComponent(n).spriteFrame=a.seedAtlas.getSpriteFrame(this.plantSpritePath),1===this.plantLevel&&(e.seed.level>=11?(this.plantSprite.getComponent(s).width=120,this.plantSprite.getComponent(s).height=140):(this.plantSprite.getComponent(s).width=140,this.plantSprite.getComponent(s).height=100),this.plantSprite.setPosition(0,30,0)),2===this.plantLevel&&(e.seed.level>=9&&e.seed.level<=10?(this.plantSprite.getComponent(s).width=160,this.plantSprite.getComponent(s).height=140):e.seed.level>=11?(this.plantSprite.getComponent(s).width=140,this.plantSprite.getComponent(s).height=160):(this.plantSprite.getComponent(s).width=180,this.plantSprite.getComponent(s).height=120),this.plantSprite.setPosition(0,30,0)),3===this.plantLevel&&(e.seed.level>=7&&e.seed.level<=10?(this.plantSprite.getComponent(s).width=180,this.plantSprite.getComponent(s).height=140):e.seed.level>=11?(this.plantSprite.getComponent(s).width=160,this.plantSprite.getComponent(s).height=180):(this.plantSprite.getComponent(s).width=180,this.plantSprite.getComponent(s).height=160),this.plantSprite.setPosition(0,18,0)),this.plantSprite.getComponent(o))this.plantSprite.getComponent(o).setTargetNode(this.plantSprite,e,this.plantLevel);else this.plantSprite.addComponent(o).setTargetNode(this.plantSprite,e,this.plantLevel)}},i.startCountdownForLand=function(t,e,a,i){var n=this,s=a,p=e.getChildByName("Content").getComponent(l);if(e.active=!0,!e.hasSchedule){this.schedule((function a(){e.hasSchedule=!0,s>0?(s-=1e3,p.string=h(Math.ceil(s/1e3))):(p.string="",n.unschedule(a),n.updateCountdown(e)),n.updatePlantStatus(t,i)}),1)}},i.updateCountdown=function(t){t.active=!1,t.hasSchedule=!1},i.resetNode=function(t){t.getChildByName("Countdown")&&(t.getChildByName("Countdown").hasSchedule=!1)},a}(p)).iconAtlas=null,d.seedAtlas=null,S=d))||S);a._RF.pop()}}}));

System.register("chunks:///_virtual/genShop.ts",["./rollupPluginModLoBabelHelpers.js","cc","./http.ts","./buySeedEffect.ts","./utils.ts","./drawRoundedRect.ts","./loadData.ts","./globalData.ts","./loadingUI.ts","./genericObjectPool.ts"],(function(e){var t,n,i,o,a,r,s,c,l,d,u,p,h,g,m,S,f,C,y,B,b,v,N,L;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.asyncToGenerator},function(e){r=e.cclegacy,s=e._decorator,c=e.UITransform,l=e.Label,d=e.Sprite,u=e.Color,p=e.Component,h=e.find,g=e.resources,m=e.SpriteAtlas},function(e){S=e.httpRequest},function(e){f=e.BuySeedEffect},function(e){C=e.formatNumberShortDynamic,y=e.formatSecondsImprove},function(e){B=e.DrawRoundedRect},function(e){b=e.i18n},function(e){v=e.GlobalData},function(e){N=e.LoadingUI},function(e){L=e.GenericObjectPool}],execute:function(){var w,U,k,I,z,R,T,P;r._RF.push({},"b5b2aoNUWBOsa1XQan6xuBr","genShop",void 0);var _=s.ccclass,D=s.property;e("GenShop",_("GenShop")(((P=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,i(t,"seedList",k,o(t)),i(t,"USeedList",I,o(t)),i(t,"USeedSection",z,o(t)),i(t,"seedSpacingY",R,o(t)),i(t,"seedSpacingX",T,o(t)),t.seedAtlas=null,t}n(t,e),t.getInstance=function(){return t._instance};var r=t.prototype;return r.onLoad=function(){var e=a((function*(){var e=this;t._instance=this;var n=this.node.getComponent(N);n.show(),this.USeedList=h("popBox/Canvas/Shop/ScrollView/view/content"),this.USeedSection=h("popBox/Canvas/Shop/ScrollView/view/content/Section"),yield new Promise((function(t){g.load("seedPlant",m,(function(n,i){n||(e.seedAtlas=i),t()}))})),L.instance.hasPool("shopItem")||L.instance.registerPool("shopItem",{prefab:this.USeedSection,initialSize:6,maxSize:30}),this.USeedSection&&(this.USeedSection.active=!1),yield this.requestShopList(),n.hide()}));return function(){return e.apply(this,arguments)}}(),r.createShopLayout=function(){var e=this,t=v.getInstance(),n=this.USeedSection.getChildByName("Bg").getComponent(c).contentSize.height,i=this.USeedSection.getChildByName("Bg").getComponent(c).contentSize.width,o=this.USeedSection.position.x,a=this.USeedSection.position.y;this.seedList.forEach((function(r,s){var c=a-Math.floor(s/3)*(n+e.seedSpacingY),p=o+s%3*(i+e.seedSpacingX),h=L.instance.get("shopItem");e.USeedList.addChild(h),h.active=!0,h.setPosition(p,c),h.getChildByName("Name").getComponent(l).string=b.seed[r.level],h.getChildByName("Fruit").getChildByName("Number").getChildByName("Label").getComponent(l).string=r.level+"",h.getChildByName("TimeGain").getChildByName("Label").getComponent(l).string="+"+C(r.points)+"/block",h.getChildByName("Time").getComponent(l).string=y(r.maturity_time),h.getChildByName("Button").getChildByName("Label").getComponent(l).string=C(r.price)+"";var g="";switch(r.level){case 1:g="Carrot";break;case 2:g="Chive";break;case 3:g="Tomato";break;case 4:g="Corn";break;case 5:g="Sunflower";break;case 6:g="Watermelon";break;case 7:g="BSC";break;case 8:g="Base";break;case 9:g="Solona";break;case 10:g="Ton";break;case 11:g="ETH";break;case 12:g="BTC";break;default:g="Carrot"}e.seedAtlas&&(h.getChildByName("Fruit").getChildByName("Picture").getComponent(d).spriteFrame=e.seedAtlas.getSpriteFrame(g));var m=h.getChildByName("Button");0===r.unlocked?(m.getChildByName("Border").getComponent(B).fillColor=new u(212,213,215),m.getChildByName("Border").getComponent(B).reRender(),h.getChildByName("Button").getChildByName("Label").getComponent(l).string=b.notUnlocked,m.getChildByName("Icon").active=!1):r.price>t.userInfo.points_balance?(m.getChildByName("Border").getComponent(B).fillColor=new u(212,213,215),m.getChildByName("Border").getComponent(B).reRender(),m.getChildByName("Icon").active=!1):(m.getChildByName("Border").getComponent(B).fillColor=new u(255,205,92),m.getChildByName("Border").getComponent(B).reRender(),m.getChildByName("Icon").active=!0),h.addComponent(f).setTargetNode(h.getChildByName("Button"),r)}))},r.requestShopList=function(){var e=a((function*(){var e=this;try{var t=yield S("/api/v1/seed/list?beginId=1&pageSize=20",{method:"GET"});if(t.ok)this.seedList=t.data.data,[].concat(this.USeedList.children).forEach((function(t){t!==e.USeedSection&&L.instance.put("shopItem",t)})),this.createShopLayout();else console.error("Request failed with status:",t.status)}catch(e){console.error("Error:",e)}}));return function(){return e.apply(this,arguments)}}(),t}(p))._instance=void 0,k=t((U=P).prototype,"seedList",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=t(U.prototype,"USeedList",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(U.prototype,"USeedSection",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(U.prototype,"seedSpacingY",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),T=t(U.prototype,"seedSpacingX",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),w=U))||w);r._RF.pop()}}}));

System.register("chunks:///_virtual/globalData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./drawRoundedRect.ts"],(function(e){var n,t,i,o,a,r,s,l,c,u,p;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,s=e.find,l=e.Label,c=e.UITransform,u=e.Component},function(e){p=e.DrawRoundedRect}],execute:function(){var v,g,b,f,d,C,m,h,y,T,I,w;a._RF.push({},"1c5b2xcpldDM4Jjaby1WYAJ","globalData",void 0);var B=r.ccclass,L=r.property;e("GlobalData",B("GlobalData")(((w=function(e){function n(){var n;return n=e.call(this)||this,i(n,"userInfo",b,o(n)),i(n,"isLogin",f,o(n)),i(n,"isStolen",d,o(n)),i(n,"stolenId",C,o(n)),i(n,"UMessage",m,o(n)),i(n,"UTipsFind",h,o(n)),i(n,"bgmIsOn",y,o(n)),i(n,"soundIsEnable",T,o(n)),i(n,"shareLink",I,o(n)),n}t(n,e);var a=n.prototype;return a.onLoad=function(){this.UMessage=s("Canvas/Message"),this.UMessage.active=!1},n.getInstance=function(){return n.instance||(n.instance=new n),n.instance},a.isStolenUISwitch=function(){var e=s("Canvas/TopContent/Income"),n=s("Canvas/TopContent/Slider"),t=s("Canvas/TopContent/Person/Money/PlusCircle"),i=s("Canvas/TopContent/Person/Addition/PlusCircle"),o=s("Canvas/Footer"),a=s("Canvas/FooterStolen");e.active=!1,n.active=!1,t.active=!1,i.active=!1,o.active=!1,o.setPosition(-1e3,-1e3),a.active=!0},a.isNotStolenUISwitch=function(){var e=s("Canvas/TopContent/Income"),n=s("Canvas/TopContent/Slider"),t=s("Canvas/TopContent/Person/Money/PlusCircle"),i=s("Canvas/TopContent/Person/Addition/PlusCircle"),o=s("Canvas/Footer"),a=s("Canvas/FooterStolen");e.active=!0,n.active=!0,t.active=!0,i.active=!0,o.active=!0,o.setPosition(0,-628.901),a.active=!1},a.setMessageLabel=function(e,n){void 0===n&&(n=2);var t=s("Canvas/Message");t.active=!0;var i=t.getChildByName("Label").getComponent(l);i.string=e,this.scheduleOnce((function(){var e=t.getChildByName("BgBorder").getComponent(p);e.rectHeight=i.getComponent(c).height+10,e.reRender()}),0),setTimeout((function(){t.active=!1}),1e3*n)},a.setTipsLabel=function(e,n){void 0===n&&(n=2);var t=s("popBox/Canvas/Tips");t.active=!0;var i=t.getChildByName("Label").getComponent(l);i.string=e,this.scheduleOnce((function(){if(t.getChildByName("BgBorder")){var e=t.getChildByName("BgBorder").getComponent(p);e.rectHeight=i.getComponent(c).height+10,e.reRender()}}),0),setTimeout((function(){t.active=!1}),1e3*n)},n}(u)).instance=void 0,b=n((g=w).prototype,"userInfo",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=n(g.prototype,"isLogin",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),d=n(g.prototype,"isStolen",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),C=n(g.prototype,"stolenId",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),m=n(g.prototype,"UMessage",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=n(g.prototype,"UTipsFind",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=n(g.prototype,"bgmIsOn",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),T=n(g.prototype,"soundIsEnable",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),I=n(g.prototype,"shareLink",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=g))||v);a._RF.pop()}}}));

System.register("chunks:///_virtual/harvest.ts",["./rollupPluginModLoBabelHelpers.js","cc","./loadData.ts","./http.ts","./dialog.ts","./globalData.ts","./dynamicLabel.ts","./utils.ts","./loadingUI.ts","./genericObjectPool.ts"],(function(t){var e,n,i,o,a,r,s,c,l,u,d,h,p,g,f,m,v,y,C,U,b,B,S;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.asyncToGenerator},function(t){r=t.cclegacy,s=t._decorator,c=t.Node,l=t.UITransform,u=t.Label,d=t.resources,h=t.SpriteAtlas,p=t.Sprite,g=t.Component,f=t.find},function(t){m=t.i18n},function(t){v=t.httpRequest},function(t){y=t.Dialog},function(t){C=t.GlobalData},function(t){U=t.DynamicLabel},function(t){b=t.formatToUSDInteger},function(t){B=t.LoadingUI},function(t){S=t.GenericObjectPool}],execute:function(){var x,I,N,L,w,H,P,E,A,T,z,_,D,F,M;r._RF.push({},"bcb8a7iFMZPepIVAp76B+pd","harvest",void 0);var q=s.ccclass,R=s.property,G={1:"RaiseSeedlings",2:"Tilling",3:"Irrigate",4:"Fertilize",5:"BugSpray",6:"Weeding"};t("harvest",(x=q("harvest"),I=R(c),N=R(c),L=R(c),x((P=e((H=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,i(e,"harvestList",P,o(e)),i(e,"UHarvestList",E,o(e)),i(e,"UHarvestSection",A,o(e)),i(e,"harvestSpacingX",T,o(e)),i(e,"harvestSpacingY",z,o(e)),i(e,"UMoney",_,o(e)),i(e,"UAddition",D,o(e)),i(e,"UExpand",F,o(e)),i(e,"column",M,o(e)),e.currentCard=null,e.iconAtlas=null,e}n(e,t);var r=e.prototype;return r.onLoad=function(){var t=a((function*(){var t=this,e=this.node.getComponent(B);e.show(),yield new Promise((function(e){d.load("iconList",h,(function(n,i){n||(t.iconAtlas=i),e()}))})),S.instance.hasPool("harvestItem")||S.instance.registerPool("harvestItem",{prefab:this.UHarvestSection,initialSize:6,maxSize:30}),this.UHarvestSection&&(this.UHarvestSection.active=!1),this.harvestSpacingY=40,this.UHarvestList=f("Canvas/Content/ScrollView/view/content"),this.UHarvestSection=f("Canvas/Content/ScrollView/view/content/Section"),this.UMoney=f("Canvas/Top/Money"),this.UAddition=f("Canvas/Top/Addition"),this.UExpand=f("Canvas/Top/Addition/Expand"),this.updateUserInfo(),yield this.requestHarvestList(),e.hide()}));return function(){return t.apply(this,arguments)}}(),r.createHarvestLayout=function(){var t=this,e=this.UHarvestSection.getComponent(l).contentSize.width,n=this.UHarvestSection.getComponent(l).contentSize.height,i=this.UHarvestSection.position.x,o=this.UHarvestSection.position.y;this.harvestList.forEach((function(a,r){var s=Math.floor(r/t.column),c=r%t.column,l=i+c*(e+t.harvestSpacingX),g=o-s*(n+t.harvestSpacingY),f=S.instance.get("harvestItem");t.UHarvestList.addChild(f),f.active=!0,f.setPosition(l,g),f.getChildByName("Name").getComponent(u).string=m.harvest[a.id],f.getChildByName("Addition").getChildByName("Label").getComponent(u).string="+"+a.ratio+"%",f.getChildByName("Button").getChildByName("Label").getComponent(u).string=a.points+"",f.getChildByName("Button").cardInfo=a,d.load("iconList",h,(function(t,e){t?console.error("Failed to load sprite:",t):f.getChildByName("Picture").getChildByName("Sprite").getComponent(p).spriteFrame=e.getSpriteFrame(G[a.id])}))}))},r.updateUserInfo=function(){var t=this,e=C.getInstance();this.UMoney.getComponent(U).setText(b(e.userInfo.points_balance)+""),e.userInfo.expansion_card?(this.UAddition.getComponent(U).hasExpand=!0,this.UExpand.active=!0,this.UExpand.getChildByName("Prefix").active=!0,this.UExpand.getChildByName("Used").active=!0,this.UExpand.getChildByName("Suffix").active=!0,this.UExpand.getChildByName("Used").getComponent(u).string=e.userInfo.expansion_card.total_count-e.userInfo.expansion_card.used_count+"",this.UExpand.getChildByName("Suffix").getComponent(u).string="/"+e.userInfo.expansion_card.total_count+")"):(this.UAddition.getComponent(U).hasExpand=!1,this.UExpand.active=!1,this.UExpand.getChildByName("Prefix").active=!1,this.UExpand.getChildByName("Used").active=!1,this.UExpand.getChildByName("Suffix").active=!1),this.scheduleOnce((function(){var n,i;t.UAddition.getComponent(U).setText("+"+(null!=(n=e.userInfo.expansion_card)&&n.ratio?null==(i=e.userInfo.expansion_card)?void 0:i.ratio:e.userInfo.radio)+"%")}),0),this.scheduleOnce((function(){t.UAddition.setPosition(t.UMoney.position.x+t.UMoney.getComponent(U).roundedRect.rectWidth+30,t.UMoney.position.y)}),0)},r.setCurrentSelectHarvestCard=function(t){var e=this,n=C.getInstance();if(n.userInfo.expansion_card)n.setTipsLabel(m.expansionCardAvailable);else{var i=y.getInstance();this.currentCard=t.currentTarget.cardInfo,i.showDialog(null,"BuyProps"),i.buyPropsBox.getChildByName("Name").getComponent(u).string=m.harvest[this.currentCard.id],i.buyPropsBox.getChildByName("Harvest").getChildByName("Value").getComponent(u).string="+"+this.currentCard.ratio+"%",i.buyPropsBox.getChildByName("Button").getChildByName("Label").getComponent(u).string=this.currentCard.points+"",d.load("iconList",h,(function(t,n){if(t)console.error("Failed to load sprite:",t);else{var o=i.buyPropsBox.getChildByName("Picture").getChildByName("Sprite");o.getComponent(p).spriteFrame=n.getSpriteFrame(G[e.currentCard.id]),o.getComponent(l).width=160,o.getComponent(l).height=160,o.setPosition(-10,-20,0)}}))}},r.setBuySucceededShow=function(){var t=y.getInstance();if(t.showDialog(null,"BuySucceeded"),t.buySucceededBox.getChildByName("Card").getChildByName("Name").getComponent(u).string=m.harvest[this.currentCard.id],t.buySucceededBox.getChildByName("Button").getChildByName("Label").getComponent(u).string="+ "+this.currentCard.ratio+"%",this.iconAtlas){var e=t.buySucceededBox.getChildByName("Card").getChildByName("Photo");e.getComponent(p).spriteFrame=this.iconAtlas.getSpriteFrame(G[this.currentCard.id]),e.getComponent(l).width=100,e.getComponent(l).height=100,e.setPosition(0,0,0)}setTimeout((function(){t.closeDialog(null,"BuySucceeded")}),3e3)},r.requestHarvestList=function(){var t=a((function*(){var t=this;try{var e=yield v("/api/v1/expansion/list",{method:"GET"});if(e.ok){if(this.harvestList=e.data.data.list,this.UHarvestList.children.length>0)[].concat(this.UHarvestList.children).forEach((function(e){e!==t.UHarvestSection&&S.instance.put("harvestItem",e)}));this.createHarvestLayout()}else console.error("Request failed with status:",e.status)}catch(t){console.error("Error:",t)}}));return function(){return t.apply(this,arguments)}}(),r.requestUserInfo=function(){var t=a((function*(){try{var t=yield v("/api/v1/farm/u/userInfo",{method:"GET"});if(t.ok)C.getInstance().userInfo=t.data.data,this.updateUserInfo();else console.error("Request failed with status:",t.status)}catch(t){console.error("Error:",t)}}));return function(){return t.apply(this,arguments)}}(),r.requestBuyHarvestCard=function(){var t=a((function*(){var t=C.getInstance(),e=y.getInstance();try{var n=yield v("/api/v1/expansion/buy",{method:"POST",body:{id:this.currentCard.id}});n.ok&&0===n.data.code?(this.requestUserInfo(),e.closeDialog(null,"BuyProps"),this.setBuySucceededShow()):(e.closeDialog(null,"BuyProps"),t.setTipsLabel(n.data.msg),console.error("Request failed with status:",n.status))}catch(t){console.error("Error:",t)}}));return function(){return t.apply(this,arguments)}}(),e}(g)).prototype,"harvestList",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=e(H.prototype,"UHarvestList",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(H.prototype,"UHarvestSection",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(H.prototype,"harvestSpacingX",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),z=e(H.prototype,"harvestSpacingY",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 40}}),_=e(H.prototype,"UMoney",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(H.prototype,"UAddition",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(H.prototype,"UExpand",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(H.prototype,"column",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),w=H))||w));r._RF.pop()}}}));

System.register("chunks:///_virtual/hideScrollbar.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,i,n,o,c,a,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,c=e._decorator,a=e.EditBox,l=e.Component}],execute:function(){var s,u,d,p,f;o._RF.push({},"0831c4LmoRAg43knIqECtKi","hideScrollbar",void 0);var h=c.ccclass,y=c.property;e("HideScrollbar",(s=h("HideScrollbar"),u=y(a),s((f=t((p=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return t=e.call.apply(e,[this].concat(o))||this,i(t,"editBox",f,n(t)),t}r(t,e);var o=t.prototype;return o.start=function(){this.editBox.node.on("editing-did-began",this.onFocusIn,this)},o.onFocusIn=function(){window.document.getElementsByTagName("textarea")[0].style["overflow-y"]="hidden"},t}(l)).prototype,"editBox",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=p))||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/hoverEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./dialog.ts","./genBlock.ts","./globalData.ts","./audioManager.ts"],(function(t){var e,i,n,a,o,r,s,g,c,h,l,d,u,v,p,f,m,y,N,T;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,s=t.Vec3,g=t.sys,c=t.Node,h=t.Label,l=t.tween,d=t.find,u=t.instantiate,v=t.UITransform,p=t.v3,f=t.Component},function(t){m=t.Dialog},function(t){y=t.GenBlock},function(t){N=t.GlobalData},function(t){T=t.AudioMgr}],execute:function(){var E,C,S,D,M,B,x,b,I;o._RF.push({},"43231LBsQJLjLE5Z4FP5UZg","hoverEffect",void 0);var w=r.ccclass,P=r.property;t("HoverEffect",(E=w("HoverEffect"),C=P(s),S=P(s),E((B=e((M=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this).targetNode=null,e.targetData=void 0,e.targetLevel=void 0,n(e,"hasPlayed",B,a(e)),n(e,"leftPosition",x,a(e)),n(e,"rightPosition",b,a(e)),n(e,"animating",I,a(e)),e.canTriggerMouseDown=!0,e.canTriggerTouchStart=!0,e}i(e,t);var o=e.prototype;return o.setTargetNode=function(t,e,i){this.targetNode=t,this.targetData=e,this.targetLevel=i,g.isMobile?(this.targetNode.on(c.EventType.TOUCH_START,this.onTouchStart,this),this.targetNode.on(c.EventType.TOUCH_END,this.onTouchEnd,this)):(this.targetNode.on(c.EventType.MOUSE_DOWN,this.onMouseDown,this),this.targetNode.on(c.EventType.MOUSE_ENTER,this.onMouseEnter,this),this.targetNode.on(c.EventType.MOUSE_LEAVE,this.onMouseLeave,this))},o.onMouseEnter=function(){var t,e=N.getInstance();if(!e.isStolen)if(3===this.targetLevel){if(this.targetNode.getChildByName("Receivehand").active=!0,null!=(t=e.userInfo)&&t.expansion_card){if(e.isStolen)return;this.targetNode.getChildByName("Expand").active=!0,this.targetNode.getChildByName("Expand").getChildByName("Percent").getComponent(h).string="+"+e.userInfo.expansion_card.ratio+"%"}}else this.targetNode.getChildByName("Receivehand").active=!1,this.targetNode.getChildByName("Expand").active=!1},o.onMouseLeave=function(){N.getInstance().isStolen||this.animating||(this.targetNode.getChildByName("Expand").active=!1)},o.onMouseDown=function(){var t=this;if(this.canTriggerMouseDown&&!this.animating){this.canTriggerMouseDown=!1,setTimeout((function(){t.canTriggerMouseDown=!0}),500);var e=N.getInstance(),i=y.getInstance(),n=m.getInstance();3===this.targetLevel&&(this.receiveHandAnimation(),this.playVoice(),e.isStolen?(this.goldStolenMoveAnimation(),i.stealFarmland(this.targetData.id,this.targetData.plantId)):(this.goldMoveAnimation(),i.harvestFarmland(this.targetData.id))),n&&0===this.targetLevel&&(n.showDialog(null,"Bag"),n.setTargetBlock(this.targetNode.parent,this.targetData))}},o.onTouchStart=function(){var t=this;if(this.canTriggerTouchStart&&!this.animating){this.canTriggerTouchStart=!1,setTimeout((function(){t.canTriggerTouchStart=!0}),500);var e=N.getInstance(),i=y.getInstance(),n=m.getInstance();if(3===this.targetLevel){var a;if(this.targetNode.getChildByName("Receivehand").active=!0,null!=(a=e.userInfo)&&a.expansion_card){if(e.isStolen)return;this.targetNode.getChildByName("Expand").active=!0,this.targetNode.getChildByName("Expand").getChildByName("Percent").getComponent(h).string="+"+e.userInfo.expansion_card.ratio+"%"}this.receiveHandAnimation(),this.playVoice(),e.isStolen?(this.goldStolenMoveAnimation(),i.stealFarmland(this.targetData.id,this.targetData.plantId)):(this.goldMoveAnimation(),i.harvestFarmland(this.targetData.id))}n&&0===this.targetLevel&&(n.showDialog(null,"Bag"),n.setTargetBlock(this.targetNode.parent,this.targetData))}},o.onTouchEnd=function(){N.getInstance().isStolen||this.animating||(this.targetNode.getChildByName("Receivehand").active=!1,this.targetNode.getChildByName("Expand").active=!1)},o.receiveHandAnimation=function(){var t=this;this.animating||(this.animating=!0,l(this.targetNode.getChildByName("Receivehand")).to(.8,{position:this.leftPosition},{easing:"cubicOut"}).to(.8,{position:this.rightPosition},{easing:"cubicOut"}).call((function(){t.targetNode.getChildByName("Receivehand").active=!1,t.targetNode.getChildByName("Expand").active=!1,t.animating=!1})).start())},o.goldMoveAnimation=function(){var t=d("Canvas/TopContent/Person/Money/Gold"),e=u(t);e.active=!0,e.setSiblingIndex(this.node.children.length-1),this.node.addChild(e);var i=this.node.getComponent(v).convertToWorldSpaceAR(s.ZERO),n=this.node.getComponent(v).convertToNodeSpaceAR(i);e.setPosition(i);var a=t.getComponent(v).convertToWorldSpaceAR(s.ZERO),o=this.node.getComponent(v).convertToNodeSpaceAR(a),r=p((n.x+o.x)/2,n.y+150,0);l({t:0}).to(1,{t:1},{onUpdate:function(t){var i=t.t,a=(1-i)*(1-i)*n.x+2*(1-i)*i*r.x+i*i*o.x,s=(1-i)*(1-i)*n.y+2*(1-i)*i*r.y+i*i*o.y;e.setPosition(a,s,0)}}).call((function(){e.destroy()})).start()},o.goldStolenMoveAnimation=function(){var t=d("Canvas/TopContent/Person/Money/Gold"),e=u(t);e.active=!0,e.setSiblingIndex(this.node.children.length-1),this.node.addChild(e);var i=new s(0,0,0);e.setPosition(i);var n=l().to(1,{position:new s(i.x,i.y+200,i.z)},{easing:"sineOut"}),a=l().to(1,{position:new s(i.x,i.y,i.z)},{easing:"sineIn"});l(e).sequence(n,a).start(),setTimeout((function(){e.active=!1}),2e3)},o.playVoice=function(){T.inst.playOneShot("sounds/reap",1)},o.onDestroy=function(){this.animating=!1},e}(f)).prototype,"hasPlayed",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x=e(M.prototype,"leftPosition",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s(0,25.625,0)}}),b=e(M.prototype,"rightPosition",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s(60.297,25.625,0)}}),I=e(M.prototype,"animating",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),D=M))||D));o._RF.pop()}}}));

System.register("chunks:///_virtual/http.ts",["./rollupPluginModLoBabelHelpers.js","cc","./globalData.ts","./loadData.ts"],(function(t){var e,n,o,r,i,a;return{setters:[function(t){e=t.asyncToGenerator,n=t.extends},function(t){o=t.cclegacy},function(t){r=t.GlobalData},function(t){i=t.tokenMock,a=t.i18n}],execute:function(){t("httpRequest",(function(t,e,n,o){return u.apply(this,arguments)})),o._RF.push({},"c04deCVHahCSodX2GwQtNU3","http",void 0);var c=t("token",""),s=(t("proxyUrl","http://98.81.21.160:8989/proxy"),"https://franklinzelo.duckdns.org");function u(){return(u=e((function*(e,o,u,d){void 0===o&&(o={}),void 0===d&&(d=1e4),c||(c=t("token",i));var p=o,f=p.method,h=void 0===f?"GET":f,y=p.headers,m=void 0===y?{"Content-Type":"application/json",Accept:"*/*","Accept-Encoding":"gzip, deflate, br",token:c}:y,v=p.body,k=void 0===v?null:v;u&&(e+=l(u));var g=new Promise((function(t,e){setTimeout((function(){e(new Error("Request timed out"))}),d)}));try{var b=yield Promise.race([fetch(""+s+e,{method:h,headers:n({},m,{token:c}),redirect:"follow",credentials:"same-origin",body:k?JSON.stringify(k):null}),g]),T=yield b.json();return{status:b.status,data:T,ok:b.ok}}catch(t){throw r.getInstance().setTipsLabel(a.requestError),new Error("HTTP request failed: "+t.message)}}))).apply(this,arguments)}function l(t){return t?"?"+Object.keys(t).map((function(e){return[e,t[e]]})).map((function(t){var e=t[0],n=t[1];return encodeURIComponent(e)+"="+encodeURIComponent(null!=n?n:"")})).join("&"):""}o._RF.pop()}}}));

System.register("chunks:///_virtual/iconRotation.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,o,e,i,r,c,u,a,l,s,p;return{setters:[function(t){n=t.applyDecoratedDescriptor,o=t.inheritsLoose,e=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,c=t._decorator,u=t.Node,a=t.Button,l=t.tween,s=t.Vec3,p=t.Component}],execute:function(){var f,h,b,y,g,v,d;r._RF.push({},"b5714nqst9OR4Frp5yzVK0H","iconRotation",void 0);var R=c.ccclass,z=c.property;t("IconRotation",(f=R("IconRotation"),h=z(u),b=z(a),f((v=n((g=function(t){function n(){for(var n,o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];return n=t.call.apply(t,[this].concat(r))||this,e(n,"icon",v,i(n)),e(n,"button",d,i(n)),n}o(n,t);var r=n.prototype;return r.start=function(){this.button.node.on("click",this.onButtonClick,this)},r.onButtonClick=function(){var t=this.icon.eulerAngles.z;l(this.icon).to(1,{eulerAngles:new s(0,0,t+360)}).start()},n}(p)).prototype,"icon",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=n(g.prototype,"button",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=g))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/inputHandler.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,e,i,r,o,a,c,l,u;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,r=n.assertThisInitialized,o=n.asyncToGenerator},function(n){a=n.cclegacy,c=n._decorator,l=n.EditBox,u=n.Component}],execute:function(){var s,p,b,f,d,h,y,v;a._RF.push({},"f2220tGUH9Gc7SDZd5SkFM4","inputHandler",void 0);var g=c.ccclass,k=c.property;n("InputHandler",(s=g("InputHandler"),p=k(l),s((d=t((f=function(n){function t(){for(var t,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return t=n.call.apply(n,[this].concat(o))||this,i(t,"editBox",d,r(t)),i(t,"callback",h,r(t)),i(t,"callbackThis",y,r(t)),i(t,"onFocusEvent",v,r(t)),t}e(t,n);var a=t.prototype;return a.start=function(){var n=this,t=null;this.editBox.node.on("text-changed",(function(e){var i=n.editBox.string;t&&clearTimeout(t),t=setTimeout((function(){i?(n.onFocusEvent.bind(n.callbackThis)(e,!0),n.callback.bind(n.callbackThis)(i)):n.onFocusEvent.bind(n.callbackThis)(e,!1)}),500)}))},a.onTextChange=function(){var n=o((function*(){var n=this.editBox.string;try{yield this.callback(n)}catch(n){console.error("Error querying backend:",n)}}));return function(){return n.apply(this,arguments)}}(),t}(u)).prototype,"editBox",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=t(f.prototype,"callback",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){}}}),y=t(f.prototype,"callbackThis",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(f.prototype,"onFocusEvent",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){}}}),b=f))||b));a._RF.pop()}}}));

System.register("chunks:///_virtual/interface.ts",["cc"],(function(e){var S;return{setters:[function(e){S=e.cclegacy}],execute:function(){S._RF.push({},"42547J1eAdMh6xCLg4SYBfw","interface",void 0);e("TaskType",function(e){return e[e.CREATE_SQUAD=0]="CREATE_SQUAD",e[e.FIRST_BUY_SEED=1]="FIRST_BUY_SEED",e[e.FIRST_STEAL=2]="FIRST_STEAL",e[e.HARVEST_10=3]="HARVEST_10",e[e.JOIN_SQUAD=4]="JOIN_SQUAD",e}({}));S._RF.pop()}}}));

System.register("chunks:///_virtual/lightRayEffect%20.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,e,r,a,n,o,h,s,l;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,r=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){n=t.cclegacy,o=t._decorator,h=t.Graphics,s=t.math,l=t.Component}],execute:function(){var c,p,g,u,f,d;n._RF.push({},"b18bcx7DW9GM5O2jZG1tnOx","lightRayEffect%20",void 0);var y=o.ccclass,b=o.property;t("LightRayEffect",y("LightRayEffect")((g=i((p=function(t){function i(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return i=t.call.apply(t,[this].concat(n))||this,r(i,"lightCount",g,a(i)),r(i,"lightLength",u,a(i)),r(i,"rotationSpeed",f,a(i)),r(i,"waveSpeed",d,a(i)),i.graphics=null,i.time=0,i}e(i,t);var n=i.prototype;return n.onLoad=function(){this.graphics=this.node.getComponent(h),this.graphics||(this.graphics=this.node.addComponent(h)),this.graphics.lineWidth=1,this.schedule(this.updateLightRays,.016)},n.updateLightRays=function(t){this.time+=t,this.node.angle+=this.rotationSpeed*t,this.drawLightRays()},n.drawLightRays=function(){if(this.graphics){this.graphics.clear();for(var t=360/this.lightCount,i=0;i<this.lightCount;i++){var e=i*t,r=(i+1)*t,a=void 0,n=void 0;i%2==0?(a=new s.Color(247,245,178,128),n=new s.Color(247,245,178,0)):(a=new s.Color(120,120,120,128),n=new s.Color(120,120,120,0));for(var o=0;o<120;o++){var h=o/119,l=a.a+h*(n.a-a.a),c=Math.sin(this.time*this.waveSpeed+h*Math.PI*2),p=Math.max(0,l*(1+.5*c)),g=new s.Color(a.r+h*(n.r-a.r),a.g+h*(n.g-a.g),a.b+h*(n.b-a.b),p),u=this.lightLength*h,f=s.toRadian(e),d=s.toRadian(r),y=u*Math.cos(f),b=u*Math.sin(f),v=u*Math.cos(d),w=u*Math.sin(d);this.graphics.fillColor=g,this.graphics.moveTo(0,0),this.graphics.lineTo(y,b),this.graphics.lineTo(v,w),this.graphics.lineTo(0,0),this.graphics.fill()}}}},i}(l)).prototype,"lightCount",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 24}}),u=i(p.prototype,"lightLength",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 200}}),f=i(p.prototype,"rotationSpeed",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 90}}),d=i(p.prototype,"waveSpeed",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),c=p))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/loadData.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"23eafoQ2X9IdIEqFsEuDvzt","loadData",void 0);e("userFilter",["id","firstName","lastName","username","languageCode","allowsWriteToPm"]),e("authFilter",["authDate","hash"]),e("tokenSort",["user","chat_instance","chat_type","auth_date","hash"]);var a=e("i18n",{stealSuccess:"Steal Success!",stealFailed:"Steal Failed!",goldNotEnough:"Not enough coins",empty:"Empty",stealTooManyTimes:"You're too late! The number of times this land has been stolen has reached the limit.",alreadyStolen:"You've already stolen from this crop!",buySuccess:"Purchase successful!",modifyNicknameSuccess:"Modify nickname successful!",nicknameEmpty:"The nickname cannot be empty.",notUnlocked:"Not Unlocked",insufficientCoins:"Insufficient Coins",insufficientCoins1:"IC",expansionCardAvailable:"Sorry, you currently have an active expansion card in use. You can only purchase a new card after the current one has been fully utilized.",noticeLimit:"The notification character limit is 1000.",pleaseUnlockPrevious:"Please unlock the previous plot of land first.",seed:{1:"Carrot",2:"Chive",3:"Tomato",4:"Corn",5:"Sunflower",6:"Watermelon",7:"BSC",8:"Base",9:"Solona",10:"Ton",11:"ETH",12:"BTC"},harvest:{1:"Raise Seedlings",2:"Tilling",3:"Irrigate",4:"Fertilize",5:"Bug Spray",6:"Weeding"},task:{1:"Complete 10 harvest actions",2:"Join the circle",3:"First time stealing vegetables",4:"Create a circle",5:"Purchase seeds",6:"Sign in for 3 consecutive days",7:"Sign in for 7 consecutive days",8:"Sign in for 12 consecutive days",9:"Sign in for 20 consecutive days",10:"Sign in for 30 consecutive days",11:"First time signing in for 7 consecutive days",12:"First time signing in for 12 consecutive days",13:"First-time purchase of gold coins",14:"Accumulated purchase of gold coins exceeds 50,000",15:"Complete the first purchase of an inflation card",16:"Unlock the first plot of land",17:"Unlock all land"},checkInSuccess:"Check In Succeed",checkedIn:"Checked in",checkIn:"Check in",todayChecked:"Signed in today",claim:"Claim",completed:"Completed",rewardClaimed:"The reward has been claimed",taskCompleted:"Task completed",taskUnCompleted:"Task not completed",requestError:"Request error",stayTuned:"Stay tuned",extraContent:"Congratulations! You've earned an extra ",joinedSucceed:"Joined succeed"});e("errTips",{5008:a.alreadyStolen,5007:a.stealTooManyTimes}),e("tokenMock","query_id=AAFNCHk7AAAAAE0IeTtP7RMw&user=%7B%22id%22%3A997787750%2C%22first_name%22%3A%22Franklin%22%2C%22last_name%22%3A%22Zelo%22%2C%22username%22%3A%22franklinTwentySeven%22%2C%22language_code%22%3A%22zh-hans%22%2C%22allows_write_to_pm%22%3Atrue%2C%22photo_url%22%3A%22https%3A%5C%2F%5C%2Ft.me%5C%2Fi%5C%2Fuserpic%5C%2F320%5C%2FVPWnV7PoxyMCwkPeMUnbj5ISWwjyAf0W0d1i8cKqjGk.svg%22%7D&auth_date=1734449112&signature=opXIYnBU_2ZOnJeRIpEqjwgUFzMpYGv5b-vDK2u3YE7ojcnhPvAzQ5UtEluRwTuEPflKqC8bcTnqnJpWc2KCAg&hash=0c5a480bdf6dc2a33c0f8d7d94779ca91442078ee409ed5f2bcb37e531489785"),e("blockList",[{id:13,plantId:"0",userId:"997787729",number:1,points:0,status:1,seed:null,farm_status:0,steal_available:1,farmland_price:0},{id:14,plantId:"0",userId:"997787729",number:2,points:0,status:1,seed:null,farm_status:0,steal_available:1,farmland_price:0},{id:15,plantId:"0",userId:"997787729",number:3,points:0,status:1,seed:null,farm_status:0,steal_available:1,farmland_price:0},{id:16,plantId:"0",userId:"997787729",number:4,points:0,status:1,seed:null,farm_status:0,steal_available:1,farmland_price:0},{id:17,plantId:"0",userId:"997787729",number:5,points:0,status:0,seed:null,farm_status:0,steal_available:1,farmland_price:2e4},{id:18,plantId:"0",userId:"997787729",number:6,points:0,status:0,seed:null,farm_status:0,steal_available:1,farmland_price:6e4},{id:19,plantId:"0",userId:"997787729",number:7,points:0,status:0,seed:null,farm_status:0,steal_available:1,farmland_price:7e4},{id:20,plantId:"0",userId:"997787729",number:8,points:0,status:0,seed:null,farm_status:0,steal_available:1,farmland_price:18e4},{id:21,plantId:"0",userId:"997787729",number:9,points:0,status:0,seed:null,farm_status:0,steal_available:1,farmland_price:2e5},{id:22,plantId:"0",userId:"997787729",number:10,points:0,status:0,seed:null,farm_status:0,steal_available:1,farmland_price:35e4},{id:23,plantId:"0",userId:"997787729",number:11,points:0,status:0,seed:null,farm_status:0,steal_available:1,farmland_price:45e4},{id:24,plantId:"0",userId:"997787729",number:12,points:0,status:0,seed:null,farm_status:0,steal_available:1,farmland_price:55e4}]),e("uAggResponse",{me_point_sum:10,friend_point_sum:750,steal_point_sum:0}),e("squadList",[{id:2,name:"t1",created_at:1737221184,total_points:1e4,member_count:1,notice:""},{id:3,name:"t2",created_at:1737221214,total_points:1e4,member_count:1,notice:""},{id:4,name:"t3",created_at:1737221214,total_points:1e4,member_count:1,notice:""},{id:5,name:"t4",created_at:1737221214,total_points:1e4,member_count:1,notice:""},{id:6,name:"t5",created_at:1737221214,total_points:1e4,member_count:1,notice:""}]),e("squadSearchList",[{id:2,name:"t1",created_at:1737221184,total_points:1e4,member_count:1,notice:""},{id:3,name:"t2",created_at:1737221214,total_points:1e4,member_count:1,notice:""},{id:4,name:"t3",created_at:1737221214,total_points:1e4,member_count:1,notice:""},{id:5,name:"t4",created_at:1737221214,total_points:1e4,member_count:1,notice:""},{id:6,name:"t5",created_at:1737221214,total_points:1e4,member_count:1,notice:""},{id:7,name:"t6",created_at:1737221214,total_points:1e4,member_count:1,notice:""},{id:8,name:"t7",created_at:1737221214,total_points:1e4,member_count:1,notice:""}]),e("membersList",[{id:"1",tg_first_name:"fff1",tg_last_name:"",tg_username:"111",points_balance:2081,level:4,steal_available:1,totalCollectPoints:0},{id:"3",tg_first_name:"fff",tg_last_name:"",tg_username:"333",points_balance:850,level:1,steal_available:0,totalCollectPoints:0},{id:"5418325938",tg_first_name:"fff",tg_last_name:"",tg_username:"kkkkkkkykyyyyyyyy",points_balance:219502696,level:10,steal_available:1,totalCollectPoints:605},{id:"54183259",tg_first_name:"fff",tg_last_name:"",tg_username:"kkkkkkky",points_balance:219502696,level:10,steal_available:1,totalCollectPoints:605}]),e("seedList",[{id:1,name:"玉米",type:1,level:8,points:1e4,maturity_time:10,sort:100010001,price:1,status:1,quantity:9,userSeedId:1},{id:2,name:"西红柿",type:1,level:8,points:12e3,maturity_time:15,sort:100010002,price:2,status:1,quantity:2,userSeedId:2},{id:2,name:"茄子",type:1,level:8,points:1e4,maturity_time:10,sort:100010001,price:1,status:1,quantity:29,userSeedId:1},{id:3,name:"玉米",type:1,level:8,points:1e4,maturity_time:10,sort:100010001,price:1,status:1,quantity:9,userSeedId:1}]),e("harvestList",[{created_at:1728811268236,updatedAt:1728811268236,id:1,userId:5418325938,skillType:"SOIL",ratio:10,upNum:1,cost:2e3},{created_at:null,updatedAt:null,id:null,userId:5418325938,skillType:"IRRIGATE",ratio:0,upNum:0,cost:1e3},{created_at:null,updatedAt:null,id:null,userId:5418325938,skillType:"PLANT",ratio:0,upNum:0,cost:1e3},{created_at:null,updatedAt:null,id:null,userId:5418325938,skillType:"GROW",ratio:0,upNum:0,cost:1e3},{created_at:null,updatedAt:null,id:null,userId:5418325938,skillType:"MANURE",ratio:0,upNum:0,cost:1e3},{created_at:null,updatedAt:null,id:null,userId:5418325938,skillType:"DITCH",ratio:0,upNum:0,cost:1e3}]),e("coinList",[{id:1,name:"10000积分",price:1,discount:0,points:1e4},{id:2,name:"63200积分",price:6,discount:95,points:63200},{id:3,name:"88900积分",price:8,discount:90,points:88900},{id:4,name:"211800积分",price:18,discount:85,points:211800},{id:5,name:"350000积分",price:28,discount:80,points:35e4},{id:6,name:"1400000积分",price:98,discount:70,points:14e5}]),e("noticeListData",[{id:1,type:0,title:"Update Prompt",content:"New features are live! Come on …"},{id:2,type:0,title:"Update Prompt",content:"New features are live! Come on …"},{id:3,type:0,title:"Update Prompt",content:"New features are live! Come on …"},{id:4,type:0,title:"Update Prompt",content:"New features are live! Come on …"},{id:5,type:0,title:"Update Prompt",content:"New features are live! Come on …"},{id:6,type:0,title:"Update Prompt",content:"New features are live! Come on …"},{id:7,type:0,title:"Update Prompt",content:"New features are live! Come on …"}]),e("taskList",[{id:1,title:"Follow the official X",total:"1",current:"1",gold:"500"},{id:2,title:"First purchase of seeds",total:"1",current:"1",gold:"500"},{id:3,title:"Complete 10 harvests",total:"10",current:"4",gold:"500"},{id:4,title:"Join the official community",total:"1",current:"0",gold:"500"},{id:5,title:"Complete the first steal",total:"1",current:"1",gold:"500"}]),e("dayList",[{id:1,title:"Day 1",rewardType:1,reward:"50",checkIn:0},{id:2,title:"Day 2",rewardType:1,reward:"50",checkIn:0},{id:3,title:"Day 3",rewardType:2,reward:"50",checkIn:0,extra:"150"},{id:4,title:"Day 4",rewardType:1,reward:"50",checkIn:0},{id:5,title:"Day 5",rewardType:1,reward:"50",checkIn:0},{id:6,title:"Day 6",rewardType:1,reward:"50",checkIn:0},{id:7,title:"Day 7",rewardType:3,reward:"50",checkIn:0,extra:"300"},{id:8,title:"Day 8",rewardType:1,reward:"50",checkIn:0},{id:9,title:"Day 9",rewardType:1,reward:"50",checkIn:0},{id:10,title:"Day 10",rewardType:1,reward:"50",checkIn:0},{id:11,title:"Day 11",rewardType:1,reward:"50",checkIn:0},{id:12,title:"Day 12",rewardType:4,reward:"50",checkIn:0,extra:"500"},{id:13,title:"Day 13",rewardType:1,reward:"50",checkIn:0},{id:14,title:"Day 14",rewardType:1,reward:"50",checkIn:0},{id:15,title:"Day 15",rewardType:1,reward:"50",checkIn:0},{id:16,title:"Day 16",rewardType:1,reward:"50",checkIn:0},{id:17,title:"Day 17",rewardType:1,reward:"50",checkIn:0},{id:18,title:"Day 18",rewardType:1,reward:"50",checkIn:0},{id:19,title:"Day 19",rewardType:1,reward:"50",checkIn:0},{id:20,title:"Day 20",rewardType:5,reward:"50",checkIn:0,extra:"1000"},{id:21,title:"Day 21",rewardType:1,reward:"50",checkIn:0},{id:22,title:"Day 22",rewardType:1,reward:"50",checkIn:0},{id:23,title:"Day 23",rewardType:1,reward:"50",checkIn:0},{id:24,title:"Day 24",rewardType:1,reward:"50",checkIn:0},{id:25,title:"Day 25",rewardType:2,reward:"50",checkIn:0},{id:26,title:"Day 26",rewardType:1,reward:"50",checkIn:0},{id:27,title:"Day 27",rewardType:1,reward:"50",checkIn:0},{id:28,title:"Day 28",rewardType:1,reward:"50",checkIn:0},{id:29,title:"Day 29",rewardType:1,reward:"50",checkIn:0},{id:30,title:"Day 30",rewardType:6,reward:"50",checkIn:0,extra:"5%"}]);t._RF.pop()}}}));

System.register("chunks:///_virtual/loadingScreen%20.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,n,o,t,a,i,c,l,s,u;return{setters:[function(e){r=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,t=e.assertThisInitialized},function(e){a=e.cclegacy,i=e._decorator,c=e.ProgressBar,l=e.Label,s=e.director,u=e.Component}],execute:function(){var p,g,f,d,S,b,h;a._RF.push({},"0f0f9DRD7NJWodvoXGqb55Q","loadingScreen%20",void 0);var v=i.ccclass,y=i.property;e("LoadingScreen",(p=v("LoadingScreen"),g=y(c),f=y(l),p((b=r((S=function(e){function r(){for(var r,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=e.call.apply(e,[this].concat(a))||this,o(r,"progressBar",b,t(r)),o(r,"progressLabel",h,t(r)),r.targetScene="main",r}n(r,e);var a=r.prototype;return a.onLoad=function(){this.loadMainScene()},a.loadMainScene=function(){var e=this;s.preloadScene(this.targetScene,(function(r,n){var o=r/n;e.progressBar.progress=o,e.progressLabel.string="加载中... "+Math.floor(100*o)+"%"}),(function(r){console.log("可用场景列表：",s.getScene()),r?console.error("加载场景失败: "+e.targetScene,r):s.loadScene(e.targetScene)}))},r}(u)).prototype,"progressBar",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=r(S.prototype,"progressLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=S))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/loadingUI.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,e,n,o,r,a,s,l,d,h,u,c,g;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Node,l=t.Label,d=t.Button,h=t.instantiate,u=t.UITransform,c=t.Vec3,g=t.Component}],execute:function(){var p,y,f,N,b,_,v,L,R,B,C;r._RF.push({},"d4894nDA39L7Kzl9TIS9wak","loadingUI",void 0);var m=a.ccclass,w=a.property;t("LoadingUI",(p=m("LoadingUI"),y=w(s),f=w(l),N=w(d),b=w(s),p((L=i((v=function(t){function i(){for(var i,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return i=t.call.apply(t,[this].concat(r))||this,n(i,"loadingNode",L,o(i)),n(i,"errorLabel",R,o(i)),n(i,"retryButton",B,o(i)),n(i,"spinnerNode",C,o(i)),i._retryCallback=null,i._isRotating=!1,i}e(i,t);var r=i.prototype;return r.onLoad=function(){this.loadingNode&&(this.retryButton&&(this.retryButton.node.active=!1,this.retryButton.node.on("click",this._onRetryClick,this)),this.spinnerNode=this.loadingNode.getChildByName("Spinner"))},r.show=function(t){this.node.getChildByName("LoadingUI")||(this.loadingNode=h(this.loadingNode),this.node.addChild(this.loadingNode),this.spinnerNode=this.loadingNode.getChildByName("Spinner")),this.loadingNode&&(this._centerLoadingNode(),this.loadingNode.active=!0,this._retryCallback=t,this.errorLabel&&(this.errorLabel.node.active=!1),this.retryButton&&(this.retryButton.node.active=!1),this._startRotation())},r._centerLoadingNode=function(){var t=this.loadingNode.getComponent(u);if(t){var i,e=this.node.getComponent(u);if(e){new c(e.width,e.height,0),i=new c(0,0,0);t.contentSize;this.loadingNode.setPosition(new c(i.x,i.y,0))}}},r._startRotation=function(){this.spinnerNode&&!this._isRotating&&(this._isRotating=!0,this.schedule(this._updateRotation,.016))},r._updateRotation=function(){if(this.spinnerNode){var t=this.spinnerNode.angle;this.spinnerNode.angle=t-5}},r._stopRotation=function(){this._isRotating&&(this._isRotating=!1,this.unschedule(this._updateRotation))},r.showError=function(t){this.loadingNode&&(this.errorLabel&&(this.errorLabel.string=t,this.errorLabel.node.active=!0),this.retryButton&&(this.retryButton.node.active=!0),this._stopRotation())},r._onRetryClick=function(){this._retryCallback&&this._retryCallback()},r.hide=function(){this.loadingNode&&(this.loadingNode.active=!1,this.errorLabel&&(this.errorLabel.node.active=!1),this.retryButton&&(this.retryButton.node.active=!1),this._stopRotation())},i}(g)).prototype,"loadingNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=i(v.prototype,"errorLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=i(v.prototype,"retryButton",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=i(v.prototype,"spinnerNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=v))||_));r._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./adaptiveCanvas.ts","./audioControl.ts","./audioManager.ts","./autoScaleImage.ts","./buttonClickSoundMgr.ts","./buttonGradient.ts","./buyCoins.ts","./buySeed.ts","./buySeedEffect.ts","./circles.ts","./customInputBox.ts","./customProgressBar.ts","./dashedRectangle.ts","./dialog.ts","./drawRoundedRect.ts","./drawer.ts","./dynamicLabel.ts","./editName.ts","./expandNoticeWithArrow.ts","./genBag.ts","./genBlock.ts","./genInfo.ts","./genPlant.ts","./genShop.ts","./genericObjectPool.ts","./globalData.ts","./harvest.ts","./hideScrollbar.ts","./hoverEffect.ts","./http.ts","./iconRotation.ts","./inputHandler.ts","./interface.ts","./lightRayEffect%20.ts","./loadData.ts","./loadingScreen%20.ts","./loadingUI.ts","./main.ts","./noticeList.ts","./overlayMask.ts","./popupStop.ts","./progressbar.ts","./roundBox.ts","./roundedRect.ts","./roundedRectMask.ts","./roundedSprite.ts","./scaleAction.ts","./sceneSwitcher.ts","./seedEffect.ts","./soundControl.ts","./switchButton.ts","./task.ts","./telegram.ts","./utils.ts","./websocketManager.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/main.ts",["./rollupPluginModLoBabelHelpers.js","cc","./genBlock.ts","./genInfo.ts","./http.ts","./globalData.ts","./audioManager.ts","./loadingUI.ts","./websocketManager.ts","./dialog.ts","./genericObjectPool.ts"],(function(e){var t,n,o,i,r,a,c,s,l,u,f,p,g,d,h,y,v,m,b,w,k;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.asyncToGenerator},function(e){a=e.cclegacy,c=e._decorator,s=e.Node,l=e.Label,u=e.Component,f=e.director,p=e.find},function(e){g=e.GenBlock},function(e){d=e.GenInfo},function(e){h=e.httpRequest},function(e){y=e.GlobalData},function(e){v=e.AudioMgr},function(e){m=e.LoadingUI},function(e){b=e.WebSocketManager},function(e){w=e.Dialog},function(e){k=e.GenericObjectPool}],execute:function(){var S,C,I,B,P,D,L,z,R,q,M,T,_,G;a._RF.push({},"ad534xFMT9JSp8KEKnH95y0","main",void 0);var H=c.ccclass,N=c.property;e("main",(S=H("main"),C=N(s),I=N(s),B=N(s),P=N(s),D=N(s),S(((G=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,o(t,"genBlock",R,i(t)),o(t,"topContent",q,i(t)),o(t,"block",M,i(t)),o(t,"footer",T,i(t)),o(t,"tools",_,i(t)),t}n(t,e);var a=t.prototype;return a.onAwake=function(){var e=r((function*(){f.preloadScene("circles"),f.preloadScene("harvest"),f.preloadScene("task");var e=new URLSearchParams(window.location.search).get("scene");null!=e&&e.includes("circles")&&(yield this.circleScenePreview())}));return function(){return e.apply(this,arguments)}}(),a.onLoad=function(){var e=r((function*(){y.getInstance().isStolen?this.init():(v.inst.audioSource.state||v.inst.play("sounds/bgm",1),this.userLogin(),this.topContent.active=!1,this.footer.active=!1,this.tools.active=!1,this.node.getComponent(m).show(),this.connectWebsocket())}));return function(){return e.apply(this,arguments)}}(),a.circleScenePreview=function(){var e=r((function*(){yield this.requestUserInfo(),f.loadScene("circles",r((function*(e){e&&console.error("Failed to load scene:","circle",e)})))}));return function(){return e.apply(this,arguments)}}(),a.init=function(){var e=r((function*(){var e=d.getInstance(),t=g.getInstance();k.instance.reInit(),k.instance.registerPool("block",{prefab:p("Canvas/Block/Unlock"),initialSize:12,maxSize:12,autoPrewarm:!0}),yield Promise.all([e.init(),t.init()]),this.topContent.active=!0,this.footer.active=!0,this.tools.active=!0,this.node.getComponent(m).hide()}));return function(){return e.apply(this,arguments)}}(),a.userLogin=function(){var e=r((function*(){var e=y.getInstance();try{var t=yield h("/api/v1/farm/u/login",{method:"POST"});t.ok?(e.isLogin=!0,this.init()):(e.isLogin=!1,console.error("Request failed with status:",t.status))}catch(e){console.error("Error:",e)}}));return function(){return e.apply(this,arguments)}}(),a.requestOneClickHarvest=function(){var e=r((function*(){var e=d.getInstance(),t=g.getInstance();try{var n=yield h("/api/v1/farm/farmland/harvest_all",{method:"POST"});n.ok?(e.init(),t.onekeyHarvest(),t.init()):console.error("Request failed with status:",n.status)}catch(e){console.error("Error:",e)}}));return function(){return e.apply(this,arguments)}}(),a.requestUserInfo=function(){var e=r((function*(){var e=y.getInstance();try{var t=yield h("/api/v1/farm/u/userInfo",{method:"GET"});t.ok?e.userInfo=t.data.data:console.error("Request failed with status:",t.status)}catch(e){console.error("Error:",e)}}));return function(){return e.apply(this,arguments)}}(),a.connectWebsocket=function(){var e=b.instance;e.connect("wss://we-farming.com/websocket"),e.registerHandler("message",(function(e){var t=w.getInstance();switch(e.content.type){case"order_payment_success":t.closeDialog(null,"PaymentMethod"),t.closeDialog(null,"BuyCoins"),t.buyCoinsSuccessBox.getChildByName("Coins").getChildByName("Number").getChildByName("Name").getComponent(l).string=e.content.data.points,t.showDialog(null,"BuyCoinsSuccess"),setTimeout((function(){t.closeDialog(null,"BuyCoinsSuccess")}),2e3)}console.log("Received chat message:",e)})),e.send({type:"chat",content:"Hello, world!"})},t}(u)).token=null,R=t((z=G).prototype,"genBlock",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new g}}),q=t(z.prototype,"topContent",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(z.prototype,"block",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(z.prototype,"footer",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(z.prototype,"tools",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=z))||L));a._RF.pop()}}}));

System.register("chunks:///_virtual/noticeList.ts",["./rollupPluginModLoBabelHelpers.js","cc","./loadData.ts"],(function(t){var e,i,n,o,r,c,a,s,l,u,p,h,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.asyncToGenerator},function(t){c=t.cclegacy,a=t._decorator,s=t.Node,l=t.UITransform,u=t.instantiate,p=t.Label,h=t.Component},function(t){f=t.noticeListData}],execute:function(){var N,g,m,y,d,L,b,C,v,U;c._RF.push({},"fe6af9Fx+JA3LHAcDGaFNyk","noticeList",void 0);var w=a.ccclass,I=a.property;t("noticeList",(N=w("noticeList"),g=I(s),m=I(s),y=I(Number),N((b=e((L=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),c=0;c<i;c++)r[c]=arguments[c];return e=t.call.apply(t,[this].concat(r))||this,n(e,"showNoticeList",b,o(e)),n(e,"UNoticeListContent",C,o(e)),n(e,"UNoticeItem",v,o(e)),n(e,"noticeSpacingY",U,o(e)),e}i(e,t);var c=e.prototype;return c.onLoad=function(){this.init()},c.init=function(){var t=r((function*(){this.showNoticeList=f,this.createNoticeList()}));return function(){return t.apply(this,arguments)}}(),c.createNoticeList=function(){var t=this,e=this.UNoticeItem.getComponent(l).contentSize.height,i=this.UNoticeItem.position.x,n=this.UNoticeItem.position.y;this.showNoticeList.forEach((function(o,r){var c=n-r*(e+t.noticeSpacingY),a=u(t.UNoticeItem);t.UNoticeListContent.addChild(a),a.active=!0,a.setPosition(i,c),a.getChildByName("Middle").getChildByName("Title").getComponent(p).string=o.title,a.getChildByName("Middle").getChildByName("Content").getComponent(p).string=o.content}))},e}(h)).prototype,"showNoticeList",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(L.prototype,"UNoticeListContent",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(L.prototype,"UNoticeItem",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(L.prototype,"noticeSpacingY",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 35}}),d=L))||d));c._RF.pop()}}}));

System.register("chunks:///_virtual/overlayMask.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var o,i,n,e,s,p,r;return{setters:[function(t){o=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator,e=t.Graphics,s=t.Node,p=t.UITransform,r=t.Component}],execute:function(){var a;i._RF.push({},"8d2ecwxLPdKxLlJI/zZQnP0","overlayMask",void 0);var h=n.ccclass;n.property,t("OverlayMask",h("OverlayMask")(a=function(t){function i(){for(var o,i=arguments.length,n=new Array(i),e=0;e<i;e++)n[e]=arguments[e];return(o=t.call.apply(t,[this].concat(n))||this).graphics=null,o.uiTransform=void 0,o}o(i,t);var n=i.prototype;return n.onLoad=function(){this.graphics=this.getComponent(e),this.drawOverlay(),this.node.on(s.EventType.TOUCH_START,this.propagationStopped,this),this.node.on(s.EventType.TOUCH_MOVE,this.propagationStopped,this),this.node.on(s.EventType.TOUCH_END,this.propagationStopped,this),this.node.on(s.EventType.TOUCH_CANCEL,this.propagationStopped,this),this.node.on(s.EventType.MOUSE_DOWN,this.propagationStopped,this),this.node.on(s.EventType.MOUSE_ENTER,this.propagationStopped,this),this.node.on(s.EventType.MOUSE_LEAVE,this.propagationStopped,this)},n.propagationStopped=function(t){t.propagationStopped=!0},n.drawOverlay=function(){this.graphics&&(this.uiTransform=this.node.getComponent(p),this.graphics.clear(),this.graphics.fillColor.set(0,0,0,200),this.graphics.rect(-388,-724,this.uiTransform.contentSize.width+12,this.uiTransform.contentSize.height),this.graphics.fill())},i}(r))||a);i._RF.pop()}}}));

System.register("chunks:///_virtual/popupStop.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var t,n,p,e,i;return{setters:[function(o){t=o.inheritsLoose},function(o){n=o.cclegacy,p=o._decorator,e=o.Input,i=o.Component}],execute:function(){var u;n._RF.push({},"d9d11C1GqpBIavkY/LYnebM","popupStop",void 0);var r=p.ccclass;p.property,o("Popup",r("Popup")(u=function(o){function n(){return o.apply(this,arguments)||this}t(n,o);var p=n.prototype;return p.onLoad=function(){this.node.on(e.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(e.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(e.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},p.onTouchStart=function(o){o.propagationStopped=!0},p.onTouchEnd=function(o){o.propagationStopped=!0},n}(i))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/progressbar.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,i,n,a,o,s,l,u,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,s=e.Sprite,l=e.Label,u=e.UITransform,c=e.Component}],execute:function(){var p,h,f,g,b,d,m;a._RF.push({},"0baedaf/wBHH5rW7CKDj45f","progressbar",void 0);var _=o.ccclass,y=o.property;e("ProgressBar",(p=_("ProgressBar"),h=y(s),f=y(l),p((d=t((b=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"fill",d,n(t)),i(t,"label",m,n(t)),t._currentValue=0,t._maxValue=10,t}r(t,e);var a=t.prototype;return a.start=function(){this.updateProgressBar()},a.updateProgressBar=function(){if(this.fill&&this.label){var e=this._currentValue/this._maxValue;this.fill.node.getComponent(u).setContentSize(this.node.getComponent(u).contentSize.width*e,this.fill.node.getComponent(u).contentSize.height),this.label.string=this._currentValue+"/"+this._maxValue}},a.setProgress=function(e){this._currentValue=Math.min(e,this._maxValue),this.updateProgressBar()},a.setMaxValue=function(e){this._maxValue=e,this.updateProgressBar()},t}(c)).prototype,"fill",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=t(b.prototype,"label",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=b))||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/roundBox.ts",["./rollupPluginModLoBabelHelpers.js","cc","./env"],(function(t){var e,r,i,n,a,o,s,h,u,p,l,d,c,f,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.initializerDefineProperty,i=t.inheritsLoose,n=t.assertThisInitialized,a=t.createClass},function(t){o=t.cclegacy,s=t.SpriteAtlas,h=t.SpriteFrame,u=t.Enum,p=t.CCInteger,l=t._decorator,d=t.NodeEventType,c=t.UITransform,f=t.UIRenderer},function(t){m=t.DEV}],execute:function(){var y,_,g,b,v,D,M,x,z,F,C,S,w,R,B,T,k,O,I,E,U,N,P,A,j,L;o._RF.push({},"d7acdht5zdFR5TVZ/+xo0sF","roundBox",void 0);var V=t("SizeMode",function(t){return t[t["CUSTOM: 自定义尺寸"]=0]="CUSTOM: 自定义尺寸",t[t["TRIMMED: 原始尺寸裁剪透明像素"]=1]="TRIMMED: 原始尺寸裁剪透明像素",t[t["RAW: 图片原始尺寸"]=2]="RAW: 图片原始尺寸",t}({})),W=[0,9,11,0,11,1,2,8,10,2,4,8,3,5,7,3,7,6],H=l,Z=H.ccclass,G=H.property,q=H.menu,X=(y=Z("Corner"),_=G({displayName:m}),g=G({displayName:m}),b=G({displayName:m}),v=G({displayName:m}),y((x=e((M=function(){r(this,"leftBottom",x,this),r(this,"rightBottom",z,this),r(this,"leftTop",F,this),r(this,"rightTop",C,this),this.visible=null}).prototype,"leftBottom",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),z=e(M.prototype,"rightBottom",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),F=e(M.prototype,"leftTop",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),C=e(M.prototype,"rightTop",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),D=M))||D);t("RoundBox",(S=q("Public/RoundBox"),w=G({type:s,readonly:!0}),R=G({type:h}),B=G({type:u(V)}),T=G({type:p,displayName:m}),k=G({displayName:m}),O=G({displayName:m}),Z(I=S((U=e((E=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,r(e,"atlas",U,n(e)),r(e,"_spriteFrame",N,n(e)),r(e,"_sizeMode",P,n(e)),r(e,"_segment",A,n(e)),r(e,"_radius",j,n(e)),r(e,"_corner",L,n(e)),e}i(e,t);var o=e.prototype;return o.__preload=function(){t.prototype.__preload.call(this),this._assembler={updateColor:this.updateColor.bind(this),updateRenderData:this.onFlushed.bind(this),fillBuffers:this.fillBuffer.bind(this)}},o.onLoad=function(){t.prototype.onLoad.call(this),this.updateSpriteFrame(),this.updateCorner(),this.createBuffer(),this.node.on(d.SIZE_CHANGED,this.onSizeChanged,this)},o.onDestroy=function(){t.prototype.onDestroy.call(this),this.node.off(d.SIZE_CHANGED,this.onSizeChanged,this)},o.updateCorner=function(){var t=this._corner;t.visible=[t.leftBottom,t.rightBottom,t.rightTop,t.leftTop]},o.createBuffer=function(){this.destroyRenderData();for(var t=this._renderData=this.requestRenderData(),e=0,r=0,i=this._corner.visible;r<4;i[r++]&&++e);t.dataLength=12+(this.segment-1)*e,t.resize(t.dataLength,3*(6+this.segment*e)),this._updateColor(),this.updateIData()},o.fillBuffer=function(){var t=this._renderData,e=t.chunk;if(this.node.hasChangedFlags||t.vertDirty){for(var r=e.vb,i=t.data,n=this.node.worldMatrix,a=n.m00,o=n.m01,s=n.m04,h=n.m05,u=n.m12,p=n.m13,l=0,d=0,c=r.length,f=t.floatStride;l<c;l+=f,++d){var m=i[d].x,y=i[d].y;r[l]=a*m+s*y+u,r[l+1]=o*m+h*y+p}t.vertDirty=!1}for(var _=e.vertexOffset,g=e.meshBuffer,b=g.iData,v=e.ib,D=0,M=t.indexCount,x=g.indexOffset;D<M;b[x++]=_+v[D++]);g.indexOffset+=t.indexCount},o.updateMaterial=function(){t.prototype.updateMaterial.call(this),null!=this._customMaterial||(this._customMaterial=this.getSharedMaterial(0))},o.onSizeChanged=function(){if(this._spriteFrame){var t=this.node.getComponent(c);switch(this._sizeMode){case V["TRIMMED: 原始尺寸裁剪透明像素"]:var e=this._spriteFrame._rect;if(t.width===e.width&&t.height===e.height)return;break;case V["RAW: 图片原始尺寸"]:var r=this._spriteFrame._originalSize;if(t.width===r.width&&t.height===r.height)return}this._sizeMode=V["CUSTOM: 自定义尺寸"]}},o.updateSpriteFrame=function(){this.spriteFrame?(this._renderData&&(this._renderData.textureDirty=!0),this.updateSizeMode()):this.atlas=null},o.updateSizeMode=function(){var t;if(this._spriteFrame){var e=null!=(t=this.node.getComponent(c))?t:this.node.addComponent(c);switch(this._sizeMode){case V["TRIMMED: 原始尺寸裁剪透明像素"]:e.setContentSize(this._spriteFrame._rect.size);break;case V["RAW: 图片原始尺寸"]:e.setContentSize(this._spriteFrame._originalSize)}}},o.onFlushed=function(){var t=this._spriteFrame;t&&(this.updateVData(),this._renderData.updateRenderData(this,t))},o.updateVData=function(){var t=this._renderData,e=t.data,r=this.node._uiProps.uiTransformComp,i=r.width,n=r.height,a=r.anchorX,o=r.anchorY,s=-i*a,h=-n*o,u=i*(1-a),p=n*(1-o),l=Math.min(this._radius,Math.min(i,n)/2),d=s+l,c=h+l,f=u-l,m=p-l,y=this._corner;e[0].x=d,e[0].y=y.leftBottom?c:h,e[1].x=s,e[1].y=e[0].y,e[2].x=d,e[2].y=h,e[3].x=f,e[3].y=y.rightBottom?c:h,e[4].x=f,e[4].y=h,e[5].x=u,e[5].y=e[3].y,e[6].x=f,e[6].y=y.rightTop?m:p,e[7].x=u,e[7].y=e[6].y,e[8].x=f,e[8].y=p,e[9].x=d,e[9].y=y.leftTop?m:p,e[10].x=d,e[10].y=p,e[11].x=s,e[11].y=e[9].y;for(var _=Math.PI/(this._segment<<1),g=Math.sin(_),b=Math.cos(_),v=y.visible,D=0,M=12;D<4;++D)if(v[D])for(var x=3*D,z=e[x].x,F=e[x].y,C=e[x+1].x-z,S=e[x+1].y-F,w=0,R=this._segment-1;w<R;++w)e[M].x=z+C*b-S*g,e[M].y=F+S*b+C*g,C=e[M].x-z,S=e[M].y-F,++M;for(var B=t.chunk.vb,T=3,k=B.length,O=t.floatStride,I=0;T<k;T+=O,++I)B[T]=(e[I].x-s)/i,B[T+1]=(e[I].y-h)/n;this.fitUV(B)},o.fitUV=function(t){if(this.spriteFrame){var e=this.spriteFrame.uv;if(this.spriteFrame._rotated)for(var r=e[0],i=e[1],n=e[4]-r,a=e[3]-i,o=3,s=t.length,h=this._renderData.floatStride;o<s;o+=h){var u=t[o];t[o]=r+t[o+1]*n,t[o+1]=i+u*a}else{r=e[0],i=e[1],n=e[2]-r,a=e[5]-i;for(var p=3,l=t.length,d=this._renderData.floatStride;p<l;p+=d)t[p]=r+t[p]*n,t[p+1]=i+t[p+1]*a}}},o.updateColor=function(){for(var t=this._renderData,e=t.chunk.vb,r=this.color,i=r.r/255,n=r.g/255,a=r.b/255,o=r.a/255,s=5,h=e.length,u=t.floatStride;s<h;s+=u)e[s]=i,e[s+1]=n,e[s+2]=a,e[s+3]=o},o.updateIData=function(){for(var t=this._renderData,e=new Uint16Array(t.indexCount),r=0;r<W.length;r++)e[r]=W[r];for(var i=W.length,n=this._corner.visible,a=36,o=0;o<4;++o)if(n[o]){for(var s=3*o,h=s+1,u=Math.floor(a/3),p=0,l=this._segment-1;p<l;++p)e[i++]=s,e[i++]=h,e[i++]=u,h=u++,a+=3;e[i++]=s,e[i++]=h,e[i++]=s+2}t.chunk.setIndexBuffer(e)},o._render=function(t){t.commitComp(this,this._renderData,this._spriteFrame,this._assembler,null)},o._canRender=function(){var e;return t.prototype._canRender.call(this)&&!(null==(e=this._spriteFrame)||!e.texture)},a(e,[{key:"spriteFrame",get:function(){return this._spriteFrame},set:function(t){this._spriteFrame=t,this.updateSpriteFrame(),this.markForUpdateRenderData()}},{key:"sizeMode",get:function(){return this._sizeMode},set:function(t){this._sizeMode=t,this.updateSizeMode()}},{key:"segment",get:function(){return this._segment},set:function(t){this._segment=Math.max(t,1),this.createBuffer(),this.markForUpdateRenderData()}},{key:"radius",get:function(){return this._radius},set:function(t){this._radius=Math.max(t,0),this.markForUpdateRenderData()}},{key:"corner",get:function(){return this._corner},set:function(t){this._corner=t,this.updateCorner(),this.createBuffer(),this.markForUpdateRenderData()}}]),e}(f)).prototype,"atlas",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(E.prototype,"_spriteFrame",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),e(E.prototype,"spriteFrame",[R],Object.getOwnPropertyDescriptor(E.prototype,"spriteFrame"),E.prototype),P=e(E.prototype,"_sizeMode",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return V["TRIMMED: 原始尺寸裁剪透明像素"]}}),e(E.prototype,"sizeMode",[B],Object.getOwnPropertyDescriptor(E.prototype,"sizeMode"),E.prototype),A=e(E.prototype,"_segment",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),e(E.prototype,"segment",[T],Object.getOwnPropertyDescriptor(E.prototype,"segment"),E.prototype),j=e(E.prototype,"_radius",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),e(E.prototype,"radius",[k],Object.getOwnPropertyDescriptor(E.prototype,"radius"),E.prototype),L=e(E.prototype,"_corner",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new X}}),e(E.prototype,"corner",[O],Object.getOwnPropertyDescriptor(E.prototype,"corner"),E.prototype),I=E))||I)||I));o._RF.pop()}}}));

System.register("chunks:///_virtual/roundedRect.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,r,o,i,c,a,u,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,c=e._decorator,a=e.Graphics,u=e.UITransform,s=e.Component}],execute:function(){var d,p,l;i._RF.push({},"8923a3S7p9O/q9XJbdvZVSK","roundedRect",void 0);var h=c.ccclass,R=c.property;e("RoundedRect",h("RoundedRect")((l=t((p=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return t=e.call.apply(e,[this].concat(i))||this,r(t,"cornerRadius",l,o(t)),t}n(t,e);var i=t.prototype;return i.start=function(){this.drawRoundedRect()},i.drawRoundedRect=function(){var e=this.getComponent(a);if(e){var t=this.node.getComponent(u).contentSize.width,n=this.node.getComponent(u).contentSize.height,r=this.cornerRadius;e.clear(),e.roundRect(0,0,t,n,r),e.fill()}},t}(s)).prototype,"cornerRadius",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 15}}),d=p))||d);i._RF.pop()}}}));

System.register("chunks:///_virtual/roundedRectMask.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,i,n,o,a,s,u;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,s=e.Sprite,u=e.Component}],execute:function(){var c,p,l,d,f;o._RF.push({},"f35a7svNopA3rszgkv5L00S","roundedRectMask",void 0);var v=a.ccclass,y=a.property;e("RoundedCorner",(c=v("RoundedCorner"),p=y(s),c((f=r((d=function(e){function r(){for(var r,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o))||this,i(r,"sprite",f,n(r)),r}t(r,e);var o=r.prototype;return o.start=function(){this.updateRadius(20)},o.updateRadius=function(e){var r=this.sprite.material;r&&r.setProperty("radius",e)},r}(u)).prototype,"sprite",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),l=d))||l));o._RF.pop()}}}));

System.register("chunks:///_virtual/roundedSprite.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,i,r,o,a,d,s,u,c,p,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,d=e.Sprite,s=e.Node,u=e.Graphics,c=e.Mask,p=e.UITransform,l=e.Component}],execute:function(){var h,f,R,y,g,v;o._RF.push({},"37952j0ZIRJCYmF0ikm0XwD","roundedSprite",void 0);var C=a.ccclass,S=a.property;e("RoundedSprite",(h=C("RoundedSprite"),f=S(d),h((g=t((y=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"sprite",g,r(t)),i(t,"radius",v,r(t)),t}n(t,e);var o=t.prototype;return o.start=function(){this.createRoundedMask(),this.node.on(s.EventType.SIZE_CHANGED,this.onSizeChanged,this)},o.onSizeChanged=function(){var e=this.node.getChildByName("RoundedMask");if(e){var t=e.getComponent(u);this.drawRoundedRect(t)}},o.createRoundedMask=function(){var e=new s("RoundedMask");e.setParent(this.node),e.setSiblingIndex(0),e.addComponent(c).type=c.Type.GRAPHICS_RECT;var t=e.addComponent(u);this.drawRoundedRect(t),this.sprite.node.setParent(e)},o.drawRoundedRect=function(e){e.clear();var t=this.node.getComponent(p),n=t.width,i=t.height;e.roundRect(-n/2,-i/2,n,i,this.radius),e.fill()},o.onDestroy=function(){this.node.off(s.EventType.SIZE_CHANGED,this.onSizeChanged,this)},t}(l)).prototype,"sprite",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(y.prototype,"radius",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),R=y))||R));o._RF.pop()}}}));

System.register("chunks:///_virtual/scaleAction.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,t,n,o,a,s,r,l,c,p,u,h;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,s=e._decorator,r=e.Node,l=e.CCInteger,c=e.CCFloat,p=e.tween,u=e.Vec3,h=e.Component}],execute:function(){var f,d,g,b,y,M,v,m,w,C,x,z,A;a._RF.push({},"08626Hd659EUqUjf1nWCufi","scaleAction",void 0);var F=s.ccclass,_=s.property;e("scaleAction",(f=F("scaleAction"),d=_(r),g=_(l),b=_(c),y=_(c),M=_(Boolean),f((w=i((m=function(e){function i(){for(var i,t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return i=e.call.apply(e,[this].concat(a))||this,n(i,"nodes",w,o(i)),n(i,"sleep",C,o(i)),n(i,"scaleMax",x,o(i)),n(i,"scaleMin",z,o(i)),n(i,"isChild",A,o(i)),i}t(i,e);var a=i.prototype;return a.start=function(){var e=this;if(this.isChild)this.nodes.children.forEach((function(i){var t=p().target(i).to(e.sleep,{scale:new u(e.scaleMax,e.scaleMax,0),position:i.position},{easing:"smooth"}).to(e.sleep,{scale:new u(e.scaleMin,e.scaleMin,0),position:i.position},{easing:"smooth"});p().target(i).repeatForever(t).start()}));else{var i=p().target(this.node).to(this.sleep,{scale:new u(this.scaleMax,this.scaleMax,0),position:this.node.position},{easing:"smooth"}).to(this.sleep,{scale:new u(this.scaleMin,this.scaleMin,0),position:this.node.position},{easing:"smooth"});p().target(this.node).repeatForever(i).start()}},a.update=function(e){},i}(h)).prototype,"nodes",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=i(m.prototype,"sleep",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=i(m.prototype,"scaleMax",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=i(m.prototype,"scaleMin",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=i(m.prototype,"isChild",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),v=m))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/sceneSwitcher.ts",["./rollupPluginModLoBabelHelpers.js","cc","./genBlock.ts","./globalData.ts","./genInfo.ts","./audioManager.ts","./loadData.ts"],(function(e){var n,t,i,o,c,s,a,r,l,u,f,h,S;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){c=e.cclegacy,s=e._decorator,a=e.director,r=e.Component},function(e){l=e.GenBlock},function(e){u=e.GlobalData},function(e){f=e.GenInfo},function(e){h=e.AudioMgr},function(e){S=e.i18n}],execute:function(){var d,p,m,g,I;c._RF.push({},"90faepncc5I9Krc1g/FBUFw","sceneSwitcher",void 0);var w=s.ccclass,y=s.property;e("SceneSwitcher",w("SceneSwitcher")(((I=function(e){function n(){for(var n,t=arguments.length,c=new Array(t),s=0;s<t;s++)c[s]=arguments[s];return n=e.call.apply(e,[this].concat(c))||this,i(n,"sceneName",m,o(n)),i(n,"isStolen",g,o(n)),n}t(n,e),n.getInstance=function(){return n._instance};var c=n.prototype;return c.onLoad=function(){n._instance=this},c.switchScene=function(){var e=this,n=u.getInstance();if(this.sceneName){if("main"!==this.sceneName)l.getInstance().resetAllSchedule(),n.isStolen=!1;if("main"===this.sceneName&&(n.isStolen=this.isStolen,n.isStolen&&(n.stolenId=this.node.userId)),"airdrop"===this.sceneName)return void n.setTipsLabel(S.stayTuned);a.loadScene(this.sceneName,(function(t){if(t)console.error("Failed to load scene:",e.sceneName,t);else{if(console.log("Scene loaded:",e.sceneName),h.inst.onSceneChange(),e.isStolen){var i=f.getInstance();n.isStolenUISwitch(),i.requestFriendInfo()}e.isStolen||"main"!==e.sceneName||n.isNotStolenUISwitch()}}))}else console.warn("Scene name is empty!")},n}(r))._instance=void 0,m=n((p=I).prototype,"sceneName",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),g=n(p.prototype,"isStolen",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),d=p))||d);c._RF.pop()}}}));

System.register("chunks:///_virtual/seedEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./dialog.ts","./genBag.ts"],(function(t){var e,n,o,a,r,i,s;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,a=t.Node,r=t.Component},function(t){i=t.Dialog},function(t){s=t.GenBag}],execute:function(){var c;n._RF.push({},"3e9dakXua5OYrmgJ+kfP3s1","seedEffect",void 0);var u=o.ccclass;t("SeedEffect",u("SeedEffect")(c=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))||this).targetNode=null,e.targetData=void 0,e}e(n,t);var o=n.prototype;return o.setTargetNode=function(t,e){this.targetNode=t,this.targetData=e,this.targetNode.on(a.EventType.MOUSE_DOWN,this.onMouseDown,this),this.targetNode.on(a.EventType.TOUCH_START,this.onTouchStart,this)},o.onTouchStart=function(){this.emitEvent()},o.onMouseDown=function(){this.emitEvent()},o.emitEvent=function(){var t=i.getInstance();if(t){var e=s.getInstance();t.setTargetSeed(this.targetData),e.farmlandPlant()}},n}(r))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/soundControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./audioManager.ts","./switchButton.ts","./globalData.ts"],(function(n){var t,o,s,i,e,u;return{setters:[function(n){t=n.inheritsLoose},function(n){o=n.cclegacy,s=n._decorator},function(n){i=n.AudioMgr},function(n){e=n.SwitchButton},function(n){u=n.GlobalData}],execute:function(){var a,r;o._RF.push({},"4410c4r6PdBJKNBhp+Pa/Cr","soundControl",void 0);var c=s.ccclass;s.property,n("SoundControl",c("SoundControl")(((r=function(n){function o(){return n.apply(this,arguments)||this}t(o,n),o.getInstance=function(){return o._instance};var s=o.prototype;return s.onLoad=function(){var n=u.getInstance();o._instance=this,this.isOn=n.soundIsEnable,this.init()},s.start=function(){},s.toggleSwitch=function(n){var t=u.getInstance();t.soundIsEnable=!t.soundIsEnable,this.isOn=!this.isOn,this.init(),i.inst.soundEnabled=!i.inst.soundEnabled},o}(e))._instance=void 0,a=r))||a);o._RF.pop()}}}));

System.register("chunks:///_virtual/switchButton.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,e,n,o,r,s,l,a,c,u,h;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,l=t.Node,a=t.Vec3,c=t.Color,u=t.Label,h=t.Component}],execute:function(){var p,d,g,f,b,w,y,C;r._RF.push({},"311f2KSDWRM/riI5oXCisWs","switchButton",void 0);var m=s.ccclass,v=s.property;t("SwitchButton",(p=m("SwitchButton"),d=v(l),g=v(l),p((w=i((b=function(t){function i(){for(var i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return i=t.call.apply(t,[this].concat(r))||this,n(i,"slider",w,o(i)),n(i,"background",y,o(i)),n(i,"isOn",C,o(i)),i}e(i,t);var r=i.prototype;return r.onLoad=function(){this.node.on(l.EventType.TOUCH_END,this.toggleSwitch,this),this.init()},r.toggleSwitch=function(t){this.isOn=!this.isOn,this.init()},r.init=function(){var t=this.background.getComponent("DrawRoundedRect");this.isOn?(this.slider.setPosition(new a(13,3,0)),t.fillColor=new c(159,180,106),this.slider.getChildByName("Label").getComponent(u).string="ON"):(this.slider.setPosition(new a(-54,3,0)),t.fillColor=new c(221,221,221),this.slider.getChildByName("Label").getComponent(u).string="OFF"),t.onLoad()},i}(h)).prototype,"slider",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=i(b.prototype,"background",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=i(b.prototype,"isOn",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),f=b))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/task.ts",["./rollupPluginModLoBabelHelpers.js","cc","./loadData.ts","./globalData.ts","./http.ts","./loadingUI.ts","./drawRoundedRect.ts","./utils.ts","./dialog.ts","./genericObjectPool.ts"],(function(e){var t,i,a,n,r,o,s,l,h,d,g,c,m,y,C,u,B,N,p,f,k,v,b,D,I,w,T;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,n=e.assertThisInitialized,r=e.extends,o=e.asyncToGenerator},function(e){s=e.cclegacy,l=e._decorator,h=e.Node,d=e.UITransform,g=e.Label,c=e.Color,m=e.Sprite,y=e.Component,C=e.resources,u=e.SpriteAtlas},function(e){B=e.i18n,N=e.dayList},function(e){p=e.GlobalData},function(e){f=e.httpRequest},function(e){k=e.LoadingUI},function(e){v=e.DrawRoundedRect},function(e){b=e.debounceMethod,D=e.getStartOfDayTimestamp,I=e.isDifferenceBetweenTimes},function(e){w=e.Dialog},function(e){T=e.GenericObjectPool}],execute:function(){var L,U,x,_,R,S,P,E,z,M,F,G,O,A,H,q,Y,j,X,J,K,V,W,Z;s._RF.push({},"95101Ysi/ZGE5D3Gw+couVa","task",void 0);var Q=l.ccclass,$=l.property;e("task",(L=Q("task"),U=$(h),x=$(h),_=$(h),R=$(Number),S=$(h),P=$(h),E=$(h),z=$(h),M=$(Number),F=b(1e3),L((A=t((O=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,a(t,"UDayTitle",A,n(t)),a(t,"UDayList",H,n(t)),a(t,"UDayItem",q,n(t)),a(t,"daySpacingX",Y,n(t)),a(t,"UDayContainer",j,n(t)),a(t,"UTaskContainer",X,n(t)),a(t,"UTaskList",J,n(t)),a(t,"UTaskItem",K,n(t)),a(t,"dayList",V,n(t)),a(t,"taskList",W,n(t)),a(t,"taskSpacingY",Z,n(t)),t._checkInHistory=void 0,t._checkInStatus=void 0,t._currentDayIndex=0,t._isFirstLoop=!0,t.iconAtlas=null,t}i(t,e);var s=t.prototype;return s.onLoad=function(){this.init()},s.init=function(){var e=o((function*(){var e=this;yield new Promise((function(t){C.load("iconList",u,(function(i,a){i||(e.iconAtlas=a),t()}))})),T.instance.hasPool("dayItem")||T.instance.registerPool("dayItem",{prefab:this.UDayItem,initialSize:7,maxSize:31}),T.instance.hasPool("taskItem")||T.instance.registerPool("taskItem",{prefab:this.UTaskItem,initialSize:5,maxSize:50}),this.UDayItem&&(this.UDayItem.active=!1),this.UTaskItem&&(this.UTaskItem.active=!1),this.getCheckInData(),this.getTaskList(),this.UTaskContainer.getComponent(k).show(),this.UDayContainer.getComponent(k).show()}));return function(){return e.apply(this,arguments)}}(),s.orgDayList=function(){var e=[].concat(N),t=this._checkInHistory.checkin_days.map(D).sort((function(e,t){return e-t})),i=D(this._checkInHistory.current_day);if(0!==t.length){var a=t[t.length-1];if(I(i,a)>2)this.dayList=e;else{var n=t[0],r=I(i,n);this._currentDayIndex=r-1,this._checkInStatus.has_checked_in_today&&r++,e.forEach((function(e,t){t<r-1&&(e.checkIn=1)})),this.dayList=e}}else this.dayList=e},s.getNextBigRewardFromSuffix=function(e,t){for(var i=[2,3,4,5,6],a=0;a<t.length;a++){var n=t[a];if(-1!==i.indexOf(n.rewardType))return{daysUntilReward:n.id-e,reward:n.reward,rewardType:n.rewardType}}return null},s.calculateContinuousDays=function(e,t,i){if(0===e.length)return 0;var a=e.map((function(e){var t=new Date(i);return t.setDate(i.getDate()+e),t})),n=t-a[a.length-1];if(Math.floor(n/864e5)>1)return 0;for(var r=0,o=new Date(t);;){if(!a.some((function(e){return e.getDate()===o.getDate()&&e.getMonth()===o.getMonth()&&e.getFullYear()===o.getFullYear()})))break;r++,o.setDate(o.getDate()-1)}return r},s.convertToRelativeDays=function(e){var t=e[0];return e.map((function(e){return Math.floor((e-t)/864e5)}))},s.getCurrentDayDifference=function(e,t){var i=e-t;return Math.floor(i/864e5)},s.processDays=function(e,t,i,a){var n=JSON.parse(JSON.stringify(t[0]));n.checkIn=2;e[0];for(var o=this.getCurrentDayDifference(i,a),s=(Array.from({length:o+1},(function(e,t){return t})),[]),l=0;l<=o;)if(e.includes(l)){for(var h=l+1;h<=o&&e.includes(h);)h++;for(var d=h-l,g=0;g<d;g++){var c=r({},t[g],{checkIn:1});c.title="Day "+(g+1),s.push(c)}l=h}else{var m=r({},n,{id:s.length+1,checkIn:2});m.title="Day 1",s.push(m),l++}return s},s.createDayList=function(){var e=this;this.orgDayList();var t=this.UDayItem.getComponent(d).contentSize.width,i=this.UDayItem.position.x,a=this.UDayItem.position.y;this.dayList.forEach((function(n,r){var o=i+r*(t+e.daySpacingX),s=T.instance.get("dayItem");e.UDayList.addChild(s),s.active=!0,s.setPosition(o,a),s.getChildByName("Title").getComponent(g).string=n.title,e._currentDayIndex===r&&(s.getChildByName("Border").getComponent(v).fillColor=new c(255,205,92),s.getChildByName("Border").getComponent(v).reRender()),1===n.checkIn||2===n.checkIn?(s.getChildByName("Mask").active=!0,1===n.checkIn&&(s.getChildByName("Mask").getChildByName("Correct").active=!0,s.getChildByName("Mask").getChildByName("Error").active=!1),2===n.checkIn&&(s.getChildByName("Mask").getChildByName("Correct").active=!1,s.getChildByName("Mask").getChildByName("Error").active=!0)):s.getChildByName("Mask").active=!1,n.extra?(s.getChildByName("Extra").active=!0,s.getChildByName("Extra").getChildByName("Label").getComponent(g).string="+"+n.extra,e.scheduleOnce((function(){var e=s.getChildByName("Extra").getChildByName("Label").getComponent(d).width;s.getChildByName("Extra").getChildByName("Border").getComponent(v).rectWidth=e+10,s.getChildByName("Extra").getChildByName("Border").getComponent(v).reRender()}),0),s.hasExtra=!0,e._isFirstLoop&&(3!==n.rewardType&&4!==n.rewardType||(s.getChildByName("Extra").active=!1))):s.getChildByName("Extra").active=!1;var l="",h=[1,2,5,6],y="";if(e._isFirstLoop)switch(h=[1,2,5,6],n.rewardType){case 1:l="gold";break;case 2:l="gold",y="+"+n.extra;break;case 3:l="oneKeyHarvest",y="one-click harvest";break;case 4:l="scarecrow",y="scarecrow";break;case 5:case 6:l="gold",y="+"+n.extra;break;default:l="gold"}else 1!==n.rewardType&&(y="+"+n.extra),l="gold",h=[1,2,3,4,5,6];if(s.extraContent=y,s.spritePath=l,e.iconAtlas){var C=s.getChildByName("Icon").getComponent(m).getComponent(d);-1!==h.findIndex((function(e){return e===n.rewardType}))?(C.width=40,C.height=40,s.getChildByName("Icon").setPosition(-2,-4,0),s.getChildByName("Number").active=!0,s.getChildByName("Number").getComponent(g).string="+"+n.reward):(s.getChildByName("Icon").setPosition(-2,-12,0),C.width=60,C.height=60,s.getChildByName("Number").active=!1),s.getChildByName("Icon").getComponent(m).spriteFrame=e.iconAtlas.getSpriteFrame(l)}}))},s.findNextDayNumber=function(e){var t=[3,7,12,20,30],i=t.find((function(t){return t>e}));return void 0!==i?i:t[0]+t[t.length-1]},s.updateDayTips=function(){var e=this;this.UDayTitle.getChildByName("Main").getChildByName("Number").getComponent(g).string=this._currentDayIndex+1+"";var t=this._currentDayIndex;this._checkInStatus.has_checked_in_today&&(t+=1);var i=this.findNextDayNumber(t),a=i<30?i-t:i-t-30,n=this.UDayTitle.getChildByName("Sub");n.getChildByName("Number").getComponent(g).string=a+"";var r=n.getChildByName("Reward"),o="",s="";switch(i){case 3:o="gold",s="150";break;case 7:this._isFirstLoop?(o="oneKeyHarvest",s="on-click harvest"):(o="gold",s="300");break;case 12:this._isFirstLoop?(o="scarecrow",s="scarecrow"):(o="gold",s="500");break;case 20:o="gold",s="1000";break;case 30:o="gold",s="5%"}r.getChildByName("Label").getComponent(g).string=s,this.iconAtlas&&(r.getChildByName("Icon").getComponent(m).spriteFrame=this.iconAtlas.getSpriteFrame(o),this.scheduleOnce((function(){var t=e.UDayTitle.getChildByName("Main");t.getChildByName("Suffix").setPosition(t.getChildByName("Prefix").position.x+t.getChildByName("Prefix").getComponent(d).width+t.getChildByName("Number").getComponent(d).width+50,t.getChildByName("Suffix").position.y);var i=n.getChildByName("Number").getComponent(d).contentSize.width,a=n.getChildByName("Prefix").position.x,r=n.getChildByName("Prefix").getComponent(d).width;n.getChildByName("Number"),n.getChildByName("Suffix").setPosition(a+r+i+30,n.getChildByName("Suffix").position.y),n.getChildByName("Reward").setPosition(a+r+i+66+n.getChildByName("Suffix").getComponent(d).width,n.getChildByName("Reward").position.y)}),0))},s.createTaskList=function(){var e=this,t=this.UTaskItem.getComponent(d).contentSize.height,i=this.UTaskItem.position.x,a=this.UTaskItem.position.y;this.taskList.forEach((function(n,r){var o=a-r*(t+e.taskSpacingY),s=T.instance.get("taskItem");e.UTaskList.addChild(s),s.active=!0,s.setPosition(i,o),s.getChildByName("Content").getChildByName("Left").getChildByName("Title").getComponent(g).string=B.task[n.id];var l=s.getChildByName("Content").getChildByName("Left").getChildByName("ProgressBar"),h=l.getComponent(d).contentSize.width;1===n.status?(s.getChildByName("Content").getChildByName("Right").getChildByName("Claim").active=!0,s.getChildByName("Content").getChildByName("Right").getChildByName("InProgress").active=!1,s.getChildByName("Content").getChildByName("Right").getChildByName("Completed").active=!1,s.getChildByName("Content").getChildByName("Right").getChildByName("Claim").getChildByName("Button").task_id=n.id):0===n.status?(s.getChildByName("Content").getChildByName("Right").getChildByName("Claim").active=!1,s.getChildByName("Content").getChildByName("Right").getChildByName("InProgress").active=!0,s.getChildByName("Content").getChildByName("Right").getChildByName("Completed").active=!1):(s.getChildByName("Content").getChildByName("Right").getChildByName("Claim").active=!1,s.getChildByName("Content").getChildByName("Right").getChildByName("InProgress").active=!1,s.getChildByName("Content").getChildByName("Right").getChildByName("Completed").active=!0);l.getChildByName("Label").getComponent(g).string=n.progress+"/"+n.target_progress,l.getChildByName("Bar").getComponent(d).setContentSize(h*Number(n.progress)/Number(n.target_progress),l.getComponent(d).contentSize.height),"POINTS"===n.reward_type?(s.getChildByName("Content").getChildByName("Right").getChildByName("Claim").getChildByName("Gold").active=!0,s.getChildByName("Content").getChildByName("Right").getChildByName("Claim").getChildByName("Sprite").active=!1,s.getChildByName("Content").getChildByName("Right").getChildByName("InProgress").getChildByName("Gold").active=!0,s.getChildByName("Content").getChildByName("Right").getChildByName("InProgress").getChildByName("Sprite").active=!1,s.getChildByName("Content").getChildByName("Right").getChildByName("Claim").getChildByName("Gold").getChildByName("Number").getComponent(g).string=n.reward_value+"",s.getChildByName("Content").getChildByName("Right").getChildByName("InProgress").getChildByName("Gold").getChildByName("Number").getComponent(g).string=n.reward_value+""):"ITEM"===n.reward_type&&(s.getChildByName("Content").getChildByName("Right").getChildByName("Claim").getChildByName("Gold").active=!1,s.getChildByName("Content").getChildByName("Right").getChildByName("Claim").getChildByName("Sprite").active=!0,s.getChildByName("Content").getChildByName("Right").getChildByName("InProgress").getChildByName("Gold").active=!1,s.getChildByName("Content").getChildByName("Right").getChildByName("InProgress").getChildByName("Sprite").active=!0)}))},s.getCheckInData=function(){var e=o((function*(){var e=this;try{var t=yield Promise.all([f("/api/v1/task/checkin/history",{method:"GET"}),f("/api/v1/task/checkin/status",{method:"GET"}),f("/api/v1/farm/u/userInfo",{method:"GET"})]),i=t[0],a=t[1],n=t[2];if(a.ok&&200===a.data.code?(this._checkInStatus=a.data.data,this._checkInStatus.has_checked_in_today?(this.UDayContainer.getChildByName("Button").getChildByName("Label").getComponent(g).string=B.checkedIn,this.UDayContainer.getChildByName("Button").getChildByName("Border").getComponent(v).fillColor=new c(212,213,215),this.UDayContainer.getChildByName("Button").getChildByName("Border").getComponent(v).reRender()):(this.UDayContainer.getChildByName("Button").getChildByName("Label").getComponent(g).string=B.checkIn,this.UDayContainer.getChildByName("Button").getChildByName("Border").getComponent(v).fillColor=new c(255,205,92),this.UDayContainer.getChildByName("Button").getChildByName("Border").getComponent(v).reRender())):console.error("Check-in status request failed with status:",a.status),n.ok&&0===n.data.code?n.data.data.items.length>0?this._isFirstLoop=!1:this._isFirstLoop=!0:console.error("Get userinfo request failed with status:",n.status),i.ok&&200===i.data.code){if(this._checkInHistory=i.data.data,this.UDayList.children.length>0)[].concat(this.UDayList.children).forEach((function(t){t!==e.UDayItem&&T.instance.put("dayItem",t)}));this.createDayList(),this.updateDayTips(),this.UDayContainer.getComponent(k).hide(),this.UDayContainer.getChildByName("Title").active=!0,this.UDayContainer.getChildByName("Button").active=!0,this.UDayContainer.getChildByName("ScrollView").active=!0}else console.error("Check-in history request failed with status:",i.status)}catch(e){console.error("Error fetching check-in data:",e)}}));return function(){return e.apply(this,arguments)}}(),s.checkIn=function(){var e=o((function*(){var e=this,t=p.getInstance(),i=w.getInstance();try{var a=yield f("/api/v1/task/checkin",{method:"POST"});if(a.ok){if(200===a.data.code){t.setTipsLabel(B.checkInSuccess),this.UDayContainer.getChildByName("Button").getChildByName("Label").getComponent(g).string=B.checkedIn,this.UDayContainer.getChildByName("Button").getChildByName("Border").getComponent(v).fillColor=new c(212,213,215),this.UDayContainer.getChildByName("Button").getChildByName("Border").getComponent(v).reRender();var n=this.UDayList.children.find((function(t,i){return i===e._currentDayIndex+1}));n.hasExtra&&(i.extraRewardBox.getChildByName("Reward").getChildByName("Name").getComponent(g).string=B.extraContent+n.extraContent,this.iconAtlas&&(i.extraRewardBox.getChildByName("Reward").getChildByName("Photo").getComponent(m).spriteFrame=this.iconAtlas.getSpriteFrame(n.spritePath)),i.showDialog(null,"ExtraReward"),setTimeout((function(){i.closeDialog(null,"ExtraReward")}),3e3)),this._checkInStatus.has_checked_in_today=!0,this.updateDayTips(),n.getChildByName("Mask").active=!0,n.getChildByName("Mask").getChildByName("Correct").active=!0,n.getChildByName("Mask").getChildByName("Error").active=!1}[].concat(this.UTaskList.children).forEach((function(t){t!==e.UTaskItem&&T.instance.put("taskItem",t)})),this.getTaskList()}else t.setTipsLabel(B.todayChecked)}catch(e){t.setTipsLabel(B.todayChecked),console.error("Error:",e)}}));return function(){return e.apply(this,arguments)}}(),s.getTaskList=function(){var e=o((function*(){try{var e=yield f("/api/v1/task/list",{method:"GET"});if(e.ok)this.UTaskContainer.getComponent(k).hide(),this.taskList=e.data.data,this.createTaskList();else console.error("Request failed with status:",e.status)}catch(e){console.error("Error:",e)}}));return function(){return e.apply(this,arguments)}}(),s.completeTask=function(){var e=o((function*(e){var t=p.getInstance();try{var i=yield f("/api/v1/task/claim",{method:"POST",body:{task_id:e.target.task_id}});if(i.ok){t.setTipsLabel(B.taskCompleted);var a=this.taskList.findIndex((function(t){return t.id===e.target.task_id})),n=this.UTaskList.children[a+1];n.getChildByName("Content").getChildByName("Right").getChildByName("Claim").active=!1,n.getChildByName("Content").getChildByName("Right").getChildByName("InProgress").active=!1,n.getChildByName("Content").getChildByName("Right").getChildByName("Completed").active=!0}else t.setTipsLabel(B.taskUnCompleted),console.error("Request failed with status:",i.status)}catch(e){t.setTipsLabel(B.taskUnCompleted),console.error("Error:",e)}}));return function(t){return e.apply(this,arguments)}}(),t}(y)).prototype,"UDayTitle",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(O.prototype,"UDayList",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(O.prototype,"UDayItem",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(O.prototype,"daySpacingX",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 35}}),j=t(O.prototype,"UDayContainer",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(O.prototype,"UTaskContainer",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(O.prototype,"UTaskList",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(O.prototype,"UTaskItem",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(O.prototype,"dayList",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(O.prototype,"taskList",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=t(O.prototype,"taskSpacingY",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 35}}),t(O.prototype,"completeTask",[F],Object.getOwnPropertyDescriptor(O.prototype,"completeTask"),O.prototype),G=O))||G));s._RF.pop()}}}));

System.register("chunks:///_virtual/telegram.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,n,a,i,o,l,c,p,s;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,i=e.createForOfIteratorHelperLoose,o=e.asyncToGenerator},function(e){l=e.cclegacy,c=e._decorator,p=e.Sprite,s=e.Component}],execute:function(){var u,d,f,g,m;l._RF.push({},"502c4BwQ4lNh6Dh7Vv/7Eo4","telegram",void 0);var w=c.ccclass,h=c.property;e("Telegram",(u=w("Telegram"),d=h(p),u((m=r((g=function(e){function r(){for(var r,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i))||this,n(r,"tgInitData",m,a(r)),r}t(r,e);var l=r.prototype;return l.start=function(){},l.loadTelegramSDK=function(){return new Promise((function(e,r){if(window.Telegram&&window.Telegram.WebApp)return window.Telegram.WebApp.ready(),void e();var t=document.createElement("script");t.src="https://telegram.org/js/telegram-web-app.js",t.onload=function(){window.Telegram.WebApp.ready(),e()},t.onerror=function(e){r(e)},document.head.appendChild(t)}))},l.processInitData=function(){var e,r=null==(e=window.Telegram)||null==(e=e.WebApp)?void 0:e.initData;if(r){for(var t,n=new URLSearchParams(r),a={},o=i(n.entries());!(t=o()).done;){var l=t.value,c=l[0],p=l[1];a[c]=p}window.Telegram.WebApp.initDataUnsafe;window.Telegram.WebApp.onEvent("resize",(function(){})),this.tgInitData=r}},l.initTelegram=function(){var e=o((function*(){try{yield this.loadTelegramSDK(),this.processInitData()}catch(e){}}));return function(){return e.apply(this,arguments)}}(),r}(s)).prototype,"tgInitData",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=g))||f));l._RF.pop()}}}));

System.register("chunks:///_virtual/utils.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,r;return{setters:[function(e){t=e.createForOfIteratorHelperLoose,n=e.asyncToGenerator},function(e){r=e.cclegacy}],execute:function(){function o(e){return e.replace(/([A-Z])/g,"_$1").toLowerCase()}e({buildToken:function(e,t){return t.map((function(t){var n=e[t];return null!=n?t+"="+encodeURIComponent(String(n)):null})).filter((function(e){return null!==e})).join("&")},convertAndFilterKeys:function(e,n){for(var r,a={},u=t(n);!(r=u()).done;){var i=r.value;if(i in e){var c=o(i);a[c]=e[i]}}return a},debounce:function(e,t){var r,o=null,a=null;return function(){for(var u=this,i=arguments.length,c=new Array(i),l=0;l<i;l++)c[l]=arguments[l];return clearTimeout(r),o||(o=new Promise((function(e){a=e}))),r=setTimeout(n((function*(){try{var t=yield e.apply(u,c);a&&a(t)}finally{o=null,a=null}})),t),o}},debounceMethod:function(e){return function(t,n,r){var o=r.value,a=null;return r.value=function(){for(var t=this,n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];a&&clearTimeout(a),a=setTimeout((function(){o.apply(t,r),a=null}),e)},r}},formatNumberShortDynamic:function(e){if(isNaN(e))throw new Error("Input is not a valid number");var t=["","K","M","B","T"],n=0,r=Math.abs(e);for(;r>=1e3&&n<t.length-1;)r/=1e3,n++;return(e<0?"-":"")+r.toFixed(1).replace(/\.0$/,"")+t[n]},formatSeconds:function(e,t){void 0===t&&(t=!1);var n=Math.floor(e/3600),r=Math.floor(e%3600/60),o="";n>0&&(o+=t?n+"h ":n+"h");r>0&&(o+=t?r+"min ":r+"min");return(o+=e%60+"s").trim()},formatSecondsImprove:function(e){var t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=e%60,o="";t>0&&(o+=t+"h");n>0&&(o+=n+"min");(r>0||0===t&&0===n)&&(o+=r+"s");return o||"0s"},formatTimestampToDate:function(e){var t=new Date(e),n=t.getFullYear(),r=(t.getMonth()+1<10?"0":"")+(t.getMonth()+1),o=(t.getDate()<10?"0":"")+t.getDate();return n+"."+r+"."+o},formatToUSDInteger:function(e){if(isNaN(e))throw new Error("Input is not a valid number");return""+Math.floor(e).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},getStartOfDayTimestamp:function(e){var t=new Date(1e3*e),n=t.getFullYear(),r=t.getMonth(),o=t.getDate();return new Date(n,r,o).getTime()},isDifferenceBetweenTimes:function(e,t){var n=function(e){return e<1e12?1e3*e:e},r=n(e),o=n(t),a=Math.abs(r-o);return Math.floor(a/864e5)+1},objectToUrlParams:function(e){return Object.keys(e).map((function(t){var n=e[t];return"object"==typeof n&&null!==n&&(n=JSON.stringify(n)),encodeURIComponent(t)+"="+encodeURIComponent(n)})).join("&")},parseCurrentChatParams:function(){var e={},t=new URLSearchParams(window.location.search),n=t.get("chat_instance"),r=t.get("chat_type");n&&(e.chat_instance=n);r&&(e.chat_type=r);return e}}),r._RF.push({},"42490AW+UZEmLLJMRco7Epy","utils",void 0),r._RF.pop()}}}));

System.register("chunks:///_virtual/websocketManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./loadData.ts"],(function(e){var t,n,s;return{setters:[function(e){t=e.createClass},function(e){n=e.cclegacy},function(e){s=e.tokenMock}],execute:function(){n._RF.push({},"01f4f5dcRhKEaGFpx/criUx","websocketManager",void 0),e("WebSocketManager",function(){function e(){this.ws=null,this.reconnectCount=0,this.MAX_RECONNECT_COUNT=5,this.heartbeatInterval=3e4,this.heartbeatTimer=null,this.messageHandlers=new Map,this.token=void 0}var n=e.prototype;return n.connect=function(e){var t=this;if(this.token=s,this.token)if(this.ws&&this.ws.readyState===WebSocket.OPEN)console.log("Already connected");else{var n=this.buildWebSocketUrl(e,this.token);this.ws=new WebSocket(n),this.ws.onopen=function(){console.log("WebSocket connected to Node.js middleware"),t.reconnectCount=0,t.startHeartbeat()},this.ws.onmessage=function(e){try{var n=JSON.parse(e.data);t.handleMessage(n)}catch(e){console.error("Message parse error:",e)}},this.ws.onerror=function(n){console.error("WebSocket Error:",n),t.reconnect(e,t.token)},this.ws.onclose=function(){console.log("WebSocket closed"),t.reconnect(e,t.token)}}else console.error("Token is required for WebSocket connection.")},n.send=function(e){this.ws&&this.ws.readyState===WebSocket.OPEN?this.ws.send(JSON.stringify(e)):console.error("WebSocket not connected")},n.registerHandler=function(e,t){this.messageHandlers.set(e,t)},n.unregisterHandler=function(e){this.messageHandlers.delete(e)},n.startHeartbeat=function(){var e=this;this.stopHeartbeat(),this.heartbeatTimer=setInterval((function(){e.ws&&e.ws.readyState===WebSocket.OPEN&&e.send({type:"ping"})}),this.heartbeatInterval)},n.stopHeartbeat=function(){this.heartbeatTimer&&(clearInterval(this.heartbeatTimer),this.heartbeatTimer=null)},n.reconnect=function(e,t){var n=this;this.reconnectCount<this.MAX_RECONNECT_COUNT?(this.reconnectCount++,setTimeout((function(){console.log("Reconnecting...("+n.reconnectCount+"/"+n.MAX_RECONNECT_COUNT+")"),n.connect(e)}),8e3)):(console.error("Max reconnection attempts reached"),this.stopHeartbeat())},n.handleMessage=function(e){if("pong"!==e.type){var t=this.messageHandlers.get(e.type);t?t(e):console.warn("No handler for message type: "+e.type)}},n.close=function(){this.ws&&(this.ws.close(),this.ws=null),this.stopHeartbeat()},n.buildWebSocketUrl=function(e,t){var n=new URL(e);return n.searchParams.set("token",t),n.toString()},t(e,null,[{key:"instance",get:function(){return this._instance||(this._instance=new e),this._instance}}]),e}())._instance=void 0,n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});